Bienvenidos a una nueva clase de la asignatura de Fundamentos para la Visualización para el Análisis de Datos. Retomamos actividad después del parón de Navidad, retomamos donde lo dejamos. Vamos a continuar, vamos a hacer una pequeña práctica en Power BI, vamos a empezar a cacharrear con Power BI si es que no lo habéis hecho ya en algún momento. espero que hayáis tenido tiempo en estas dos semanas y media para ir viendo un poco cómo funciona power vía y al menos intentar cargarlo un excel o hacerlo también en tabló fin ir manejando un poco porque al final todo este tipo de programa se aprende como siempre por ensayo y error no ir probando y tratando de hacer algo y por eso como hay tantas opciones como vaya a ver ahora para ir configurando todos los distintos elementos nos podemos perder por eso siempre os digo que hagáis que tengáis ese boceto preparado que tengáis muy claro qué es lo que queréis hacer antes de ponernos con el programa que sea porque luego como digo es fácil perderse y haber pasado dos horas decir pero si no he conseguido todavía hacer nada en fin vamos a ir viendo cómo es la mecánica ahora de power bi y luego iremos viendo de tabló aunque la semana que viene os recuerdo que vamos a tener la segunda masterclass es decir si os acordáis no ya tuvimos la primera con Rafa pues fue justo la última antes de irnos de vacaciones, creo la última o la penúltima, no recuerdo ahora pero tuvimos esa sesión de Masterclass con él y la próxima, que va a ser con Ernesto Zavala, la vamos a tener el próximo viernes y lo que si os quería, bueno, si acaso dejaré también un anuncio para recordarlo que no va a ser a las 3, va a ser a las 4 es decir, vamos a dar un poco más de margen, empezaremos a las 4 y él nos va a enseñar bueno, pues de su experiencia también manejando Power BI nos va a enseñar más cosillas de Power BI de las que vamos a ver hoy y sobre todo también hacia dónde va a ir este programa con el tema de la inteligencia artificial, con herramientas que ha sacado Microsoft como Fabric entonces esa panorámica nos la va a hacer él, hoy vamos a ver, pues ya digo, los rudimentos más básicos de Power BI pero luego podremos ampliar la semana que viene con Ernesto Lo digo porque podéis aprovechar de aquí a la semana que viene a practicar también un poco, a ir viendo Power BI y cualquier duda que vaya surgiendo, pues podemos planteársela también perfectamente. Cualquier duda que tengáis así como un poco más técnica o que veáis que puede resolverla, que contéis también con él. Y yo le he pedido que parte de la charla, que nos deje unos 5 o 10 minutitos al final para poder hacerle alguna pregunta sobre alguna de las cuestiones que nos vaya enseñando. Pero ya digo, recordaré en el tablón de anuncio la clase, la tenéis publicada de todas formas ya a las 4, la podréis ver en vuestro calendario si lo tenéis sincronizado, pero que recordéis que la clase del viernes que viene es a las 4 de la tarde, hora española. ¿De acuerdo? vale, pues sin más vamos a retomar como digo, donde lo dejamos a ver donde tengo el power, aquí vale, no sé si nos dio tiempo, si recordáis si nos dio tiempo a ver un poco el flujo de trabajo, es decir lo más primero a ver, un momentito voy a ponerme aquí el chat vale si nos dio tiempo a ver un poco así por encima no solo la parte de descarga, la interfaz no sé si esto lo llegamos a ver o nos pudimos detener en esto o no llegamos, si lo vimos vale pues nada, un simple recordatorio ahora lo vamos a ver en marcha pero recordad que hay una cinta de opciones donde tenemos todas las herramientas, esto funciona igual igual que en cualquier otro programa de Microsoft, de Office y luego tenemos sobre todo 3 vistas principales, ahora en el Power BI en las últimas actualizaciones han metido dos más, una que es las fórmulas DAX y lo otro que no me acuerdo como se llama, pero las tres fundamentales que vamos a utilizar son estas tres, la del reporte o informe, la de los datos, es decir, donde podemos transformar datos, crear nuevas variables, etc y el modelaje de datos, son las tres fundamentales que vamos a a trabajar y dependiendo de cual tengamos elegida, pues lo que veremos aquí será, tendrá una forma u otra, la parte de datos se parecerá más a la parte de Excel y la parte del modelaje es como una pizarra virtual donde le decimos al modelo cómo están encajados los datos, qué estructura tienen nuestros datos, como para que eso esté en el backend y luego ya vaya funcionando toda la parte de visualizaciones cogiendo a partir de esos datos. Vale, entonces, vimos así por encima el proceso que hay que seguir a la hora de utilizar Power BI o tabló, es decir, a la hora de trabajar con datos, la secuencia de fases básica, extracción de datos, preparación de esos datos, modelado, visualización y informe final. Normalmente, es decir, esta parte es como la más sencilla en principio, si estamos trabajando con archivos locales, Excel, etcétera, pero muchas veces, si estamos trabajando con archivos en servidores de Amazon, en la nube, etcétera, pues hay que hacer un primer momento de configuración para que siempre que se actualice esa base de datos esté sincronizado para que tengamos la última versión. Una vez que tengamos esta parte, habrá que dedicarle un tiempo a la preparación y el modelaje de datos. Y esto incluye ver si hay valores nulos, ver si hay valores rotos, valores que no encajen en la distribución general. Y todo esto lo haremos en esa parte que hemos visto en esa pestaña de datos utilizando lo que es el Query Editor. Ahora lo vemos. y cuando tengamos todo esto, veremos la parte del modelaje, que es como os digo, crear esa estructura relacionando los datos que tenemos para que el programa funcione con todo ello. Y por último, una vez que ya tengamos todo esto, que es lo más tedioso y que es lo que se lleva aproximadamente, Pareto, 80% del tiempo, el restante 20 será centrarnos a hacer la visualización y el dashboard que queremos hacer. Esto no lo veáis siempre como algo secuencial, sino como algo que muchas veces es iterativo. Es decir, que tenemos que volver sobre nuestros propios pasos. Por ejemplo, estamos haciendo el modelaje de datos, nos damos cuenta que hay una variable que no habíamos tenido en cuenta, podemos volver atrás y volver a transformar esos datos y realizar de nuevo el modelaje. En estas transparencias, yo creo que ya las subí en su momento, las tenéis, os explico un poco más toda la parte de conexión y del hecho de que se puedan actualizar los datos, el hecho de que podamos utilizar datos sincronizados. Y ahora lo que vamos a intentar ver un poco más en Power BI es cómo utilizando el Query Editor podemos crear, por ejemplo, nuevas variables. De esta parte, a mí me interesa sobre todo que os deis cuenta de la parte de los pasos. Fundamentalmente es que cualquier transformación que nosotros vamos haciendo al dataset original va a quedar aquí guardada en los pasos que vamos a ir dando de tal forma que cuando realizamos una nueva carga de datos no hay que volver a hacer todos esos pasos, sino que esos pasos ya están almacenados y hace ese procesamiento de una manera automática. Es decir, solo hay que hacerlo una vez. Es como una especie de macro, ¿no? Para los que conozcáis las macro en Office. Y la otra ventaja es que si vemos que un paso no es el que nos hemos equivocado o lo hemos hecho mal, imaginaos que hemos configurado una columna como texto y era número, podemos eliminar cualquiera de los pasos. Es decir, no es como deshacer, porque deshacer sí que va dando un paso hacia atrás de manera secuencial. Aquí podemos eliminar cualquiera de los pasos intermedios. Ahora lo vemos como digo. Y una vez que tenemos todos esos pasos, le daremos, porque es otra parte importante del flujo, es decir, no es como en Excel, que nosotros modificamos lo que sea y eso se queda hecho, sino que vamos haciendo esos pasos, se queda grabado en el Query Editor y cuando aplicamos esos pasos es cuando hace todas las transformaciones y lo prepara todo. Y una vez que tenemos esto, ahí explico algunas herramientas, fundamentalmente la barra de transformar, donde se pueden transponer filas, columnas, donde se pueden detestar, reemplazar valores, en fin, se puede jugar y limpiar, preprocesar todo lo que necesitemos. Pivotar columnas también puede ser importante cuando queremos, por ejemplo, imagina que en una columna tenemos tres valores y queremos separarlos en varias columnas. Todo ese tipo de transformaciones podemos hacerlo y toda la parte de añadir nuevas columnas, es decir, añadir nuevas variables, es decir, todo lo que sea, añadir más variables, extrayéndolas de los que ya tenemos o a partir de una columna condicional, a partir de otra variable. En fin, todo ese tipo de transformaciones las podemos hacer aquí a través de ese query editor. Vale. Y la parte del modelaje, que yo creo que lo he explicado ya alguna vez. Fundamentalmente es que tenemos una tabla principal a través de la que necesitamos leer datos de otras tablas. El ejemplo más típico es un Excel, donde tenemos varias hojas. el que yo voy a pasar ahora tiene esa misma estructura. Tenemos unos pedidos, por ejemplo, donde viene un código de cliente y un código de producto. Entonces, lo que hacemos es decirle a Power BI o al programa que sea, le estamos diciendo cuando construimos ese modelaje de datos, le estamos diciendo, vale, cuando llegue a esa hoja de pedido, cuando vea un código de producto, lo busca en esta tabla y cuando vea un código de pedido, o sea, un código de producto, he dicho producto, un código de producto y otro de cliente, lo busque en esas tablas. ¿De acuerdo? De tal forma que una vez que está todo eso conectado, las visualizaciones, no importa de qué hoja, está todo interconectado y nos va a mostrar los datos con esa estructura que le hemos dicho, con ese modelaje de datos. Para ello, o sea, para creación de variables, creación de fórmulas, Power BI utiliza un lenguaje similar a lo de hacer fórmulas en Excel, que se llama DAX. normalmente, muchas veces no muchas veces arrastrando y con las propias transformaciones que tenemos en los menús, no hay que realizar no es como el Excel que hay que poner el igual y hacer la columna o sea, hacer la fórmula, no tenemos que saberlo como tal pero si controlamos un poquito DAX podremos hacer cosas cada vez más avanzadas es un poco la idea, pero con lo que vamos a hacer aquí no tenemos que profundizar mucho más, simplemente que sepáis que lo que hay de fondo es lenguaje que sirve para hacer ese tipo de operaciones sencillas con los datos y ese tipo de transformaciones que necesitamos hacer, sobre todo cálculo de variables y necesitamos hacer una ratio y todo ese tipo de cuestiones que ahora de hecho haremos con el ejemplo. Y ahí os pongo algún ejemplo, en fin, no quiero detenerme mucho más, una vez que tenemos todo eso, la parte de crear visualizaciones, aquí esto se parece también mucho a Tableau, es decir, es ir diciéndole en el menú que tenemos a la derecha, qué variable es la que queremos colocar en el eje X, cuál queremos colocar en el eje Y, cuál queremos que sirva para clasificar, digamos, por colores o cuáles queremos que aparezcan en el tooltip como información adicional, ¿vale? Es decir, todo este tipo de cuestiones, los colores, el fondo, todo este tipo de cuestiones las iremos configurando en los distintos menús. Aquí es donde especificamos las variables que vamos a utilizar y aquí es donde vamos dándole formato a toda esa visualización. Y el tema de los filtros también es muy importante. Aquí hay una diferencia fundamental también con Tableau. Fijaos, cuando nosotros creamos un dashboard, porque además en Power BI también se pueden hacer gráficos sueltos, pero normalmente lo hacemos en modo que lo que vamos a hacer normalmente es un dashboard. y esos dashboards normalmente están, al estar conectados entre sí, porque beben todos de la misma fuente de datos, hacen la función de filtro. Es decir, la interactividad que generan estos dashboards nos permiten que cuando seleccionemos un dato de cualquiera de los gráficos, podemos decirle a Power BI que queremos que ocurra. Normalmente hay tres opciones, o que no ocurra nada, o que seleccione, es decir, que funcione de filtro, que seleccione el resto, es decir, adapte todo el resto de los gráficos a ese dato que nosotros hemos seleccionado. Imagina que tenemos un mapa con varios países, pues cuando le damos clic a Estados Unidos, todo lo que se ve en el resto de gráficos es referente a ese país en concreto. Y la otra opción es el Highlight. Fundamentalmente es que en lugar de filtrar, es decir, de eliminar todos los datos que en este caso no sean de Estados Unidos, en este caso el highlight lo que hace es resaltar los datos de ese país. Es decir, dejar con un color más claro los de otros países y resaltar. No los quita completamente del dashboard. ¿De acuerdo? Pregunta Ana si la presentación se encuentra en la plataforma. Yo creo que sí la subí. Si no, decímelo y os la subo sobre la marcha. Pero debería estar en archivo. Porque además es la misma. es la del tema 6, que es la misma con la que ya estuvimos viendo Flourish, o sea que en principio debería estar también, ¿vale? Y ya está, y el resto como digo es todo ir jugando con las diferentes opciones para ir configurando e ir viendo qué elementos queremos mostrar o de qué forma los queremos mostrar, muchas veces hay que acordaros de eso que decía con los babes del declutter, es decir, tratar de hacer el esfuerzo de una vez que tenemos todo montado, empezar a quitar los elementos más superfluos. Imaginaos que tenemos, por ejemplo, tres gráficos seguidos que comparten un mismo eje Y, pues a lo mejor el título del eje Y solo nos hace falta en el primer gráfico y en el segundo y tercero lo podemos quitar. Pues nada, simplemente clicando en alguno de estos botones lo vamos configurando a nuestro gusto y dejándolo en lo esencial sin perder sentido. ¿De acuerdo? Acordado siempre. Estoy mirando a ver si está subida. Sí, es la del tema 6, ¿de acuerdo? Sí, eso es, la del tema 6, está subida. Sí, eso es lo que estábamos hablando del lenguaje DAX. Ahora lo vamos a hacer también con un ejemplo, ¿vale? el tema de construir el dashboard, esto también lo vimos en su momento, el hecho de tratar de construirlo de izquierda a derecha y de arriba a abajo, es decir, lo más importante arriba a la izquierda e ir dando información cada vez más específica de manera diagonal, ya vimos que había como dos grandes esquemas, en F o en Z, por la forma que tenemos muchas veces de leer, pero lo fundamental es que métricas, KPIs principales, aquí arriba aquí a la izquierda oa la derecha pongamos los segmentadores menús selectores filtros etcétera y el cuerpo del dashboard que estará aquí no a partir de 4 o 6 visualizaciones normalmente más de 6 ya nos cuesta encajarlo todo vale y poco más no quiero ya digo detenerme mucho más en esto porque ahí tenéis un poco más de información a ver si sigo esto un poco repetir la vista de informe, la vista de datos, la vista de modelo pero esto como lo vamos a ver directamente en Power BI, yo creo que nos podemos mover aquí directamente, entonces voy a pasar en el chat a ver esto es una captura, vale, voy a pasar un par de capturas primero, donde está el chat, lo tenía por aquí ah, vale aquí os voy a pasar un par de capturas no, esto es participar en este momentito chat, aquí os voy a pasar un par de capturas de lo que vamos a intentar hacer ¿de acuerdo? una es el modelaje de datos sencillo y el dashboard que vamos a tratar de construir y ahí va el excel que vamos a utilizar luego subo todo estos archivos por si queréis seguir haciéndolo después de clase o por si no nos da tiempo a hacerlo todo que probablemente siendo las 3 20 no nos dé tiempo para que tratéis de continuar un poco a modo de ejercicio con los datos en esto vamos a utilizar también un fondo sencillo también para que nos sirva usando las transparencias para que nos sirva de fondo y que el dashboard sea un poco más vistoso vale entonces a ver donde tengo power bi hay abierto aquí esto qué es aquí Profesor, enviaste tres archivos buenos días, disculpa es que el primero me dice que no lo puedo ver la imagen, bueno, no te preocupes lo importante es el Excel y si acaso el fondo y el ejemplo de la captura de pantalla por si queréis verlo ok, gracias pero no te preocupes las imágenes me pide Jorge las imágenes vamos a meterlas otra vez a ver si ahora podéis, a lo mejor no se han cargado bien venga vale y a ver y ahora voy a compartir, eso es y así estamos en Power BI, ¿no? ¿Veis mi pantalla ahora mismo? con Power BI Sí, profe Vale, perfecto, María, ¿habéis podido descargar también, sobre todo en Excel? Sí, el Excel ya me descargó, gracias Vale, perfecto, bueno, pues lo primero que vamos a hacer cuando abrimos Power BI pues ya lo hemos dicho, ¿no? En el proceso cargar los datos, entonces vamos a empezar con un origen de datos en este caso que es Excel, o podemos empezar con un libro en blanco y luego decirle que nos importe el libro de Excel y le cargamos el Excel no debería tardar mucho porque es un Excel chiquitito, aunque siempre bueno, tiene unos tiempos de carga, hay que ser paciente con Power BI, con Tableau ocurre igual porque están preparados para manejar grandes cantidades de datos y en general al final si le cargas a base de datos muy grandes son muy buenos trabajando con ellas, pero como digo, hay que tener un poquillo de paciencia lo primero que hacemos cuando se abre, nos enseña un poco como unas tablas que él ya predetecta o nos pregunta si lo que queremos utilizar son las pestañas que tenemos en Excel Y aquí podemos ya previsualizar lo que tenemos en esas pestañas de Excel. Vamos a decirle que queremos utilizar tanto fechas como gastos como presupuestos. Aquí en este caso lo que tenemos, esto es un análisis de los gastos del área de recursos humanos de una empresa. Entonces tenemos la hoja de gastos, donde tenemos la fecha en la que se produce el gasto con la cuantía. una cuenta hacia la que de la que se está cogiendo ese dinero para el gasto tenemos un presupuesto donde nos vienen los nombres de esas categorías y el presupuesto anual digamos como el tope todo importante ahora para lo que vamos a calcular y las fechas que fundamentalmente es una hoja donde tenemos las fechas en distintos formatos esto se suele utilizar es bastante común en este tipo de excel porque se suele utilizar para hacer análisis temporales de tipo imaginado aquí no nosotros podemos hacer análisis semanales, trimestrales, ¿vale? Semanales también por días de la semana. Y todo esto lo tenemos desglosado aquí en esta hoja. ¿Qué es lo que vamos a hacer en el modelaje? ¿Cómo vamos a hacer ahora después? Pues decirle que la hoja de gastos, cuando encuentre una fecha, tiene que buscarla aquí. Y cuando encuentre una cuenta de gastos, tiene que buscarla en presupuesto. Ese es fundamentalmente el modelaje de datos que vamos a hacer, que es la imagen que he pasado con los tres cuadros de acuerdo ahora lo vamos a hacer de esta forma bueno tenemos las tres pestañas las cargamos vamos a esperar un poquito que las carguen ah y dice a vosotros o irá un poco más rápido lo mismo también como una máquina virtual el otro día estuve haciéndole un poco de limpieza espero que vaya un poco más rápido que el otro día pero lleva su tiempo aunque sea un atraso chiquitito las primeras veces la primera vez que carga ya una vez que luego tiene el dashboard hecho y carga ya lo que tiene hecho tarda bastante bastante menos tiene que hacer esa carga pero no como la inicial vale ha cargado las filas de cada hoja vale tengo abierta entonces por eso a veces sale el dashboard que lo tengo ahí aparte en otra vale ya ha acabado en principio tenemos ya las hojas aquí cargadas vale, pero le vamos a crear ahora algunas variables, ahora entramos en eso vamos a ver primero la vista de tabla la vista de datos y aquí muchas veces lo que se suele hacer, a ver donde estamos esto eh vale aquí fijaos que en la tabla de datos podemos elegir una u otra, no sé por qué no se ve aquí antes se veían aquí no sé si habrá cambiado, vale, aquí es donde le decimos el tipo de dato con el que estamos jugando, una buena práctica en Power BI es repasar que porque hacen una detección automática todo este tipo de programas detectan qué tipo de variable es la que tenemos y normalmente lo hacen bien pero muchas veces bueno hay que asegurarse de que las variables de texto las coge como texto las variables de número como número etcétera típico error es muy común el tema de los puntos y las comas que esto habrá pasado también en excel cuando importa algo que las comas decimales son puntos tenemos que indicárselo para que cargue correctamente los datos porque si no los coge como texto o no lo interpreta correctamente como números con decimales vale en este caso pues nada es asegurarnos de que todas las variables tienen adjudicado el tipo de variable que le corresponde vale aquí podemos jugar ver un poco utilizar todo este tipo de filtros que funcionan igual que en excel vale pero yo tengo una pregunta digamos que yo tengo esos valores y los bueno tengo un valor y lo quiero convertir a porcentaje yo también puedo modificarlo a tiempo porque hay porcentaje si se ha convertido allá sí lo tiene entonces. Bueno, ahora lo vemos de todas formas. Como vamos a hacer una variable, ahora lo vemos. Sí, lo que decía Aurelio, efectivamente, lo de transformar e indicarle qué tipo de variable se puede hacer aquí también, en el editor de Power Query. Cuando son transformaciones sencillas, de lo que decía de cambiar el tipo de variable, lo podemos hacer allí. Pero si no, normalmente aquí es donde le indicaremos esto que estábamos diciendo. Estábamos, por ejemplo, esto en gasto. Podemos decirle, por ejemplo, que esta variable es un número decimal fijo para decirle que es moneda. Por ejemplo. Y fijaos cómo aquí se van añadiendo los pasos conforme vamos haciéndole transformaciones. A ver, creo que había que cambiar también de fecha. Aquí la ha cogido bien la fecha, ¿no? cuenta, presupuesto, esto también es moneda vale y esto es fecha, esto es correcto fecha, la he cogido bien, vale fecha y en fecha, esto lo he cogido también como fecha vale, perfecto esto también lo podemos configurar como fecha vale aquí por ejemplo en este no me he equivocado volvemos atrás no sé si quito este, me lo va a quitar todo a ver no, he dejado ese profe, ahí en gastos en cuenta también no hay que ponerlo en precio? No, porque no es moneda. Cuenta simplemente un código numérico, un ID. Ah, ok. Vale, como en contabilidad. Perfecto. Este nos vale con número entero. Aquí no hay problema. Los otros están cambiados, ya están. Esta es la fecha. Vale. Esta es la que hay que poner como fecha. Esa. Vale. Así. vale y una vez que hayamos hecho todas las transformaciones que queremos hacer aquí está la práctica que sea de transformar o de agregar columna una vez que lo tenemos todo hecho aplicamos cerramos y aplicamos va a ser la otra precarga y ahora hacemos el modelaje vale y el modelaje normalmente muchas veces también lo suele, lo puede detectar el propio programa, pero también tendremos que ver que está haciendo las conexiones correctamente, por ejemplo aquí ha hecho exactamente bien, ha hecho bien la conexión, ha detectado que las variables son las mismas, la de cuenta cuenta y ya ha realizado esa esa relación, pero nos falta aquí decirle que cuando encuentre aquí una fecha, tiene que cogerla de aquí. Vale, simplemente arrastrando fecha a la otra variable fecha va a crear esa relación. Aquí es importante indicarle el tipo de relación. Esto yo lo veo muchas veces mucho más claro en Tableau con los join, con el conjunto de intersección y todo esto, pero fundamentalmente es decirle, vale, ¿dónde está? yo intento explicarlo así, ¿dónde está la lista unificada? Es decir, ¿dónde están los elementos donde yo tengo que buscar? ¿En qué sentido? Bueno, pues por ejemplo, la tabla de fecha tiene una única fecha, es decir, cada fecha se repite sólo una vez porque es como una lista de referencia y ocurre igual en la lista de cuentas. Las categorías están establecidas y sólo aparecen una vez, pero en la lista que tengo yo de gasto puede ocurrir que haya un gasto en un mismo día ocurran varios gastos o que o que en días diferentes obviamente van a aparecer también categorías diferentes es decir la tabla de referencia es la de gasto y cuando tiene algún código que tiene que consultar tiene que hacer referencia a esa digamos lista única entonces aquí que es esto que veis aquí este número lo veis mejor aquí esto que pone 1 a estrella, 1 a estrella, lo que le estamos diciendo es que aquí se van a encontrar distintas fechas, pero el valor unitario de la fecha lo va a encontrar aquí, en esta otra tabla. Es decir, aquí es esa lista de referencia y en ese sentido tiene que buscar las distintas fechas en esta, en esa tabla de fechas. Por eso es varios a 1. ¿Se entiende esto? Yo sé que esto es un poco más complejo, pero una vez que estéis utilizándolo... Uy, se ve aquí raro. Este está igual, ¿vale? Con varios a uno, en ese sentido. A ver si me deja anular. Vale. Dice, en el caso hipotético de que una hoja estudiese la fecha con un formato y en otra hoja con otro, ¿los relaciona? Claro, no. Tienen que estar, en principio, sabiendo que tienen formato-fecha, debería cogerlo bien. Hay una... Es decir, cuando tú en Excel muchas veces le cambias el formato, tú te das cuenta, a ver cómo decirlo, porque lo de las fechas tiene también su aquel y suele dar bastantes quebraderos de cabeza. En Excel, tú cuando le dices, entonces cuando escribe ya detecta que es una fecha. Pero el formato que tiene de fondo no es el formato que nosotros vemos de 17 de abril, por ejemplo, porque eso es texto. El formato que hay de fondo es un número. Solo que cuando le damos, dependiendo del formato que le demos, nos lo va a mostrar de una forma u otra. ¿Por qué? Porque en cada país nos puede mostrar primero el año, luego el mes y luego el día o por ejemplo en el caso español es día mes año podemos configurarlo como nosotros queramos pero la base que hay detrás es numérica entonces puede que nosotros en la propia en la propia hoja no lo veamos con ese dato numérico pero aunque parezca que tienen formatos diferentes y lo que tiene en el fondo de ese número si lo va a relacionar me explicaba aquí Vale, si no, Iván me dice. Vale, en principio tenemos ya todos los datos cargados. Habría que construir varias variables. Por ejemplo, necesitamos una variable de total de gastos, que va a ser la sumatoria de todos los gastos, y una variable de total presupuesto, para saber la suma de todo el completo presupuesto que tenemos, para hacer un KPI básico, saber cuánto hemos gastado del presupuesto. Entonces vamos a ver cómo es la creación de medidas aquí con lo que hemos hablado antes. Aquí fijaos que aparece aquí como una como una como cuando hacemos la fórmula en Excel. De acuerdo, nos aparece aquí y aquí es donde tenemos que decirle cómo vamos a llamar la medida si puedo y cómo vamos a construir la medida. ¿Vale? Y aquí funcionamos si os dais cuenta de la misma forma que en Excel. Son fórmulas. ¿De acuerdo? Y aquí vamos a hacer la suma de la variable gastos que hay en gastos. Cerramos el paréntesis como ocurre. Y fijaos que cuando le dé al Enter nos va a aparecer una nueva variable. Y además va a tener el símbolo de la calculadora. A ver. Ah, vale, está creándola. Aquí está, ¿vale? Y fijaos que, bueno, podemos moverla aquí. No me deja moverla, bueno, da igual. Vale, y fijaos que aparece con esa calculadora. A ver, por qué no me deja... Un momentito, que me ha hecho zoom y no me deja quitar el zoom. Ahora. Entonces, esta nueva variable ya la podemos utilizar. Ya tenemos la sumatoria de gasto. Y vamos a hacer lo mismo con la de presupuesto. Vamos a crear una nueva medida. que sea igual total presupuestos ¿pero ese gráfico te salió por defecto? Sí, sale por defecto al seleccionar a ver, espérate que cierre esto al seleccionar cualquier variable ya empieza a construir un gráfico ¿de acuerdo? Voy a quitarlo aquí para que lo vea otra vez vale, ya que era la de total presupuesto. Esta no sé por qué era que era un fecha, yo creo que estaba ahí. Espera, voy a quitarla. Voy a quitarla y voy a crearla aquí. Voy a hacerlo otra vez y así lo veis. Vale, estamos en gasto. Eso es, nueva medida. Podemos editarla en cualquier momento. Si vemos que no me he equivocado, etc. Tito, que cargue otra vez. sumatorio de gasto vale ya está ahora sí está aquí en el sitio y a ver, creo que había que crear alguna más la de fechas ya está, el porcentaje de gasto vale, el saldo vale, total presupuesto es la que hemos creado eso es la sumatoria presupuesto total gasto es la sumatoria gasto el saldo va a ser voy a copiar y pegarla el total presupuesto el total de gasto y el porcentaje que va a ser el porcentaje de gasto de dividir entre el total de gasto y el total de presupuesto vale, vamos a hacerlo vamos a crear aquí hemos dicho una nueva medida que hemos dicho que es la de saldo total presupuesto total gasto voy a que no la encuentre, vamos a cerrar del principio presupuestos menos aquí es importante la sintaxis pues ya estáis viendo que presupuesto se llama total presupuestos entonces esta variable existe aquí menos total gasto vale y en principio la estaría vale y creamos la otra que nos falta, aquí dentro también de gasto ¿qué es? eso también se puede hacer desde la parte de model view ¿no? donde están las tablitas la relación de las tablitas la vista de tabla no, la de abajo creo que también, pero yo siempre la he hecho o aquí o en la vista de tabla porque a ver un momentito, espérate que esta me falla, acabo este vale ahora sí vale porque las nuevas medidas verdad que el sitio más fácil es aquí directamente pero creo que estaban aquí también. Aquí, ¿veis? Aquí también podemos hacer las nuevas medidas. El tema de las expresiones DAX. Aquí entiendo que también, porque aquí podemos hacer consultas DAX. Y aquí pues puede que también, a ver. Ah, sí, es verdad. Aquí también está la nueva medida. Sí, sí, lleva razón María Delfina. Vale, pues ya está, ya los tenemos creados todos. Vale, pues al principio creo que no hace falta ninguna transformación más. Pues nada, vamos a empezar a meterle el fondo este que hoy he pasado? Profe, disculpa, ¿cuál es la fórmula del porcentaje de gastos en gastos? No la vi. ¿Perdón? Por favor, ¿cuál es la fórmula del porcentaje de gastos que lo tiene esta y el DAX? Vale, la hago otra vez, ¿vale? Dale. Sin problema. Vale, vamos a hacer la medida del porcentaje, bueno, la de saldo lo habéis visto, ¿no? Total gas, total presupuesto menos total gasto. Básicamente qué presupuesto nos queda para seguir gastando. Y la del porcentaje del gasto, vale, es, fundamentalmente vamos a hacer la del principio para que la veáis. Es dividir, es como una ratio. Dividir y fijaos que cuando abro el paréntesis, esto es igual que en Excel, nos dice qué configuración tiene que haber. Es decir, qué parámetros le tenemos que decir a la fórmula. Sí, lleva razón, me la va a crear en fecha. Gracias. Vamos a hacerlo otra vez. ¿Qué parámetros le tenemos que decir? Estamos aquí. ¿Qué parámetros le tenemos que decir para que haga esa división correctamente? Tenemos que darle un numerador, un denominador y un resultado alternativo. Es decir, cuando haya números que... O sea, divisiones imposibles, que nos den infinitos, ¿qué resultado queremos que aparezca? En este caso, el resultado que queremos que aparezca va a ser 0. Entonces, lo que vamos a dividir es, para saber el porcentaje de gasto que ya hemos gastado, el total de gasto. Aquí ponemos una coma, porque habéis visto que la fórmula nos pide, y de hecho, daréis cuenta, cuando le dé a la coma, se nos va a cambiar a denominador. ¿Veis? Ahora está resaltado en azul denominador Vale, ahora le decimos total presupuesto ¿Sí? Y nos falta el tercer parámetro Que va a ser Después de la coma, cero Y con eso, cerrando el paréntesis Ya lo tenemos Si hubiera algún error nos lo dice Esto ya digo, si habéis funcionado con Fórmula en Excel, exactamente igual Esto no tiene mucha más distancia ¿Vale? Le damos a OK y ya tenemos también el porcentaje de gasto creado ¿vale? ¿lo has visto? no me acuerdo que le había preguntado si la María ¿lo has visto? ¿ya lo tienes? Sí, Profe, muchas gracias Vale, perfecto, entonces, lo que estábamos haciendo aquí en la parte de formato es meter el fondo de ese que hoy he pasado, que le voy a poner una transparencia de 0% para que se vea y listo ¿hay? ¿pregunta y respuesta? porque yo no le daba pregunta y respuesta. Vale. Ya tenemos esto para empezar a crear información. ¿Vale? El 0, Jorge, es porque necesitamos que cuando haya alguna división, por ejemplo, imagínate que llega un momento en que haciendo esa división encuentra un 10 entre 0, ¿no? Que creo que era infinito, ¿no? Uy, yo estoy pegado ya de... Sí, error, división por 0. Para que no nos dé un error como tal, lo que queremos es que cualquier valor que pueda dar error, o 0 entre 10, por ejemplo, 0 entre 10 es 0, que lo deje con valor 0. Es como un condicional, es como cuando en Excel utiliza un sí. Le tienes que decir qué ocurre en ese resultado alternativo. Es decir, cuando dé un error, ¿qué queremos que aparezca ahí? Es simplemente eso, pero es un parámetro que le tenemos que dar para que la fórmula en este caso funcione. Sí, repetimos la imagen. La imagen la hemos puesto aquí, que es donde podemos añadir visualizaciones o darle formato, porque aquí en formato es donde podemos configurar el lienzo, poner el tamaño como lo queremos. La alineación, donde la queremos alineado. Aquí hay una parte que se llama fondo del lienzo. Aquí podemos decidir que tenga un color de fondo o podemos meterle ese fondo que yo he pasado. pues aquí en imagen aparecerá, vale, lo voy a quitar para que lo veáis, así es como aparece de cero como digo, podemos ponerle un color, podemos ponerlo como queramos y aquí podemos decirle que utilice una imagen que nosotros tenemos aquí preparada para hacer ese dashboard lo que pasa es que esa imagen aparece así con una transparencia al 100, por tanto tenemos que ponerle transparencia al 0 y ya no aparece eso de fondo y ya aquí podemos empezar a incluir gráficos. ¿Qué vamos a hacer con estos gráficos? Que cuando los tengamos listos, hasta que no tenga algo, cuando estén listos, le pondremos transparencia también para que se transparenten y por tanto haga el efecto con la imagen que yo he pasado antes. Vale, entonces vamos a empezar viendo, por ejemplo, vamos a hacer el KPI principal que va a ir aquí, Es un medidor de este tipo. Es decir, si os dais cuenta, veis aquí este medidor, este medidor que nos dice cuánto llevamos gastado con respecto al total. Para ello, ¿qué nos hace falta? Esas variables que hemos creado, ese total de gasto y ese total de presupuesto, ¿vale? Para decirnos cuánto tenemos en total, cuánto llevamos gastado por completo, ¿vale? Venga, vamos a hacerlo. necesitamos, esto es seleccionar las variables, total de gasto, total presupuesto. Podemos hacerlo así y poner el medidor o hacerlo al revés. Tenemos que configurarlo igualmente o hacerlo al revés. Ponemos el medidor y aquí le vamos diciendo dónde va cada variable. ¿vale? si os dais cuenta esto tiene un formato ahora mismo muy extraño tenemos que configurarlo para que aparezca correctamente ¿vale? entonces una vez que aquí tenemos ya la información que le queríamos dar a ver aquí es donde tenemos que formatear todo esto ¿vale? si queremos que aparezcan las etiquetas de datos o no y sobre todo el formato Aquí, otra unidad de... ¿Dónde está? Aquí. Vale, nada. Uno no. Se está cogiendo correctamente... Vale, tengo que decir las posiciones decimales. Eso. Ahora. Este es el valor del globo y tengo que hacer lo mismo en esta. Vamos a decirle 1, por ejemplo. Vamos a añadir un poquito más de tamaño para que se vea. y vamos a hacerle ese efecto de transparencia para que se camufle con el fondo esto lo que nos hace también a su vez es que tengamos que ponerle el color blanco a la letra para que resalte vamos a cambiarlo en cada una Y podemos darle un poquito más de tamaño también Y podemos centrarlo también Aquí no vale bueno más o menos así nos va le podemos poner también un título vamos a ajustar un poco el tamaño a ver no recuerdo como estaba en el otro sin decimales bueno podemos dejar así bien esto ya es ir ajustando un poco a gusto del consumidor vale pero bueno con esto ya tendríamos un poco el primer KPI que queríamos mostrar vale hasta aquí bien y ya simplemente ir viendo pues eso qué KPI vamos a utilizar. Aquí estamos mostrando sencillamente el porcentaje de gasto, el saldo y el presupuesto en una etiqueta sencilla. Pues vamos a repetirlo. No sé por qué aquí aparece. Ah, bueno, claro, porque tengo cerrar los filtros. Vale, así. Pues nada, vamos a ver el porcentaje de gasto como una tarjeta sencilla. Aquí lo tenemos. Ahora le daremos formato. Vamos a ver también el porcentaje, hemos dicho el total de presupuesto, creo que era, era el porcentaje de gasto, el saldo y el total de presupuesto. El saldo. ¿Profe? Sí. Quizás también está bueno mencionar que en Power BI se Por ejemplo, yo trabajo generalmente con Power BI mes a mes para lo que es reportería y para lo que es la visualización de la reportería. Y si hay algo que, por ejemplo, no me acuerdo cómo se hace, voy al reporte del mes anterior, o sea, la visualización del mes anterior y me fijo tocando en la visualización, en el dashboard, como que te aparece qué es lo que vos marcaste. por ejemplo las métricas o las opciones en la parte más visual o lo que fuese como para poder ir repasando eso no lo que dice que cuando ya está hecho no lo que hacemos que cuando marcamos aquí ya nos viene que variar estamos utilizando que por ejemplo formato le hemos ido dando a las cosas, ¿no? Exacto. Esto es a lo que te refieres, ¿no? Sí, efectivamente, sí. Es una forma de decir, de hecho yo lo estaba haciendo, ¿cuál estamos utilizando aquí? Estamos utilizando, ya veis a la derecha, el total gasto y total presupuesto. ¿De qué forma lo estamos utilizando? Pues total gasto está aquí en valor, total presupuesto está aquí en valor máximo. Claro, efectivamente todo esto nos puede servir para replicar. Si nosotros tenemos el archivo Power BI en bruto, podemos hacerlo perfectamente. Es decir, podemos ir copiando el formato que tiene. Claro, entonces, el objetivo de todo esto es que esto esté completamente automatizado. No sé si a esto es a lo que te refieres, Iván, pero fundamentalmente es que la idea es que una vez que yo tengo este dashboard construido, cuando ese Excel original del que nosotros hemos partido, si ese Excel se actualiza, el dashboard se va a actualizar también. ¿De acuerdo? Es decir, sin tener que realizar otra vez las mismas operaciones de transformación de datos y modelaje. Porque en transformación de datos, a ver dónde está. Dónde está el query. Aquí. En transformación de datos, todos esos pasos ya estaban guardados. A ver si se abre. veis que son prácticamente los mismos que hemos hecho antes no hemos hecho mucho más, pero imagina que sea un dataset mucho más complejo que haya necesitado muchas más transformaciones y estén aquí y por otro lado el modelaje también está hecho, es decir todo este trabajo que hacemos la primera vez que empezamos a trabajar no hay que hacerlo cada vez que actualizamos, entonces la idea es eso, es decir, aquí estamos trabajando en local porque estamos practicando y manejando un poquito, pero pensad cuando los datos que estamos manejando son bastante más grandes y sobre todo están alojados en servidores externos, en servidores internos, pero que están colgados en la nube porque es donde se van actualizando. Ahí también puede haber un preprocesamiento, pero la idea es que una vez que yo hago esa conexión, podemos verlo, por ejemplo, en Tableau, se puede conectar con hojas de datos de Google Seeds, por ejemplo, ¿no? Entonces, cuando hay un cambio en ese tipo de cuestiones, el dashboard se va a actualizar. No sé si era eso a lo que te refería, Iván, pero claro, efectivamente, esta es una de las grandes ventajas de este tipo de herramientas. Dime Sí, que era eso Vale, vale, perfecto Claro, la idea es que normalmente las empresas que ya han implementado este tipo de tecnología lo que van haciendo que era un poco lo que estaba también comentando la compañera María Delfina es que van sacando informes semanales con todo este tipo de datos actualizados con nuevas ventas, con nuevos clientes etcétera, etcétera porque recordad que la idea fundamental de todo esto es que nosotros podamos hacer un seguimiento lo más cercano al día a día de la empresa para tomar decisiones rápidas. Acordaos también que planteábamos distintos tipos de dashboard. Había dashboard más ejecutivo, donde queríamos ver, a lo mejor, cosas como las que estamos viendo aquí más básicas, pero a lo mejor queremos construir un dashboard mucho más específico para un departamento concreto que necesita monitorizar en tiempo real, por ejemplo, el tráfico de la página web. Bueno, pues, si hemos conectado bien esos datos, toda esa información la vamos a tener prácticamente a tiempo real, ¿vale? ¿Qué más? Pregunta. Lofe, de eso que estabas diciendo, de lo que preguntaba Cacoacíban, como mencionabas al principio de la clase, podés, o sea, al principio de, o sea, ya directamente subir el Excel, o mismo cuando, o sea, hacer uno en blanco, y poner obtener datos, e ir a SharePoint Folder, Acá, ahí arriba, donde dice obtener datos. Ahí, ahí al lado. Ahí. Y está SharePoint. Y si lo tenés subido a la nube, ahí, en carpeta de SharePoint, creo que dice. Claro, hay carpeta de SharePoint. Y ahí, si lo tenés subido a la nube, copias la ruta de la carpeta y se va, o sea, cada modificación que se haga en el archivo, se va también a hacer en el reporte de acá de... Exacto. A ver, claro, había un poco de otra más. Una pregunta respecto a eso. ¿Tendrías que actualizar el Power BI o cada registro nuevo que metas lo va a hacer solo? No, ¿no? Se va a calificar a partir de la fuente. A cargar, ¿no? O sea, tendrías que volverlo a cargar, ¿no? Porque imagínate, por ejemplo, Decina, te ha dicho que todos los meses hace. Tú imagínate que por lo que sea, el día 15, que es mediados de mes, se tiene que meter. Y la ha actualizado solo y ya, claro, le está haciendo los datos que es una faena porque es día 15 y ya lo quería ver a día 1. ¿Se lo va a actualizar solo o hay que forzar esa actualización? En principio se va a actualizar solo. Es decir, cuando nosotros abrimos el dashboard que ya hemos creado, lo que va a hacer es cargar esos datos. Si no han cambiado, digamos que va a tirar del caché que ya tiene, es decir, de lo que ya había trabajado antes, pero si detecta que hay nuevos datos, lo incorpora. Es decir, que la actualización la hace sola. ¿Vale? Entonces, lo que estaba comentando María Delfina era la cantidad inmensa de distintas fuentes de datos que nosotros podemos utilizar. Y como estamos diciendo, aquí estamos utilizando estos archivos locales, incluso PDF, pero normalmente, es decir, si hablamos de empresas, que ya estén generando, que tengan una cierta envergadura y tal, normalmente tiraremos de este tipo de bases de datos más complejas, es decir, de Amazon. He ya hablado de SharePoint, efectivamente. Máquinas de Azure. Aquí está la lista de SharePoint online. Google Analytics. A ver, fijaos todas las cantidades que hay diferentes. De DataWall, que es un sitio donde se pueden cargar distintos datasets a través de API, de GitHub. vale por ver alguno, bueno Spark que también está hecho para Big Data Asana, Amazon OpenSearch fin hay una variedad enorme dime Olga Profe una consulta, es que en las diapositivas no sé en cuál de todas, había un mapa había una fusión de mapa como con gráfico de dispersión que también creo que estaba como closterizado o algo así, ¿cómo se podría hacer en Power BI ese tipo de gráfico? O sea, tú dices, espérate, ¿en el PowerPoint que estábamos viendo? Sí, sí señor Ah, vale pero espérate, voy a parar de compartir a ver si es este al que te refieres, justo en el que nos hemos quedado en el PowerPoint ¿te refieres a ese mapa? No, no, no, no, era como antesito no sé en dónde, no sé en qué parte lo... No, no sé si era este. Había uno que era como con colores morado, había como un naranja, y era el mapa del mundo, y estaba como también como con closers. Ese. Este. Ese de allí. Sí, este sencillamente, a ver, comparto pantalla completa para que se vea un poco mejor. Este es un mapa sencillo de puntos donde le estamos diciendo que el tamaño corresponde a una variable y el color aquí fundamentalmente creo que corresponde al continente que es esto que ve aquí es decir aquí donde estamos dándole las opciones en este mapa que lo hemos cogido el mapa de completa el mapa de puntos perdón es este de aquí yo creo no oeste una vez que lo hemos metido le hemos dicho coge de variable ya digo no sé qué está la utilidad y margen pues será coge de de variable utilidad y margen y en leyenda en el color menos colores por continente entonces no es tanto que haya hecho una caracterización sino simplemente que está incorporando la categoría continente a este mapa de puntos y el tamaño el tamaño será otra variable será ya digo utilidad o margen vale, muchas gracias de todas formas a ver lo mejor que podéis hacer es ir practicando todo este tipo de cuestiones, es decir yo os he pasado el Excel, os he pasado el ejemplo, intentad replicarlo os voy a pasar también el Power BI ya hecho para que justamente como decía antes María Delfina, si queréis, volváis veáis el original y veáis como tenéis que hacerlo para crearlo desde cero y el mejor consejo es que tratéis de hacer las cosas por vosotros y por vosotros mismos, es decir que tratéis de replicar este tipo de ejemplos, en la propia página de Power BI hay también muchos ejemplos, podéis buscar alguno que os llame la atención y tratar también de replicarlo para ver un poco como decíamos antes cómo está hecho y tratar de hacer lo mismo y veréis que es bastante sencillo, sí, os subo todo esto ahora en cuanto cierren compartir los objetivos del dar por el café si os paso ahora todo esto a la carpeta de archivo y ya podéis jugar con ellos todo lo que queráis a lo largo de esta semana vale pero bueno lo dicho que practique y que que probéis que no tengáis miedo a romper vale que y que practique con el programa porque no hay muchas veces no hay otra forma vale ok maria delfina chao el resto igual, gracias por estar ahí, gracias por estar aquí un viernes más espero que la reentrada esté siendo lo más suave posible y que tengáis como siempre os digo, un buen fin de semana nos vemos la semana que viene chao a todos gracias, chao adiós igualmente
