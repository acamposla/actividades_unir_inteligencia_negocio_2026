Bien, buenas tardes a todos. Bienvenidos a la sesión número 13 de Fundamentos Tecnológicos para el Tratamiento de Datos. Y bueno, en la sesión de hoy, que va a ser de hora y media, básicamente vamos a abarcar tres cuestiones. Lo primero de todo, vamos a ver el examen. Es decir, os voy a enseñar un examen de años anteriores para que os hagáis una idea de cómo va a ser, en qué consiste, qué es lo que voy a pedir y qué es lo que tenéis que hacer. Por lo tanto, veremos esa parte. Después veremos una segunda parte en la cual vamos a ver algo que nos quedó pendiente del tema 3, que es el lenguaje de definición y manipulación de datos. ¿Vale? Bien es cierto que como analistas BI normalmente no solemos aplicar ningún código que altere la base de datos, pero sí que va a ser interesante que lo sepáis o que lo, o por lo menos que lo veamos por encima para que, bueno, pues tengáis un poco la idea de qué trabaja la ingeniería de datos. ¿De acuerdo? Y después finalmente veremos el tema 4, que es el propio Business Intelligence, donde veremos realmente que nosotros en las empresas trabajamos con base de datos relacionales, pero realmente hay que distinguir como dos tipologías de ellas. respecto a lo que hemos visto hasta ahora que son básicamente tablas que tienen información y son tablas transaccionales es decir, que básicamente buscan almacenar la información de la empresa y en esa base de datos hay muchísimas tablas, AdWords sin ir más lejos y hay una segunda parte o mejor dicho, los mismos datos pero con otra estructura que están alojados normalmente en otro servidor, cuya finalidad es que nosotros esos datos precisamente pues los consultemos de cara a analizar ¿vale? en ambos casos son bases de datos relacionales pero si lo que cambia es la estructura ¿vale? es decir que SQL no cambia nada, se sigue aplicando exactamente igual por lo tanto veremos esta parte de almacenes de datos y terminaremos también pues viendo un poco lo que sería en el día a día a lo mejor ¿no? de un desarrollador que es lo que hace, que básicamente hace que sus queries en SQL, en Server o en Boxbench o cualquiera de los otros, y después, pues, cómo conecta R, Python o Power BI a esas mismas herramientas. ¿De acuerdo? Bien, bueno, antes de empezar, ¿alguien tiene alguna duda, alguna pregunta? Che, dime, Fernando, dime. Hola, profe, ¿cómo estás? ¿Qué tal? Dime. Sabes que tengo una consulta con respecto a la actividad 3. Ah, vale, perfecto. Pues mira, si te parece, vamos a aprovechar también para hablar de ello, para recordaros que la actividad 3, ahora me la comento, ¿vale, Fernando? La actividad 3, la fecha de entrega no es el 5, ¿vale? Es el 9, ¿vale? Os damos un par de días más y de hecho esas mismas semanas cuando corregiremos la actividad, ¿vale? Os recuerdo que la actividad son consultas SQL, tres partes, ¿vale? En las cuales tenéis enunciado las tablas a utilizar y demás. Pero partís con una ventaja porque tenéis el resultado, ¿vale? El resultado que os tienen que dar cada una de las tres consultas lo tenéis aquí, ¿vale? Igualmente, os recuerdo que la semana pasada, pues, explicamos la actividad en detalle. Dime, Fernando, dime. Ya, profe, mire, justo con este archivo tengo un problema, mire, ¿sabe qué? pasa que digamos la consulta número 3 le podría decir, digamos porque son 3 en un sitio y después vienen 2 bonos Sí, los bonos son opcionales, ¿vale? Es decir creo que no lo comenté, pero los bonos no hace falta que los hagáis, realmente, simplemente pues hay veces que había ciertos alumnos que decían, quiero más pues le propuse 2 consultas bonos sin más, eso no es un problema super bueno, pero tengo una consulta particular, es que no sé si yo le puedo compartir mi pantalla a ver, dame un segundito creo que sí, pues te tengo que hacer como anfitrión y yo creo que ahora sí vas a poder compartir pantalla ¿te dejas ahora? sí, compartir vale, ya comparto el tiro que estoy buscando otro archivo para como tenerlo abierto al tiro. Y ¿dónde está? Ya, mejor voy al tiro con el que usted no... ¿Qué se ve? Se ve el Excel, ¿cierto? Se ve el Excel, correcto. Este fue el que usted nos entregó. Efectivamente. Esa sería la consulta 1 es la que tiene que devolver eso. Esta sería la consulta 2. Correcto. Y aquí tengo una duda, porque en este caso hay una hoja que dice variables discreta at bicicleta, y hay una cuarta, por ejemplo esta, que dice datos sin etiqueta. Y por ejemplo, esta está vacía. Aquí no hay nada, y en esta que dice datos sin etiqueta, me genera duda, porque esta, por ejemplo, no tiene relación con la pregunta de la actividad 3, porque, por ejemplo, creo que preguntaba por el cliente y yo de hecho le había dejado una consulta en el foro. Sí, lo que pasa es que esta semana todavía no lo ha podido, no lo ha podido, mira, Fernando, discúlpame. No se preocupe, por eso mismo quería hacerle la consulta, porque pasa que la profesora, en este caso, que tenemos de la otra asignatura de análisis de datos masivos, nos entregó un dataset para la actividad 3 lo abro al tiro porque lo tengo por aquí aquí está y el archivo, mire, el que usted nos entregó se llama espérame, este es el que usted nos entregó dataset SQL me he equivocado, ¿y el otro cómo se llama? y el otro, el que ella nos pasó se llama dataset SQL Actividad 3 y pasa que sí tiene en este caso sí, yo creo que es que me he equivocado me he equivocado, yo he subido el que no llega o sea, en principio el resultado es el mismo solo que este tiene diferente diferente formato un poco, porque como esto lo he estado desarrollando, vale, yo creo que me he equivocado, yo sí, vale, os lo vuelvo a subir, ¿vale? no te preocupéis. Ya, perfecto, entonces profe, ahí aquí la consulta, mire, porque por ejemplo yo compré aquí la primera ST Ventas totales y es exactamente el mismo archivo Sí, o sea, no, los datos realmente serán iguales, ¿vale? Simplemente es un poco la el hecho, me equivoqué de archivo porque tengo dos o tres mientras iba desarrollándolo y demás entonces claro, subí uno que no es que es como la primera versión de toda y realmente supongo que no estaría terminado lo voy a subir de nuevo, lo único que nos va a acuergar es la edad ¿vale? lo que os comentaba Sí, correcto, por eso mismo le quería hacer la pregunta porque claro, la base de datos está con su respuesta está como el 2020 y claro, obviamente tenemos que hacerlo con algo actual y hay como una diferencia de 6 años por 2026. Porque la base aquí, digamos, el resultado que aquí aparece está calculado con... Sí, con la edad, claro. No, es que date cuenta. No, la edad la calculé en el momento que ejecuté la query la primera vez, que eso sería hace 3, 4 años, posiblemente más. Por eso digo que realmente lo que hacía era con la fecha actual, pero en el momento de la ejecución. Por eso decía que la edad nos va a cuadrar. Ah, ya. Profe, y perdón, la última consulta, ya, entonces ¿usted nos subiría ahora, digamos, el archivo correcto? Sí, voy a subir el archivo correcto, pero igualmente os digo, ¿vale? Este archivo lo podéis utilizar para comprobar, ¿vale? Lo único que no está como bien las pestañas bien hechas, pero el resultado es exactamente el mismo ¿vale? Es decir, que por esa parte no va no va a cambiar, mira, lo voy a subir ahora mismo, ¿vale? Y voy a borrar el otro, ¿vale? Para que, bueno lo voy a dejar por si acaso, no vaya a ser que haya que haya problemas pero lo voy a subirlo ¿vale? y lo último, aquí es como una duda netamente como de concepto dado que el enunciado dice en este caso como presenta el total como del gasto en este caso esto tampoco está demasiado bien dicho, vale esto hay que cogerlo con puntillas ¿qué ocurre? yo quería hacer esto de una manera bastante más realista ¿Vale? Porque primero El amount aquí hay diferentes modelos ¿Vale? Entonces ¿Qué ocurre? Yo lo simplifique lo máximo que pude Porque es que tampoco Podía ampliar más la actividad Porque la actividad ya es complicada ¿Vale? Entonces Está un poco simplificado Ah, ya perfecto ¿Vale? Pero con las mismas razones, porque si yo Ahora mismo, sin explicaros cómo funciona El tema de los carros en Sinaloan Shootworks os lo pongo, va a ser más problema que solución es decir, yo aquí tampoco como deciros, no estoy evaluando al 100% porque esos datos los podamos utilizar, lo que busco es que encontréis esos datos ¿vale? lo que os decía al principio y finalidad es que entendáis el tema en SQL para que os pueda servir, pero a la vez tampoco sin sobrecomplicarlo, porque si lo sobrecomplico, habrá personas a lo mejor, como en tu caso, que el oye, a lo mejor hay que hacerlo así pero a lo mejor hay otros casos en otros alumnos que no, que les costaría más entonces tuve que hacerlo de una manera que es como un poco intermedio Ah, ya, perfecto, perfecto, ya me di a claro Perfecto Ah, perdón profe Dime, dime, dime Lo último, para la entrega en este caso de la actividad 3 sería igual la actividad 2 como un Word con en este caso consulta 1, consulta 2, consulta 3 o en este caso el puro archivo SQL lo comenté la semana pasada no sé si estuviste en la clase o lo viste sí porque eso también nos decía muchas veces revisad por la clase si no os ha venido igualmente lo vuelvo a explicar, ¿vale? podéis subir ya sea un Word ya sea un PDF, ya sea el archivo SQL no importa la extensión, ¿vale? lo único que me importa es que esté el nombre de todos los integrantes del grupo, ¿vale? y que todos subáis el archivo ¿ok? vale, vale bien como pregunta es importante el trabajo el 29 de enero no, imposible imposible que sea el 29 de enero más que nada porque eso es un par de días o sea, no, no, es el 5 el 5 de febrero ¿vale? sí, lo comentaré igual en los foros, lo quiero escribir es que no me ha dado tiempo ni de mirar los foros siquiera he tenido una semana un poco complicada igual no te lo podré como veis también tengo pendiente contestar algunas cuestiones. Igualmente os he vuelto a subir, ¿vale? El archivo este nuevo, ¿vale? Actividad 3D comercial, que me equivoqué, ¿vale? Pero que básicamente aquí es lo mismo, ¿vale? Series temporales, lineal y logística. La diferencia entre esta y esta es que se incluye este campo, como os decía, ¿vale? Pero al principio, los datos igual deberían de funcionar. Pero vamos, igualmente voy a mirar de dónde saqué yo ese archivo que os mandé. a ver yo creo que si lo puse de una versión antigua vale, bueno igualmente, tenéis subido el otro, vale, porque en esencia los datos aunque veáis que uno está vacío el resultado tiene que dar exactamente igual bien, vamos al concepto que os interesa siempre muchísimo a todos, ¿vale? tema del examen, os comento, ¿vale? primero, términos generales el examen, ¿vale? si no recuerdo mal son el fin del 20 al 22 de febrero, ¿vale? entonces, tenéis la opción de hacerlo presencial, online es un poco lo mismo, ¿vale? presencial, os podéis vigilar con una persona online Vais a poner ahí la cámara y van a ver vuestro creador. La cuestión, ¿en qué consiste? Son 10 consultas de SQL, ¿vale? 10 consultas del nivel de la actividad 2, ¿vale? La cuestión es que, perdón, 10 consultas no, son 7 consultas, ¿vale? Por un total de 10 puntos. Entonces, hay 5 consultas sencillitas, diría, o medias, tirando hacia abajo, con un punto cada uno, ¿vale? Y dos consultas que equivalen 5 puntos. Sí, exacto, Alejandro, como la actividad 2. El nivel de dificultad va a ser ese, las últimas dos, es decir, la consulta 6 y 7 será como las dos últimas de la actividad 2. Y las cinco primeras, pues, a ver, más o menos la misma dificultad, ¿vale? Entonces, las cinco primeras valen 5 puntos y las dos últimas valen 5 puntos. ¿Por qué? Porque es la única manera que tengo de no sobresaturar a vosotros y a la vez, pues, poder medirlo bien. entonces, la dificultad como decía nivel actividad 2, procedimiento, el mismo ¿vale? la cuestión es que también vais a partir con ventaja ¿vale? en la carpeta este de scripts yo la semana del 9 es decir, la semana que tenemos la última sesión subiré aquí el script para crear esa base de datos del examen, ¿cuál es la manera de ejecutarlo? exactamente igual que hemos hecho con la actividad 2 ¿vale? y las otras opcionales, yo subiré MySQL y SQL Server para crear los datos del examen. ¿Vale? Vosotros antes del examen lo ejecutáis, lo que hacéis siempre y listo. Igualmente creo que lo haréis esa semana también con vosotros en directo. Y lo dejáis listo. Ahora os presentáis el examen. ¿Vale? En el examen, bueno, este es uno antiguo, ¿vale? El modelo. El nuevo sería este. ¿Vale? Que es un poquito diferente. La cuestión aquí es que cuanto más antes que el examen, lo que te acabo de decir Alejandro, el día, la semana del 9 y el examen son del 20 al 21, es decir, vais a tener un poquito más de una semana ¿vale? entonces os lo seguiré, ¿para qué? para que vosotros lo podáis, nada, tranquilo que lo podáis instalar, ¿vale? porque lo que no queremos es que después y si os lo subo el día antes y después tenéis problemas para ejecutarlo, porque que yo no os puedo ayudar, ¿vale? esto es algo que he decidido la unir, yo estoy en contra porque, como vosotros comprenderéis, si yo doy una base de datos una semana y media antes, pues, a ver, muy mal se tiene que dar para que no le bicheéis y sepáis que es lo que tenéis que hacer, ¿no? Digo yo, a ver, un poco aprendizaje, pero bueno. No puedo hacer nada ahí por mucho que me queje. Entonces, partid con esa ventaja, ¿vale? Y tened en cuenta que va a ser el nivel de la actividad 2. Es decir, que ahora os enseñaré algunos ejemplos ¿vale? lo importante tenéis, solo podéis utilizar MySQL o SQL Server ya con la base de datos instalada de antes y no podéis abrir archivos anteriores es decir, tiene que ser en blanco ¿vale? después, ¿queréis utilizar Excel? abrís uno, pero limpio, Word, lo mismo ¿vale? ya está, ninguna otra herramienta y os aviso ya que estamos en la edad dorada de que piense OpenAI, o que pienses a Maltman el que utilice la IA suspenso automático el que se meta a internet suspenso automático y no es que lo decida yo son las cosas que ocurren durante el examen, yo no tengo potestad para controlar el desarrollo del examen eso lo decide la universidad pero os digo precedentes pues llegan notificaciones, alumno ha utilizado chat GPT o similar suspenso automático, no puede reclamar nada no podéis decir nada, ¿vale? Os voy a abrir todo esto ya. Entonces, os digo, vosotros os presentáis el examen, yo os daré un examen como este, ¿vale? Y vosotros vais a SQL Server o MySQL, abrís una hoja nueva y empezáis a escribir el código, lo que yo os pida, ¿vale? La base de datos la sabréis de antes, pero es que además, imaginad que os pase algo, en el examen, al final, siempre vais a tener una especie, como no de diagrama, pero por lo menos, las tablas con la clave primaria ajenas y cuatro registros aleatorios. Que, ojo, no quiere decir que la tabla tenga cuatro registros, ¿vale? Cuatro registros aleatorios porque, bueno, en el contrario caso de que algo os pase con la herramienta, pues lo podéis por lo menos escribir, ¿vale? Por lo tanto, vosotros pues ponéis a hacer las consultas. Vale. Alejandro que es muy liante, pero me da gracioso. Word con apuntes, no, apuntes es decir, algo que no sea SQL Server MySQL, Excel o Word limpios, suspenso automático y os digo, yo no puedo hacer nada son las directrices de la universidad no sé ni cómo lo miden, ni cómo lo ven pero lo hacen así, ¿qué ocurre? que si ocurre eso, no tenéis ni derecho a revisión, ¿vale? igualmente, como yo no al ser profesor, yo preparo el examen preparo la base de datos y corrijo después cuando vosotros hacéis el examen Entonces, lo que es la parte del desarrollo, ese fin de semana, los exámenes, de qué es lo que se hace, cuáles son los procedimientos y demás, son aplicables a toda la universidad, ¿vale? Para que lo tengáis en cuenta. entonces yo os sugiero no os tentéis de abrir algo que no esté permitido, vuelvo a decir SQL Server, como hay SQL en blanco Excel en blanco y Word en blanco, quedaros ahí si abrís internet o cualquier cosa corréis ese riesgo ¿eh? que os digo ¿os merece la pena? si habéis estudiado SQL o sea, si habéis hecho las cosas y más o menos lo controláis el examen va a ser un pasatiempo ¿vale? es decir simplemente es algo que tenéis que hacer porque es obligatorio pero en esencia no os va a costar nada ¿vale? entonces si queréis hacer chuleta allá ustedes pero digo la universidad es muy estricta en esas cuestiones y yo no tengo ni voz ni voto ¿vale? SQL en blanco Lucía tú cuando llegue al examen es haber SQL y haces esto y te quedas aquí si tú imagínate tenías algo abierto y haces ¡ah! ¡pum! super, super ¿vale? os aviso y como habrá ese internet lo mismo ¿alguien ha hecho alguna vez una certificación que se yo de Microsoft o similar? ¿por qué ponen un ejemplo? sí la habéis hecho, ¿no? ¿quién lo ha hecho? tú, Fernando, ¿no? ¿qué es lo que dice Microsoft en esos casos? Fernando, cuando tú te examinas de casa. Bueno, que no puede haber ningún equipo cerca de la mesa y aparte que en este caso cualquier elemento, y aparte de hecho te están grabando entonces te hacen una revisión antes de, y por ejemplo me pasó hace poco que me dijeron, no sé, tenía una Playstation aquí en el escritorio, y me dijeron, sácala. Y yo le dije, pero está desconectada, y me dijeron no, y ese cable, no sé, era el cable del teléfono, me dijeron, no, tienes que sacar todo. No, tienes que tener el teléfono, exacto. Pero para que hagáis una idea, lo que ha dicho Fernando es básicamente igual, porque vosotros vais a tener que poner la cámara. Es decir, cualquier cosa sospechosa se os pondrá, es que no lo sé exactamente tampoco, pero lo más probable es que si tenéis dos strikes, fuera, ¿vale? Tened mucho cuidado con eso. ¿qué más? solo ha visto la base de datos, bueno, la base de datos lo vais a tener instalada, claro, no tenéis que tener abierto nada, limpio, ¿vale? exacto, no, bueno, y la caída de internet, que lo muy bien que lo ha dicho Paulina no lo sé ¿vale? preguntárselo a los tutores y a los mentores no sé cómo gestionarían eso, también os digo, así que cuidado ¿Quién tiene una pregunta? Lizeth, dime, que ha levantado la mano Sí, gracias, ahí me escuchas bien Sí, te escucho Es decir, la base de datos digamos que ya va a estar preparada y entiendo que el 9 de febrero ya la vamos a poder recibir ¿Correcto? Efectivamente, es lo que he dicho, está aquí en Script una carpeta se llama base de datos examen habrá uno de MySQL y otro SQL Server correcto, entonces digamos que esos dos archivos los podemos cargar antes del examen para estar tranquilos de que cargue efectivamente, es lo que quiero, que los carguéis y ya los tengáis, yo no puedo controlar que no las miréis, porque si yo os digo no las miréis igualmente las vais a mirar, no pasa nada da igual, vale revisad que os funcionen todas las tablas, vale, es decir, cuando lleguéis al examen y os pongáis a escribir las consultas, que todo funcione Perfecto, entonces el día del examen ya solo es abrirla y tener esto en blanco para efectivamente Vale, un acto con respecto a eso como en algunas otras materias, por ejemplo con R vamos a poder tener un Word donde la mayoría de código va a estar, porque pues a veces es difícil también aprenderse esto en memoria, ni siquiera con Python casi siempre algunos profesores van y buscan de la IA para que les arroje código. En este caso también sí vamos a poder tener la estructura del código en caso de que se olvide algo. Es lo que he dicho antes. No podéis tener nada de apuntes. Si tenéis algo de apuntes o lo que sea, cero. Suspenso automático. Esto no compréis asignaturas, ¿vale? No sé quién nos está dando análisis masivo de datos este año, pero no compréis asignaturas. Es decir, lo que podéis comparar es cómo se desarrolla el examen. Pero después cada profesora hace lo suyo. Yo no permito ni esto. Porque, además, tenedos cuenta, vosotros no hacéis masivo de datos, no vais a tener ahí la base de datos antes del examen. Aquí sí. No comparéis. ¿Vale? Entiendo. Lo que pasa es que ni siquiera, y perdón, no es por ti ni nada, sino hay profesores que conozco que ni siquiera se saben todo el código de sus sistemas de programación, porque también es difícil aprender. Aquí, legalmente, si nos ponemos, de esta manera que lo repasemos la semana que viene, o sea, de código, ¿cuántas cosas hay que copiarse? Select, from, where, octagby, funciones de agregación, having, y los join, o sea, siete. Y pues aprenderte toda la teoría, más R, más Power BI, más código de... O sea, lo prefiero a eso, pero entiendo, y eso, ok, no voy a hablar nada. Es decir, yo es que ahí lo que hagan los otros profesores, a ver, yo tengo un contacto con ellos, pero realmente nuestros exámenes son diferentes. Yo, el DR, a mí me parece, el tema de examinar es mucho más sencillo. Yo, en mi caso, yo tengo que crear la base de datos. Yo no la puedo poner el día del examen, lo tengo que poner una semana y pico antes, que me obligan. ¿Por qué? Porque después te tienes que instalar. No es comparable. No comparéis las asignaturas, por favor. ¿Vale? y vuelvo a decir tu preocupación en cuanto a al código a ver, es que son, si nos ponemos a pensar siete cosas ¿vale? lo que dice Leticia, en el caso de que se apague eso que te manda al tribunal, ¿vale? pero vuelvo a insistir, yo no conozco la parte burocrática de todo lo que pasa el fin de semana del examen, ¿vale? mi trabajo empieza al hacer el examen, dar las herramientas y corregir después, no tengo nada de control, de hecho muchas veces en el conocimiento porque lo cambia constantemente. Ah, bueno, habéis tenido una sesión, ¿no? Como dice Jorge. A ver, importante también. Mirad esa sesión, porfa. ¿Quién me escribe? ¿Quién me habla? Ana. Ana, dime, sí, dime. Una pregunta. Si, por ejemplo, en el primer punto o la primera consulta me quedo a medias, ¿tú cómo tienes el... Soy flexible. Soy flexible. al igual que en la actividad, imagínate que hay dos, en el web hay dos cláusulas y tú solo has puesto una no te lo voy a poner como mal yo no soy blanco o negro, hay muchos grises, o sea no le tiras al cero o al uno sino como, bueno, no, no, no es flexible, eso sí ahora que acabas de contar esto quiero dejarlo muy claro realmente con las cinco primeras o sea, no es por ti Ana, es en general con las cinco primeras consultas pensáis que tenéis el 5, pero esto es algo que no he podido meter porque no me dejan especificarlo como tal, pero lo dejo claro y eso es innegociable. Quien no sepa hacer joins, quien no sepa combinar tablas, no aprueba. Aunque tenga la suerte de que en las 5 primeras consultas le caiga sin ningún join y saca un 5, pongo un 4. Y después, si queréis, podéis reclamar o lo que sea, pero es inamovible. El que no sepa hacer joins, no aprueba. Quiero dejarlo bien claro. Alejandro, sí, sí, o sea, el examen comienza cuando tú entras ahí o sea, o si es online y abres ahí las cosas ¿vale? pero vuelvo a insistir esto no es algo que yo conozca o que pueda tener alguna influencia esto es el procedimiento del examen, eso es para toda la única el mismo ¿vale? Verónica, dime Profe, ¿cómo está? Buenas tardes, quería consultarle una vez que terminemos, vamos haciendo las instrucciones eso, tenemos que ponerlo, vamos a tener que enviar el Word o hacer alguna otra cosa más o grabar el SQL. Creo que simplemente mandáis el archivo, ¿vale? Pero es un poco lo dicho, eso creo que lo explican en la sesión cómo lo tienes que hacer. Yo no estoy seguro porque además, de hecho, digo a mí, a nosotros, porque sé que no han cambiado la plataforma de exámenes este año porque eso decía que los exámenes son diferentes. Entonces, no lo sé. Esto es algo que tenéis que ver en la sesión, ¿vale? O que ya lo han explicado o preguntar solo a los tutores ¿vale? pero en principio según me imagino lo que a mí me llega, me llega a vuestro examen en formato Word, o sea, en formato PDF ¿vale? y y listo, por eso os digo si tenéis cualquier duda en vuestro caso particular preguntad solo a los tutores, porque os digo yo no tengo control ninguno sobre el propio desarrollo del examen, yo pongo la base de datos, pongo el examen, pero no el desarrollo como tal ¿vale? bien, como os decía importante, ¿vale? el que no sepa JOINS no aprueba, por lo tanto, para que os enseñe un poco, ¿vale? yo normalmente en el examen hago lo siguiente, aparte en la base de datos os pongo un poco en contexto, ¿vale? os digo también las tablas, las claves primarias y las claves ajenas, ¿vale? a partir de ahí, pues hago 5 preguntas, por ejemplo como estas de aquí, están resueltas, ¿vale? fijaros no es nada difícil ¿vale? a excepción de esta, que aquí me colo un poco, pero bueno que esas son las cinco primeras y hay otras dos segundas que son más complejas ¿vale? en las primeras puede que sí puede que no entonces vosotros simplemente pues resolvéis y listo, lo dicho si no tenéis claro el diagrama, al final siempre vais a tener una especie de no diagrama porque no está conectado de ninguna manera, pero sí que os pongo como los cuatro registros de cada tabla que vuelvo a decir, no quiere decir que sean cuatro registros la tabla, ¿vale? hay más pero esto es simplemente para que os tengáis una idea ¿vale? no, normalmente no son todas independientes Alejandro no recuerdo que haya ninguna que esté interrelacionada no es como la actividad 2 por ejemplo que decía utiliza como subconsulta no, ¿vale? de hecho también tenéis la posibilidad o sea, no es obligatorio que utilicéis ni vista ni subconsulta y nada, un examen, no voy a tampoco aquí a hacer lo más complicado de la cuenta ¿vale? ok, mira, damos resumen, que siempre lo hago es un poco así, esto, ¿vale? os lo voy a poner aquí en el chat dos horas, cinco consultas cinco puntos y dos consultas de cinco puntos, todo el día, no lo tengo puesto aquí, pero lo voy a poner, ¿vale? sin saber join no se aprueba ¿vale? es lo que me faltaba un poco poner la base de datos estará antes en la carpeta de scripts crearé aquí pues una carpeta de base de datos de examen ¿vale? para instalar igual que la actividad 2 que teníais aquí, lo descargáis lo instaláis y lo dejáis listo antes del examen SQL Server, MySQL Word en blanco, nada más ni apuntes, ni IA ¿vale? todo lo que nos esté permitido en aplicaciones del examen suspenso automático, y vuelvo a decir no no puedo hacer nada al respecto ¿vale? es así vale lo decía la base de datos ¿vale? tener en cuenta porque si no es demasiado complicado otra cosa que me he peleado con la universidad porque si no no hay otra manera de hacerlo va a ser la misma extraordinaria que extraordinaria ¿vale? así que no borréis la base de datos de insimilar si suspende ¿vale? porque va a ser la misma solo que diferentes preguntas. Si os falla SQL, al final tenéis la estructura de las tablas niveles dificultad 2 que ya creo que lo había dicho. Podéis escribir las consultas como queráis, no estáis obligados a nada. Si queréis utilizar CreateView, por mí perfecto. Si queréis utilizar el CT genial es opcional. Definición y manipulación de datos, que es algo que vamos a ver hoy no entra, simplemente son consultas. Profe, una consulta como cultura general, o sea que el día del examen hay que tener el escritorio vacío, no hay que tener hasta por un lapicero te pueden anular el examen imagínate que abres una calculadora yo no creo que nadie te diga nada no tiene sentido pero igualmente el escritorio vacío, a ver, cada uno tiene su escritorio de momento vas a poner que ordenar las cosas pero yo digo, a la hora de empezar el examen lo ideal que abráis un Word limpio, un Excel limpio para lo que pudiese pasar esto limpio y ya está y entonces a partir de ahí ha empezado el examen vale, por si acaso Deber Reader vale Alejandro vale, no utilice ni SQL Server ni MySQL escribela a la mentora cualquiera que no utilice SQL Server o MySQL porfa, escribela a la mentora para que se lo diga a coordinación, vale y que ponga esa esa nota ¿vale? por si acaso, ya sé que después hay un problema ¿vale? gracias por decirlo Alejandro, porque es verdad, no me acordaba que tú utilizabas otro entonces por si acaso, ¿vale? si vais a utilizar algo que no sé cuál sea o que no me haya SQL, avisad, ¿vale? para que lo pongan en nota y que después no haya problemas con ello, ¿vale? pero como decía, y un poco así a modo de resumen, si habéis hecho toda la práctica que hemos estado haciendo, ¿vale? no va a ser también problema de aprobar el examen, os digo, de hecho el examen lo suele aprobar más del 90% el 10% después el problemático, no sabe los joins se confunde con las cosas básicas y os digo, se ve o sea, muchos años ya dando clases de esta asignatura, muchos años con SQL, veo muy claro cuando alguien está a la desesperada intentando hacer algo, ¿vale? entonces, pues ahí suelo poner notas muy bajas pero ¿qué ocurre? que la mayor parte de la gente aprueba, ¿vale? y vosotros, sobre todo en vuestro caso, que es la parte de executive, no estáis aquí para perder el tiempo, así que yo doy por supuesto que vosotros vais a aprobar todos, o sea, no quiero poner presión, pero a lo que me refiero no es como caso de alumnos de máster, a lo mejor que acaban de terminar la carrera entonces, pues no sé, yo tengo fe en vosotros, de que vais a sacar todo muy buena nota, ¿vale? pero que igualmente os digo, suele aprobar a todo el mundo siempre y cuando hayan estado practicando ¿vale? Y adicionalmente, también deciros, si habéis, por desgracia, como suelo decir, os habéis aprovechado de la benevolencia de vuestros compañeros en las actividades, pues, y no habéis hecho gran cosa, lo han hecho vuestros compañeros, hay deciros que ahí sí, ahí tenéis un problema, ¿vale? Porque queda aún menos de un mes para el examen. Podéis poneros las pilas, supongo, pero que si no habéis seguido ya la asignatura os vais a poner ahora. No quiero ser pesimista, pues lo tengo difícil. ¿Vale? No, no, no. No hace falta. Es simplemente tener esto en blanco. Ya está, ¿vale? Y en MySQL igual. Abrís un SQL nuevo y ya está. Obviamente esto va a estar... Esto es imposible quitarlo. ¿Vale? ¿Sí? insisto, no os preocupéis por el examen es un trámite no, no, no, que sí está bien, muchas gracias ah, vale, sin problema bien, ¿alguien tiene alguna duda más? igualmente como decía, ¿vale? la semana del 9, que será la última sesión de clase cuando vayamos a corregir la actividad pues ahí también os subiré seguramente ese mismo lunes en la base de datos y así pues para evitar conflictos pues la ejecutaría yo la compartiremos y ya está ¿sí? ¿claro? ¿bien? vale, bueno no sé si tenéis grupos de whatsapp o similar, ¿vale? sobre todo porque hoy estoy aquí 33, ¿no? no sé cuánto soy el total, si podéis avisar, ¿vale? a los compañeros que no están en la clase simplemente por un mensaje de whatsapp si tenéis grupo y demás, de que hoy hemos dado la aplicación del examen ¿vale? más que nada porque no vaya a ser que alguien después no vea la sesión y cuando llegue el examen diga, pero ¿esto qué es? ¿vale? así que si me podéis hacer el favor, os lo agradezco igualmente pues lo comentaré en los foros, ¿vale? bien, como os decía ya terminamos la parte del examen y vamos con lo que nos queda, ¿vale? Porque si recordáis, en el tema 3, antes de empezar con las consultas, estaba aquí el apartado de lenguaje de manipulación y definición de datos. Es decir, esto es algo que nosotros los analistas no solemos utilizar, que básicamente son cláusulas para modificar cosas, ¿vale? Para modificar creando tablas, insertando valores, eliminando valores, actualizando valores, ¿vale? De hecho, indirectamente lo hemos estado haciendo porque cada vez que usó alguna base de datos con la que trabajar, obviamente por detrás hacía eso. De hecho, si yo me voy aquí a uno de las bases de datos, la de e-commerce mismo, cuando decía SQL Server Base de Datos e-commerce, y decía, esto simplemente lo ejecutáis. Aquí realmente lo que hace es crear tablas e insertar valores de una manera que seguramente puede ser un poco cut, porque tampoco me iba a poner yo aquí a crear la definición de las tablas como tiene que ser. pero bueno, que básicamente este código indirectamente lo habéis ejecutado entonces hay cuatro cláusulas que son así como un poco importantes simplemente para que las sepáis, que las podéis practicar obviamente no es problema pero para que tengáis en cuenta de que ocurre en la otra parte también de las bases de datos, es decir, cómo se crean las cosas entonces por ejemplo hay una función que es CreateTable que básicamente lo que hace es que nos permite crear la estructura de una tabla, es decir, no estamos creando valores, o sea, no estamos insertando valores, pero sí que creamos la propia definición, ¿vale? La función es create table, le damos un nombre a la tabla, obviamente no podemos tener más de una tabla con el mismo nombre, y entre los paréntesis, ¿vale? especificamos todos los atributos con su tipología, ¿vale? Ya vimos que principalmente de una manera genérica hay tres tipos, está número, cadena de texto o string, y fecha. Cada uno de ellos tiene a la vez subtipos. Por ejemplo, el número está en int, pero puede ser bignt para números muy grandes, está en int pequeños, decimal para que tenga decimales, etc. Lo mismo ocurre con la cadena de texto. Está bar chart, n chart, chart, etc. Las cadenas de texto siempre van a terminar con un paréntesis con un valor dentro. Ese valor básicamente es la extensión máxima que por cada fila se le puede dar al dato. ¿vale? y finalmente están las fechas, que están date, daytime ¿de acuerdo? que esos son los tres que hemos visto ¿hasta qué tema? el examen de los cuenta que a pesar de que estén todos los temas centrados en SQL, porque solo van a ser consultas ¿vale? es decir, todo lo del tema de los consultas que hemos visto, puede preguntar, funciona de qué negación, having que combinéis 10 tablas o 10 tampoco, pero combinéis 2, 3, 4 tablas es decir, todo lo que hemos estado haciendo desde que empezamos con un SQL ¿vale? bien, por lo tanto como decía lo primero es crear la tabla ¿vale? ¿qué ocurre? aquí obviamente no hay valores ¿vale? lo normal en la vida real es que pues haya una serie de procesos que creas en línea de datos para insertar valores ¿vale? de otras herramientas de otros entornos, principalmente a través de las APIs. Entonces, también está la manera de hacerlo de una manera a lo bruto. Insertar los valores nosotros mismos, que es, por ejemplo, lo que vamos a hacer aquí, o por lo menos para explicar. Y para ello está la función insert, seguida de la tabla, y entre paréntesis todos y cada uno de los atributos. Verá que en la vida real la clave primaria no se incluye aquí porque es autoincrementar en muchos de los casos. Backchart es texto, string, y lo que hay dentro es la longitud máxima que puede tomar por cada fila el dato. Y como os decía, tenemos aquí todos los catálogos de los atributos y después seguimos con values y fijaros, se abre paréntesis y se cierra paréntesis. esto realmente es una fila, está ahí de cliente individuo y de cliente nombre, apellido, fecha de nacimiento, etc. ¿vale? una vez que termina la fila, coma y viene a la segunda y viene a la tercera, etc. esto, como os digo, es la manera un poco lo bruto de cargar la información, porque obviamente no puedo hacer aquí nada con una app ni nada porque los datos están quietos, no tengo un servidor en el que los datos se muevan, ¿vale? efectivamente, como dice Alejandro, es como incluirle un CSV ¿vale? a la tabla entonces, pues quedaría de esta manera ¿vale? hemos insertado valores ahora bien, aparte de esto aquí viene el juego peligrosamente divertido, al que nosotros no nos van a dejar jugar, que es eliminar o actualizar ¿vale? para eliminar normalmente está la función delete, aunque también sin querer bueno, sin querer, de comillas hemos visto una función que se llama drop table ¿vale? drop table lo que hace es elimina la tabla en su conjunto, es decir, tanto los datos como la propia estructura de la tabla, es decir, drop table elimina ambas cosas un segundito que la vuelvo a crear, ¿vale? y vuelvo a insertar los registros después tenemos truncate table, ¿vale? truncar una tabla lo que hace referencia es que nosotros no eliminamos la tabla pero sí eliminamos su contenido, ¿vale? ejecuto truncate table y la tabla como veis sigue existiendo pero ya no están los datos y finalmente lo que nos interesa está el delete from vale el delete from si simplemente lo especificamos especificamos la tabla actúa exactamente de la misma forma que el truncate vale si yo ejecuto esto, lo que hace básicamente es eliminarme los registros de una tabla. Como entenderéis, hacer esto en un entorno de producción es cuanto menos peligroso. Se va al paro de una. Efectivamente. Eso, o intentar recuperar los datos, o despido procedente. Bueno, no sé si diría procedente o improcedente, no lo sé. O sea que esa casi no se utiliza, no, no, sí que se utiliza lo que pasa es que no lo utilizamos nosotros ¿vale? no vamos a tener permiso es decir, imaginaos la vida real si vosotros tenéis acceso a un servidor y por ejemplo que suele decir PROD DEF y TEST, DEF y TEST como desarrollo y testeo y PROD es la vida, la realidad, entonces ¿qué ocurre? normalmente nosotros como analistas vamos a tener solo permisos de lectura ¿vale? es decir, por mucho que creamos que esto no nos van a dejar ¿vale? Sí, Alejandro, perdona que no me ha dado tiempo de decirte Truncate Table es que elimina los registros ¿vale? pero mantiene la tabla entonces la vida real, cualquiera de estas tres, entre comillas no no lo vamos a utilizar es decir, no es que lo vayamos a utilizar, no nos van a dar permiso para hacerlo, ¿vale? la única que podría darse el caso sería Drop View, ¿vale? que serán vistas que hemos creado nosotros, pues ahí hay que tener cuidado, ¿vale? que haría lo mismo que drop table, eliminaría todo pero igualmente yo quiero que sepáis que esto existe ¿vale? entonces, delete from ¿vale? si no le especifico nada, me elimina todos los resultados ¿vale? pero ¿qué ocurre? lo más probable es que cuando utilices, si quieres eliminar todo, utilizas truncate ¿vale? delete from es particular porque nos permite eliminar ciertas filas ¿vale? imaginad que nosotros queremos eliminar a este señor John Johnson investigador porque que se yo lo han despedido de la vida entonces lo queremos quitar de la base de datos ¿vale? antes de hacer un delete from siempre tenemos que asegurarnos que lo que vamos a eliminar es lo correcto y la manera de hacerlo sería practicando con el select from ¿vale? imagina si yo quiero seleccionar a este señor ¿cómo puedo hacer que solo este select me devuelva esta fila, ¿qué haríais? ¿qué sería lo normal que haríamos? ¿nadie? es decir, yo quiero este señor que el select me devuelva solo este señor con un web eso es y fijaros, lo ha dicho la compañera yo puedo poner John Johnson ¿no? pero ¿qué pasa? a lo mejor hay muchos clientes que son John Johnson, es decir, si es un registro específico, ¿a qué voy? A la clave primaria, ¿vale? Yo especifico id cliente, y n que sea igual a qué? A 46, ¿no? Si yo ejecuto esto, sé, a ciencia cierta, porque lo ejecuto, que solo me lo volverá este registro. Entonces, si yo quiero borrar, por ejemplo, este registro, yo primero hago un select y ahora digo, vale, he comprobado que efectivamente funciona, y pongo el where aquí, detrás del delete from y si ejecuto ahora, fijaros, se dice una fila ha sido afectada y si yo ahora vuelvo a ejecutar toda la tabla, como veis, pum ha desaparecido ¿vale? es decir, el delete, hay que tener mucho cuidado vuelvo a insistir que seguramente no lo utilicéis nunca pero que sepáis como funciona si fuese por ejemplo como ya os he dicho antes, esto es si esto se lo señala en vuestra empresa se va a dar reír de mí el primero porque esto es una chapu ¿vale? porque tampoco voy a crear aquí una definición perdiendo el tiempo cuando nosotros buscamos la consulta, entonces como dice la compañera y he comentado antes normalmente las claves primarias son autoincrementales, se generan solas ¿vale? de la API, etc. entonces cuando normalmente tú borras una clave, o sea, una fila ¿vale? la clave primaria autogenerativa, autoincremental. Entonces, imagínate si yo, por ejemplo, aquí que el último es el 50, borro el 50 y ahora inserto uno nuevo, no volvería a tener 50, sino que se generaría el 51. Es decir, no reutiliza la clave como tal, siempre es autoincremental. Eso en la vida real, una base de datos que funciona como tal. O sea, aunque me refiero a que está vivo. Bien. voy a volver a truncar, ¿vale? para volver a insertar los registros bien, y el último que nos quedaría por ver, aparte de borrar ¿vale? sería el actualizar ¿ok? para ello, imaginad, ¿no? que precisamente este señor, el 46 su ocupación no es investigador, es docente porque ponen un ejemplo, ¿vale? pues para ello, nosotros lo que queremos es actualizar esta tabla, ¿no? update la tabla de clientes y ahora hay dos pasos uno que es darle el valor nuevo que ocurre aquí el valor nuevo es el campo de ocupación y el propio valor nuevo sería 12 para imaginar si yo ejecuto esto tal cual que creéis que pasaría en todos los ocupación se cambian no sólo uno nomás eso es ocurriría lo siguiente como en el le especifico el que, pues eso lo toma que, guau, ala, pues todos docentes. O otro caso de error que podría costar un despido, ¿verdad? Entonces, voy a volver a truncar y a cargar la tabla, ¿vale? Bien. Entonces, si yo lo que quiero es que simplemente este señor, que es el que yo quiero cambiar, que sea docente, ¿qué hago? Lo mismo que hice antes. Yo tengo que seleccionarlo. Por lo tanto, tengo que especificar que web, que el ID cliente sea, o sea, la clave primaria 46. Si ahora ejecuto, ahora efectivamente sí. Si vuelvo a la tabla, como veis, se ha actualizado. ¿De acuerdo? Vuelvo a asistir. Esto no es algo que nosotros vayamos a utilizar. Vamos, yo os digo abiertamente, de todas las empresas que yo he trabajado, creo que solo en una alguna vez he hecho algo así bajo supervisión de alguien de ingeniería ¿vale? es decir, que no es algo típico, nosotros normalmente lo que vamos a hacer es consultar la información, vamos a tener permisos de lectura pero igualmente, no vaya a ser que os creen un usuario que tenga permisos para modificar cosas y ejecutéis algo así sin querer, ¿vale? entonces lo ideal sería evitarlo. Sí, dime Sí, una duda bueno, no, tres dudas la primera es tú recomiendas aunque puede que por el permiso que nos den no se pueda, pero recomiendas que antes de ponernos a en el caso de que tuviéramos ese permiso, actualizar o modificar o borrar una base de datos guardemos esa base si el espacio lo da, pero en el caso de que tengamos que volver a recuperar Sí, y o sea Sí, no, porque realmente Los de ingeniería no son tontos, es decir Ellos tienen backups cada cierto tiempo Me imagino que se haga a diario Pero ¿qué ocurre? Si vuelven atrás A lo mejor también la información que se ha generado También se puede perder Entonces yo os recomiendo no tocar esto Es decir, ni siquiera probar Quedaros simplemente del select Y listo, ¿vale? Y la segunda es Digamos que se tiene una base de datos donde todos los días se va agregando la venta de la empresa, ¿cierto? Y si uno lo hiciera como un Excel básico, pues va a ir un Excel del 27 de enero, otro Excel del 28 de enero, otro Excel del 29 de enero, ¿sí? Pero pues siempre se tiene que bajar la data para actualizarla porque puede ser que algún pedido haya cambiado de estatus del 8 de enero al 27 de enero, ¿sí? Lo que tú comentas, lo que tú comentas realmente... ¿Eso es otra cosa de actualizar? Sí, o sea, no es que sea otra cosa pero eso es algo que definitivamente hace ingeniería de datos, ¿vale? Es lo que se suele denominar no sé, la empresa a lo mejor de una manera yo lo suelo llamar snapshot, ¿vale? O fotos o capturas de pantalla ¿vale? Es decir, es ver cómo está una tabla en un día específico y hace como una especie de foto que después simplemente pues se va acumulando y hace una foto diaria para que lo que tú dices decir, oye, ¿cómo estaba la situación hace una semana? Pero no recalculando cosas, sino cómo estaba y frente a cómo estaba. Como replanchando pues de la data del 27 pero mañana a cambiar. Como snapshots, ¿vale? Pero eso os lo digo, si necesitáis eso tenéis que hablarlo con ingeniería, porque normalmente los datos obviamente aquí se irán actualizando, imagínate, ¿no? Si esta es la tabla de clientes imagínate que esta tabla pues proviene que se yo, del CRM ¿vale? Y de repente pues actualizan el nombre lo más probable es que con los jobs que tenga ingeniería eso se actualice también en la base de datos entonces claro, ahí pues habría que los backups no se suelen utilizar para eso solo los utilizan para por si algo sale mal por eso lo dicen backup me imagino que serían consultas también un poco más complejas para coger ese job y siempre estar actualizando lo diario realmente no te creas porque vamos, yo digo, yo en mi empresa trabajamos de las dos maneras, es decir, nosotros tenemos las tablas como tal que bueno, son tablas de almacenes de datos, que os las explicaré y están las tablas como tal, es decir si algo cambia, pues va cambiando y aparte están estos snapshots, es decir por ejemplo, para ponerlo en contexto los pedidos, los envíos nosotros tenemos la tabla como tal pero con la terminación de snapshots entonces, ¿qué ocurre? a X hora definida en función de la región que nos interesa que vengan esos pedidos hace como, pum, foto y lo incluye y la diferencia entre la tabla viva y ese snapshot es que hay una columna más en el snapshot que dice la fecha y la hora en la que se ha hecho esa foto pero es algo común y os digo si esto hace falta en vuestra empresa, pedidlo y si os dicen que ocupa mucho espacio, es mentira ok, perfecto, ya me queda claro y la tercera no era tanto duda, sino que si de pronto alguno de nosotros a pesar de que estamos viendo es Business Intelligence pero tenemos el cargo de analista de datos, muy posiblemente si nos van a dar permiso a editar la base de datos, entonces si se va a poder hacer esas cosas que mencionas en el 99% de las veces no lo van a dar, vais a tener el permiso de lectura ok, porque yo veo también análisis de datos pero en otro lado, no acá y por ser ese cargo de analista de datos que viene amarrado un poco con la parte de ingeniería, si dan el permiso por eso lo he mencionado si es analista o no, si es alguien de ingeniería los de ingeniería sí tienen esos permisos, tienen ese rol ellos pueden modificar cosas pero también te comento ellos no van a modificar algo porque tú se lo digas es decir, si se modifica algo es con una razón bastante importante es decir, hay que estar aprobado y demás porque es tocar algo que puede ser bastante sensible ¿vale? así que tened en cuenta que en el 99,9 veces de los casos no vais a tener permiso administrador si alguno de aquí sois ingeniero de datos o algo, o sea que aparte de dadalistas, también formáis parte de IT pues claro, si trabajáis en IT os podéis asignar lo que vosotros queráis, pero claro con cuidado todo eso ok, ok, perfecto, listo, gracias ¿alguien más tiene dudas? sí, profe qué pena, por favor ¿me puedes volver a repetir qué es lo que hace la función Drop table, por favor. Drop table lo que hace es que elimina la tabla. Es decir, drop table no solo elimina dos registros, elimina la tabla. Truncate elimina dos registros, pero no elimina la tabla. Y delete igual, elimina dos registros, pero no elimina la tabla. Pero el primero sí elimina la tabla. El primero sí. Drop table sí. Estos dos no. Listo, gracias. Sin problema. pero os digo que esta función os la explico para que la sepáis y para que sepáis que no debéis utilizarla jamás es decir, que no va a formar parte de vuestro trabajo suponiendo que seáis analistas bien bien ok, y esto obviamente no entra en el examen ni similar simplemente para vuestro conocimiento ¿de acuerdo? bien Tema 4. Inteligencia en negocio o BI como tal. Como os decía al principio, normalmente cuando analizamos los datos, o en este caso hacemos consultas, o incluso imagina, tenemos una herramienta que nos genera ese Excel con información. Lo más probable es que eso no venga de la base de datos que está recibiendo información de los pedidos, de los envíos, etc. Sino que viene de una réplica. ¿De acuerdo? Esa réplica es lo que solemos conocer como almacén de datos, ¿vale? O también lo suelen conocer como el cubo, cubo o lab. Alguien lo ha soñado, ¿no? Lo ha soñado, alguien le suena, ¿no? Entonces, ¿qué ocurre? normalmente, sí porque es lo de los cubos estos antiguos que tienen Excel enormes que se conectaban a una base de datos que te daba la información, entonces ¿qué ocurre? normalmente esa información no se obtiene de la base de datos que está recogiendo información ¿vale? Imaginad, AdventureWorks, nosotros hemos trabajado con las consultas aquí, ¿no? con estas tablas que cada tabla bueno, se ve que hay muchísimas tablas y cada una pues su finalidad es recopilar qué es lo que está pasando en la empresa. Pero estas bases de datos técnicamente no están hechas para que nosotros las consultemos. De hecho, están en servidores donde está conectado con un Trash API y está obteniendo la información. Entonces, su trabajo principal es recopilar información. No que vengamos nosotros y le hagamos aquí una query enorme y lo saturemos. ¿Y qué pete? Pues para ello, lo que se hace es que esa información se traslada a otra base de datos y normalmente a otro servidor, ¿vale? Pero bueno, eso depende ya de cada empresa. Y en esa segunda base de datos, que en esencia tiene los mismos datos, es la que utilizamos para consultar, pero normalmente no lleva la misma estructura, sino que tiene una diferente, algo que se suele denominar como, por ejemplo, almacén de datos. También está el datamart o el datalink. Pero al fin y al cabo, lo que hay por detrás es esto, ¿vale? En base de datos transaccional o operacional, también llamado OLTP, ¿vale? Procesa transacciones. Ese sería este AdWords. ¿Y qué es lo que suele hacer la ingeniería? La ingeniería dice, vale, tú que llegues a información de ventas. Pues ellos hacen jobs, ya sea con SQL o con una herramienta, en la que combinan información relevante de ventas y lo meten en una misma tabla. y ahí está toda la información de ventas con todas las claves posibles, claves ajenas posibles que permitirían conectar con otras tablas. Pero en esencia tendría la fuente principal de información de ventas en una misma tabla, denominada tabla de hechos, ¿vale? En la cual, pues como ya os he dicho, hay muchas claves ajenas que conectarían con las dimensiones, ¿vale? Por ejemplo, como la dimensión de cliente, donde en esa dimensión está la clave primaria cliente y cada fila obviamente es un cliente y tiene toda la información necesaria, ¿vale? Es decir, no es que venga de una tabla tampoco, puede venir de varias. entonces pasaría de esto ¿vale? básicamente de muchas tablas a una versión más sencilla en la que en el centro tenemos la tabla de hechos con toda la información con un alto nivel de granularidad es decir que hay información al detalle y diferentes dimensiones ¿vale? pero que en esencia ¿vale? los datos imagínate si calculáis las ventas del año 2025 frente a 2024 os dará el mismo resultado pero la estructura como sea en la escena es diferente ¿vale? vale, Alejandro dice, se me corta la conexión no perdón, me he equivocado datamart es que se me ha ido datamart es una especie de tabla de hechos ¿vale? perdón, que me he equivocado yo, Alejandro es donde es es un término técnico donde se guarda la información, ¿vale? como si fuese un gestor creo más bien, tampoco lo tengo yo muy claro también te digo, el datamark si, el datamark sería que si en vez de tener esto en tablas separadas lo comprimes todo, ¿vale? es eficiente para el usuario final no tiene que combinar nada, pero a la vez consume mucho, ¿vale? entonces, como os decía se suele pasar vale, perdón Datamag eso, vale no, la tabla ahora veremos el ejemplo, ¿vale? Olga, la tabla de hechos, lo que tiene es muchas claves ajenas no primarias, claves ajenas, ¿vale? que conectan con las claves primarias de las dimensiones mirad, sin ir más lejos, ¿vale? nosotros tenemos aparte de la de un Toolworks normal, el Data Warehouse ¿vale? que de hecho lo tenéis aquí si os vais a a documentación, o sea a la instalación, que lo que pasa es que no dije de instalarlo en aquel momento, pero está el normal y está el Data Warehouse en MySQL lo puse todo junto, ¿vale? es decir, las tablas normales transaccionales pues simplemente tienen el nombre y el las del Data Warehouse empiezan con DBO, ¿vale? pero que están ahí también entonces, en Outlook Data Warehouse ¿vale? como veis hay menos tablas y como os decía, la tabla de hechos como por ejemplo la FAQ Internet Sale ¿vale? contiene toda una información de ventas ¿esto qué es? ¿por qué más pillado que copy-paste? o sea, no entiendo la pregunta ¿documentación por fuera? ¿a qué te refieres con documentación por fuera? se refiere si esas relaciones están documentadas en algún tipo de repositorio o algo donde tú pudieras solicitarla para saber la información que contiene cada tabla. Sí, es decir, ¿acordáis que teníamos el diccionario de datos de AdWords Normal? Pues hay uno para este también. No, no, se refiere a la vida real en tu empresa. Entiendo que el ejemplo es de su empresa. Ah, vale, no te había entendido. Es decir, el modelado. Claro. Es decir, cuando creas esto, si tú tienes que hacer una documentación al respecto. Sí. ¿Os voy a contestar lo que hemos hablado de hecho? Obviamente que sí. ¿Alguien lo hace? Sí y no. Es decir, lo que es, me habéis entendido, ¿no? Obviamente el transformar las transacciones, todas las tablas de transacciones, que hay un código por detrás, a un data warehouse, sí, eso suele estar documentado. Más que nada porque si después arroja algo erróneo para decir quién ha sido el que ha copiado algo, ¿no? Pero después lo que es el modelado este tal cual, no lo creo. Pero lo que es la transformación de OLTP a almacén de datos, a OLAP, podríamos decir, eso sí. Eso tiene que estar documentado, ¿vale? De hecho, ingeniería lo suele comentar. ¿Es nuestro trabajo? No, ¿vale? Pero también tenemos una cosa. Os puede pasar, como por ejemplo me pasa a mí, yo creo que a Alejandro le pasaba esto, que él juega un poco entre el business y los de BI como tal. Es decir, cómo seguir el patrón de conexiones para crear esa tabla de hechos. Entonces, claro, ahí dentro tiene que haber obviamente una documentación de por qué se conecta de esta manera, no de esta, etc. Lo que es el propio modelo, no. Pero el diseño de las tablas de hechos y dimensiones, sí. Que por cierto, José, gracias, que no lo estaba entendiendo yo, Alejandro. Nada, nada. entonces claro, el diseño sí, el diseño tiene que estar documentado y como decía, la tabla de hechos, ¿vale? como veréis tiene pues bastantes campos parecidos a lo que hemos visto, por ejemplo, 6 amount, el freight, etcétera, y también incluye por ejemplo el coste del producto, ¿y qué ocurre? aquí, como veis, hay muchísimas claves es decir, de hecho la tabla empieza con muchas claves clave de producto, clave de la fecha de pedido, clave de fecha de envío clave de cliente, clave de promociones clave de moneda clave de territorio, etc. Es decir, concentra toda la información a un nivel muy desgranado con muchísimas claves ajenas. ¿Para qué? Para que ahora, por ejemplo, imagínate, yo me voy aquí a la dimensión de producto la dimensión de producto está la clave primaria. ¿Por qué? Porque cada uno de estos, cada uno de los registros que es el producto. Y aquí viene toda la información posible por haber que le interese incluida, ¿veis? por ejemplo vienen incluso las descripciones en otros idiomas entonces, como os digo la manera de trabajar en SQL con esta estructura, exactamente la misma ¿vale? porque sigue siendo una base de datos relacional es decir, yo puedo venir aquí es decir, vale, aquí me interesa el, qué sé yo, el el order date key ¿vale? el sales amount y el sales order number ¿vale? pero también quiero el nombre del producto entonces digo, vengo aquí, innerjoin con dinproduct ¿vale? bueno, voy a poner aquí las alias ¿vale? con dinproduct, combino y le digo, oye, que el product key sea igual al product key de de la tabla de hechos y de aquí pues el que se yo el English Description Date lo ejecuto y realmente como veis funciona igual combinas y obtienes la información ¿qué ocurre? seguramente en la vida real trabajéis un poco con ambas porque claro lo que es la parte transaccional donde todo opera no vais a hacer consultas pero también podéis normalmente ingeniería de datos haga como réplicas de esas mismas tablas en el servidor de análisis y a partir de ahí incluso a lo mejor vosotros sois los que vais a decidir un poco cómo se crea la tabla de hechos mediante SQL ¿vale? por eso también es importante que lo sepáis porque habrá veces que nadie del business sepa muy bien la estructura pero es que a la vez IT tampoco y vosotros le diréis a IT el business quiere esto y te os diga como ingeniería pero dime los pasos a seguir o sea si no me explicas cómo funciona el business, entonces te vas otra vez al business. El business te lo explica, pero obviamente el business no sabe todas las interconexiones. Y ahí pues entráis vosotros. ¿Vale? Que de hecho, si no recuerdo mal, eso es algo que pasa Alejandro, de hecho. Ah, bueno, y yo hago también ese papel, al fin y al cabo. Entonces, claro, pues ahí es donde también entra un poco este factor, ¿no?, de que es importante saber el tema de SQL. ¿Vale? Pero, en términos generales, como decía, da igual que trabajéis con transaccional o LTP o que trabajéis con tablas de 8 dimensiones que sería el Data Warehouse, ¿vale? Por lo tanto, como decía, bueno, esta parte un poco teórica, no voy a entrar en más detalles, pero un poco el proceso suele ser el siguiente, ¿no? Es decir, está el ETL que ingeniería, trae información de esas bases de datos y seguidores transaccionales, lo carga, se crea el Data Warehouse, ¿vale? Ese Data Warehouse se su vez es un OLAP, hay diferentes maneras de consumir, como digo yo al fin y al cabo con las interfaces que les hay puede ser Power BI, puede ser Tableau, Matlab, Python etcétera, y a partir de ahí se trabaja, pero un poco el flujo de la información empieza por ahí, la cuestión es que obviamente el ETL aunque lo hagas en ingeniería, por detrás no deja de ser SQL, aunque se haga con otras herramientas ¿vale? pero por detrás es código SQL, entonces el hecho de que en el caso de que simplemente os replique la información transaccional y no sé si va por donde vosotros con sql pues podáis crear como la primera parte del data warehouse bueno no al de este bocadillo sino de la tabla de hechos específicas para la que estoy trabajando si paulina a ver normalmente el tener un seguidor vale ya sea en vuestra propia empresa imaginar en en el sótano, refrigerado. Como alquilar lo que es el cloud computing, un servidor en la nube cuesta dinero. ¿No? Como es lógico. Entonces, ¿qué ocurre? En función del pricing, cualquier cosa, cualquier consulta que hagáis conseguiréis créditos, lo que se suele decir, ¿no? Entonces, claro, te va a salir más barato a lo mejor ejecutar algo que tarda un segundo que ejecutar algo que tarda diez minutos. Es decir, por cada ejecución o consumes computación, ya sea del servidor o toda la parte dependiente, entonces claro son dineros, que después diréis no, pues bueno, si tenemos un servidor debajo de nuestra empresa que trabaja con empresas que han tenido, lo que se suele decir la nube privada, es decir, lo que es el hardware y lo tienen la propia empresa, ¿qué ocurre? ahí no para nada, pero el mantenimiento, la refrigeración si se rompe en los racks la parte de los almacenamientos, etcétera, también se hay que mantener de hecho en el tema del cloud computing en esos cuatro temas teóricos en el cloud computing se explica un poco pero bueno, a vosotros técnicamente os debería dar igual y de hecho vosotros ejecutad todo lo que queráis, mejor dicho todo lo que necesitéis y si le pongo live pues vendrá alguien de IT de ingeniería y decir para el carro, ve más despacio basado en hechos reales, de hecho me ha pasado que me ha hecho la bronca, pero que igualmente no te hay que preocupar por eso no es por este problema, vuestro problema es resolver los problemas de datos por eso digo, con SQL por eso lo estamos enseñando en esta asignatura ¿vale? bien, por lo tanto como os decía el almacén de datos en esencia tiene la misma información solo que funciona como un repositorio normalmente en otra base de datos en otro servidor ¿vale? y aquí por ejemplo como antes que preguntaba paulina oye qué pasa si le hacen fotos normalmente nosotros con las tablas de hechos o los data más también se le hacen fotos porque porque normalmente se condensa la información no se hace fotos de las tablas transaccionales sino ya del producto final vale pero bueno un poco en resumen vale en la vida real lo más normal es que se trabaje con almacén de datos, ¿vale? Aunque también hay transaccional, pero que normalmente se trabaja con normaciones de datos basado en tablas de hechos y dimensiones, ¿vale? Que normalmente, pues, por eso se dice que es un cubo, o algunos, por ejemplo, habéis escuchado lo que sería un cubo o lab, ¿vale? Es decir, este cubo sería toda la información, sería la tabla de hechos, ¿vale? Y cada una de sus caras sería una dimensión, por ejemplo, en este ejemplo un poco basiquito, este cuadradito de aquí, que pone 212, ¿Vale? El propio cuadrito son los datos de la tabla de hechos. Pero este 212 es como si nosotros lo mirásemos de una dimensión diferente. Es decir, la perspectiva de la Argentina producto 1 en junio. Pues sería 2002. ¿Vale? Sería como filtrado de manera sencilla. ¿Ok? Y lo más normal que este cubo tenga lo que se suele denominar como modelo estrella. ¿Vale? Es decir, en el centro estaría la tabla de hechos y alrededor la dimensión. como veis, forma esta esta forma realmente de estrella ¿qué ocurre? que eso es lo normal, pero también hay variación como por ejemplo el snowflake o el multidimensional ¿vale? la diferencia entre estos dos es que aquí hay otro nivel de dimensión, es decir, una dimensión filtra otra dimensión y después la tabla de hecho profe, una pregunta dime sobre ese tipo de modelados eso es que también lo puedo asimilar o asociar como si fuera una arquitectura, como arquitectura centralizada o algo así? ¿No? A ver, me imagino que puede tener muchos nombres, no lo sé, pero... O sea, porque es que yo veo que él recibe, o sea, todo se centra como... Él recibe la información o se alimenta de varias bases de datos, ¿no? Como para... A ver, la tabla de hecho puede pasar que venga incluso de diferentes bases de datos y de diferentes herramientas pero siempre y cuando tú las puedas conectar es decir, el almacén de datos o Data Warehouse, ¿vale? no va a tener una tabla de hechos, va a tener varias de hecho, si miráis aquí ¿vale? hay varias fact tables, ¿vale? ¿qué ocurre? que la mayoría pues tendrán las dimensiones se podrán reutilizar con varias es decir, básicamente aquí con el almacén de datos lo que se intenta es reducir el el número de tablas, ¿vale? Y centrar tablas específicas a un propósito específico. Es decir, por ejemplo, hay una tabla hecha de finanzas, otra de ventas, otra de call center, etc. ¿Vale? De hecho, en el tema 4, si os vais aquí, pongo varios ejemplos y, de hecho, también ejemplos con las queries como tal. ¿Vale? donde hay diferentes escenarios dentro del mismo almacén de datos, ¿vale? Pues hay un escenario de inventario, hay un escenario financiero, ¿vale? Que os pongo un poco los modelados y os pongo también cómo sería el equivalente en las cuentas, ¿no? Entonces, claro, un almacén de datos va a tener varias tablas de hechos y varias tablas de dimensión, ¿vale? ¿Sabes por qué me lo pregunto? Sí, dime, dime. porque es que yo manejo Zap, ¿cierto? y cuando hay que hacer un cubo así es como son varias tablas, entonces, ah no, mira el nombre del acreedor es en esta tabla el valor es en esta tabla esto no sé qué, entonces yo dije bueno, entonces esto es básicamente es como un snowflake porque, pues digamos de un reporte que genera la final ese cubo puedo utilizar la información de como 8 o 9 tablas, esa sería como el modelado de tipo Snowflake no, Snowflake sería, imagínate tú tienes tu información principal que se yo, es que es verdad que yo no he trabajado nunca, no sabría cómo estaría hecho por dentro, pero bueno por dentro en principio iba a ser una base de datos no lo saben ni ellos que no lo saben ni ellos muchas veces ah, pero entonces como Salesforce es libre de trío no lo saben ni ellos muchas veces ¿tú has trabajado con ellos, Antonio? con SAP sí, es lo que me he trabajado ah, vale, pues entonces si me dices eso, me fío no, pero eso es que depende también del integrador que lo que quiera, lo que quiera darte acceso y esto pone muchas trabas para mantener un poco ahí ese servicio y tal, y que pague el FIM en SWAT entonces pues suelen dar muchos problemas SAP sobre todo da muchos problemas en ese sentido y como quieras cambiar de integrador y tal es una movida supongamos EvilCop, bueno y Salesforce también, también os digo, Salesforce por dentro es ¿os acordáis cuando os dije que esto lo hemos hablado, que está mal tener relaciones muchos a muchos, verdad? ¿os acordáis que hablamos de eso? obviamente que pues a la gente de Salesforce, pues porque alguna razón que sigo sin entender le parece bien ¿vale? o sea que imaginar no sé si en SAP pasará lo mismo, pero bueno volviendo un poco a lo que preguntaba la compañera, imagínate ¿no? que en SAP, me lo voy a inventar porque no conozco ¿vale? pero técnicamente el SAP es de cliente ¿no? es un CRM ¿no? realmente, o un RP es un RP, es un RP RP, perdón, vale, es un RP pues imagínate que se yo, pues tienes tres tablas ¿no? si, esas tres tablas que tienen información pues, respecto al business, porque claro, es que tampoco puedo ahora mismo levantar algo es un ERP porque tú solo trabajas con ellos y desde que lo estudié ni me acuerdo. Entonces imagínate que tienes tres tablas y están interrelacionadas. ¿Qué ocurre? Normalmente si esas tablas son las que tienen información, ¿vale? Se juntarían por ejemplo, un join básico y se crearía esa tabla de hechos, ¿vale? ¿Y qué ocurre? Imagínate, que no sé si será el caso, cada registro, ¿vale? Aunque tú los combines todos, pues hay una clave ajena, que sé yo, para la persona que ha hecho esos procesos, ¿vale? Entonces tú dejas esa clave ajena y tú aparte creas otra tabla donde tienes todas las empleados como tal, que serían ya claves únicas y lo conectarías de esa manera. Entonces lo que tú ves en el cubo, realmente tú ves campos o atributos que vienen de esa tabla de hechos, pero también ves, por ejemplo, el nombre del empleado, etcétera, etcétera. y tú lo metes en el Excel después con el cubo, por así decirlo, lo juntas todo y te parece una única tabla, pero solamente lo que hay a por detrás es que estén separadas es decir, lo que me vengo a referir, que es también un poco lo que ha dicho el compañero antes depende también qué es lo que por detrás como lo hayan estructurado, es decir, no hay una solución única para ello, pero posiblemente funcione un poco de esa manera o sea, Antonio, no sé si es que no sé si al final has trabajado con base de datos de SAP que lo hayan migrado a otro lado o simplemente has trabajado en la propia herramienta No, o sea, en la herramienta, pero sí que he hecho integraciones de verticales que querían conectarse a SAP para, por ejemplo, no sé, un vertical para el tema logístico, por ejemplo, una empresa de distribución, querían automatizar lo que es la gestión de la logística y tal, el reparto de rutas y demás. Entonces, necesitaba un vertical que diera otro tipo de información que SAP no soporta, para poder tener un análisis más a tiempo real de la ruta, el estado de la ruta, el seguimiento de los pedidos, etc. Y dan un montón de problemas para todo. Pones muchas trabas en los proyectos Y demás, son un poco especiales Porque ellos intentan venderte addon Hacen addon sobre SAP Y entonces intentan venderte su addon Que al final tiene ciertas limitaciones Y entonces como claro El addon sería básicamente como una especie Que tú pudieses hacer Como si fuese una base de datos Pero que te lo venden aparte Claro, ellos te lo venden aparte como un addon Que integran tu base de datos Y es como un extra, por ejemplo, de expediciones Entonces te montan ahí una especie como de sistema de expediciones pues bueno, un poco chustero y tal y entonces entras en conflicto, digo por lo menos el integrador que en nuestro caso nos lleva a la empresa que nos lleva a nosotros, que bueno, que es de ese estilo pero sí, suele pasar por lo que he hablado bastante con los proveedores de SAP Vale, o sea que al cabo SAP sobre todo en este caso, ¿no? con Salesforce pasa un poco parecido, también os digo es que realmente también es que depende, es decir, que no se puede decir como que en el 100% de los casos se hace de esta manera, ¿vale? creo que era Ana Libel, ¿no? que me había preguntado no me acuerdo, me lío un poco con los nombres sí, profe, no, tranquilo vale, es decir, que es que también un poco depende, pero lo único que te digo es que realmente la información vendrá de ahí pero ya como se ha combinado pues que depende ah, ok, profe, no, es que sí, quería como asimilarlo a alguna de las dos, a alguno de los dos modelos y lo que el compañero dice es verdad, o sea, hay tablas por ejemplo que hay que, antes de acceder hay que pedir permiso al jefe para poder acceder. Porque es información supremamente sensible o delicada. Sí, claro. Eso también depende de las políticas de datos de la empresa. Pero también os digo, no es lo mismo acceder a lo mejor a lo que sería el SQL Server que acceder a las entrañas de sapos de Salesforce en la propia plataforma. Yo digo, por ejemplo, en nuestra empresa lo que suelen hacer es que el tema de Salesforce, obviamente las personas trabajan en Salesforce, pero nosotros en ingeniería lo que hace es un landing es decir, pilla todo lo que hay de Salesforce las tablas por detrás y nos las vuelca a como si fuese a AdventureWorks y a partir de ahí nosotros hacemos reporting de ahí, entonces claro es que también depende mucho de de eso, es decir no te puedo dar una respuesta como tal pero sí, por ejemplo lo que te decía si tienes lo que es la duda entre esto y el multidimensional imagínate, hemos hecho aquí dimproduct, pero es que aparte está dim product subcategoría, os acordáis que también lo vimos un poco, pues la subcategoría iría conectada con producto, es decir esta dimensión se dedicaría a esta y después a esto básicamente esa sería la diferencia esto sería multidimensional y esto sería modelo estrella ¿ok? Ah, listo, muchísimas gracias de esta manera me gusta compartir también un poco con vosotros eso que me contéis de que trabajáis como veis yo también os lo cuento porque es interesante ver también un poco que al final estamos todos más o menos igual vale, pues como os decía básicamente es la manera de trabajar en cuanto a temas de análisis de hecho os decía, aquí hay diferentes modelos con los que podéis con los que podéis practicar bien, es cierto que nos queda poco tiempo, quería ver que simplemente simulásemos conectarnos a Power BI, R y Python, pero bueno, si os parece bien pues ya lo hacemos la próxima semana cuando empecemos la semana que viene también la clase de dos horas y media, pero os aviso, básicamente lo que vamos a hacer es practicar ya un poco todo el SQL con Add-on Toolworks, igualmente incluso con el Data Warehouse si queréis para ir practicando todo lo que hemos visto ¿vale? No sé si alguien queda cinco minutos, si alguien tiene alguna duda alguna pregunta no vale os pido otra vez el favor porfa si podéis si tenéis el tema de los grupos de whatsapp y demás si podéis compartir con los compañeros de que hoy hemos visto el examen vale decir de cómo será y demás ok y nada poco más por mi parte bueno un placer como siempre y nada que tengáis una muy buena semana y y nos vemos la semana que viene vale ok, muchas gracias gracias profe, cuidaos mucho hasta luego hasta luego
