El siguiente audio en español de España), con puntuación correcta. No, profe, no se escucha. Gracias. Bueno, estoy reiniciando el ordenador, entonces como la primera parte es la presentación, confirmadme que si lo hago por el móvil se me escucha, por favor. Se escucha, sí. Vale, entonces como la primera parte es la presentación, mientras así no perdemos mucho tiempo y voy presentándome. Bueno, muchos de vosotros ya me conoceréis de las clases de repaso, ¿vale? A partir de ahora voy a ser vuestra profesora en la parte de todo lo que corresponde a esta asignatura, lo que sería la profesora correctora. Entonces, me presenté muy rápido en su debido momento, porque eran dos talleres y íbamos muy justos de tiempo. Entonces, os cuento un poco mi background para que también tengáis un poco más de conocimiento. y bueno, si alguien tiene alguna duda, aunque no lo veamos en clase, pero que tenga alguna duda de este tema, pues me lo puede comentar sin ningún tipo de problema, ¿de acuerdo? Entonces, bueno, mi nombre es Ámparo García García, actualmente, bueno, soy graduada en Matemáticas por la Universidad de Salamanca en 2018, después tengo un máster en Matemática Aplicada e Informática impartido en ruso por la Universidad Lobachevsky de Nizhny Novgorod, en Rusia, y un máster en Ingeniería Financiera por la Universidad World Quantity University, que es una universidad americana, ¿vale? De Estados Unidos. Un momentito que creo que ahora puedo... Vale, confírmame que se me escucha ahora. Entiendo que sí, vale, perfecto. Bueno, pues lo que se estaba diciendo, ¿de acuerdo? Entonces, desde el punto de vista de mi formación académica sería esto. Aparte tengo varios posgrados en el ámbito de auditoría financiera, en el ámbito también de ahorro y previsión, etc. Pues bastantes posgrados en este sentido y luego soy certificada por Google en Machine Learning Engineer, que es un poco lo que estáis vosotros adentrándoos. Desde el punto de vista profesional he tenido varios trabajos, pero actualmente estoy como desarrolladora de aplicaciones y Machine Learning, todo el tema de inteligencia artificial, en Auditoría Interna de CaixaBank, que es uno de los principales bancos que existen aquí en España. y por otra parte soy profesora de la UNIR más o menos reciente, digamos que hace dos años comencé, bueno hace casi ya dos años comencé a ser profesora en la UNIR en asignaturas siempre relacionadas con inteligencia de negocios, análisis de datos que al final creo que es la parte en la cual os puedo ayudar mucho más. Entonces bueno, este sería mi background así muy en general, más que nada para que tengáis también un poquito de información sobre mí y que no sea simplemente pues bueno, os cuento la teoría y ya está, ¿vale? Así que alguien si tiene alguna duda me puede preguntar. Vale, dicho esto, ¿cómo quiero estructurar hoy la clase? Para empezar quiero preguntaros por cómo vais con la tarea 2 Y sedme honestos, en función de cómo vayáis con la tarea 2 ¿Restructuro la clase a una opción o a otra? ¿Se habéis conseguido enviar la tarea 2? ¿No la habéis conseguido enviar? De verdad que sedme honestos que no pasa nada, ¿eh? Dime Olga Olga o Lucía, no sé qué te piensas Olga, Olga, por favor Buenos días, profe Profe, qué emoción tenerte como profesora estamos muy contentos bueno respecto a la actividad honestamente en mi grupo lo pudimos resolver porque una compañera no sé de que, no sé si es de nuestro grupo creo que es del grupo que tú ya llevabas, nos cargaba las digamos las clases grabadas nos íbamos actualizando nosotros lo hicimos así, esa fue como nuestra situación y lo pudimos entregar vale, entonces Entonces queréis que veamos un poco por encima porque no sé si os habían dado una extensión, mi grupo por ejemplo no tuvo extensión pero creo que hay un grupo que le había dado una pequeña extensión de tiempo, entonces si no sois vosotros perfectos, si sois vosotros pues por favor comentádmelo porque no hago hoy la resolución, es básicamente saber si os hago hoy la resolución o si no os la hago. Vale, entiendo que más o menos casi todos lo habéis hecho. Igualmente sí que empezaremos con la actividad número 3, que quede bastante claro que eso os piden la actividad número 3, que es lo que tenéis que hacerlo. Vale, perfecto. Y no hay ningún tipo de problema, luego resolvemos la actividad y veríamos la parte esta, ¿vale? Entonces, os voy a compartir primero lo que sería esta parte. Vale, vale, perfecto Nada, simplemente eso que asegurarme porque si alguien no le ha entregado como ha habido este cambio de profesor y entendemos esto pues para tener un poco más de mano, si no lo hacíamos hoy lo hacíamos el próximo día y simplemente cambiaba la estructura básicamente era únicamente eso pero si me decís que la habéis prácticamente hecho pues ya no habría problema ¿vale? A lo largo de esta semana también os iré poniendo los foros, dime María Hola profe, ¿cómo estás? Yo estuve viendo también las clases Como dijo Olga Y también las clases de repaso que hiciste Las semanas anteriores Te quería preguntar Esto es en general como para Justamente hacer la actividad siguiente Y para el examen A mí me pasa que cuando inicio un script Para hacer todo lo que es Obviamente la limpieza La carga de librerías y todo eso Yo, hay un momento que Como que limpio el entorno porque creo que vos lo habías dicho. Pero, por ejemplo, en la actividad 2 con nuestro equipo no lo hicimos y nos evaluó bien la profesora. No pasa nada. O sea, no es obligatorio, ¿no? No es obligatorio. Es algo para que tarde menos, ¿vale? Que es limpiar el entorno. Tú cuando estás haciendo varias variables, lo que haces es reescribir. Es decir, si tú llamas datos a una cosa y luego tienes la carga de datos y le vuelves a llamar datos, no vas a tener ninguna afectación porque estás reescribiendo. se suele hacer con motivo simplemente de limpieza de máquina de que por ejemplo imagínate que tú tienes unos que son datos y otros que son data estás siempre acostumbrado a llamar algo data y de repente lo llamas datos ¿qué puede ocurrir? que por costumbre todo un momento en que pongas data pero tus datos ya no son data, son datos entonces si tienes ese histórico de lo que ha ido valiendo las variables es probable que acabe confundiéndose ¿de acuerdo? y entonces acabes con este problema Entonces, más que nada para evitarnos posibles problemas. Pero si tú lo llamas todo igual, reescribe los valores que existen antes y no hay ningún tipo de problema. Es simplemente que la máquina vaya más rápida, que si no necesitamos ya datos que teníamos de antemano, no los utilicemos y vamos encaminados a esto. Sí, sí, sí, excelente, gracias. Y otra pregunta. Claro, lo que necesitéis. No, no, lo que necesitéis. Bueno, yo antes también de cargar el dataset, que lo hacíamos con datos y la rayita read.csv, antes yo lo que hacía era setear la carpeta de trabajo. Pero esto también, no sé si es 100% obligatorio o ya cargando el dataset no es necesario hacer el seteo de la carpeta de trabajo. Aquí te voy a decir que las dos opciones son correctas. De hecho, niveles de programación superiores lo que haces es setear la carpeta de trabajo. ¿Por qué? Porque si no tienes que estar escribiendo la ruta al archivo completa. Si veis los casos, yo os he puesto pues a la C, va a usuarios, va a mi usuario concreto, de ahí sacamos nuestro archivo concreto. si tú presetas que tú vas a trabajar en esa carpeta y tienes todo metido en esa carpeta no necesitas poner toda la ruta lo que pasa que un nivel más sencillo y sin entrar en porque a mí me gusta explicar R desde el punto de vista más sencillo y tampoco con muchísimos tecnicismos entonces desde un punto de vista más sencillo no sería necesario si tú luego esto lo trabajas de cara a un futuro pues sí que siempre está bien tener todo el tema de las carpetas setearlo, etc. pero para este nivel no sería necesario. Excelente, excelente. Bueno, muchas gracias. Nada, nada. Todas las dudas que tengáis, o sea, lo que nos queda ahora de ver, no se entra en el examen y sinceramente se ve muy de pasada y muy de corrido, ¿vale? Entonces, todo lo que necesitéis de dudas, de cosas que queréis preguntar, si queréis mirar más también el tema del repaso, por favor comentádmelo, ¿vale? Estas clases ya son un poco más ligeras, pero eso no quiere decir que cualquier duda que tengáis no la podamos tratar, ¿vale? Sea de la índole que sea, yo hasta lo que pueda os ayudaré. Lo que ya no pueda y escape de mí ya es otro tema, ¿vale? Entonces eso ya sí que nos podrá ayudar, pero hasta el punto que puedas intentar ayudar en todo, ¿vale? Entonces, actividades. Me interesa sobre todo que veamos primero la actividad número 3, ¿vale? Que dentro de esta actividad número 3 entendamos qué se nos pide concretamente, ¿vale? Y repasos profe, ¿vale? Perfecto. no entra, o sea, lo que vamos a ver ahora de teoría no entraría para el examen, ¿vale? Ahora os hago un repaso de qué entra, qué no entra, en qué centraros, en qué no centraros, ¿vale? No os preocupéis y también de qué podéis tener. Entonces, vamos a la actividad número 3 que es la que se os abre ahora porque entiendo que la otra ya, digamos que la mayoría la habéis hecho. Por favor, si hay algún grupo que no lo haya enviado, comentádmelo para poder decir, o sea, no hacer la revisión y que os doy un poquito más de margen, ¿vale? Por este tema del cambio de profesor. entonces, pero decídmelo por el chat porque si no, acabaré corrigiéndola y si la corrijo ya sé que no podemos daros ningún margen extra entonces, vamos con la actividad 3, como siempre, para que veáis que no hay ni carta, ni trampa, ni cartón hacemos la descarga del material sí, vale, os había ampliado hasta el lunes 19 de enero, vale, vale, perfecto vale, entonces, perfecto no sabía exactamente hasta qué día se había ampliado sabía que había habido una ampliación, pero no sabía hasta qué Vale, entonces, os voy a poner la carpeta y vamos a mirar un poco de qué se trata todo, ¿vale? Sobre todo, ya os digo, conmigo me gusta que entendáis bien qué se os pide, que no andéis pensando qué me pide, qué me pide porque no lo entiendo, no, que seáis capaces de adivinarlo vosotros, ¿vale? Entonces, voy a compartir el web que se me está abriendo aquí. Y como entonces tenemos un archivo, ojo, un archivo xlsx, es decir, un archivo Excel, no un archivo CSV, pensad en que vimos dos formas, una forma para leer Excel que era con read Excel y una forma para leer archivos CSV que era para ver CSV. Que en el examen no sabemos si es Excel, si es CSV. fijaros siempre en la terminación Excel, XLSX después del punto y CSV, pone punto CSV pero fijaros en este tema entonces, nos dan este conjunto de datos que tenemos aquí resumen, tenemos STD, ventas discretas, bar discreta, bar continuas datos sin etiquetas a priori parece que son productos que estamos vendiendo en una determinada dirección ¿Por qué? Porque vemos temas de países, vemos temas de identificadores de clientes, podemos ver también el tema del total amount, etc. Entonces, estos eran los datos. Vamos a ver ahora qué nos piden. Nos dice que estamos utilizando una empresa que se llama AdventureWorks y tenemos una serie de variables. Importante, el caso de las columnas, o también hablado como variables, tendríamos el gasto. ¿De acuerdo? Entonces, tema de gasto total. Tendríamos el total amount, nivel de ocupación, occupation, estado civil, soltero, casado, marital status. Es decir, está bastante claro. De todas formas, si alguien tiene algún tipo de duda, por ejemplo, en el examen solemos tender a poner lo que significa cada una de las columnas para que no tengáis que hacer aquí geometría esférica para adivinarlo, ¿vale? Y si no lo ponemos es que se entiende bien o que no es necesario que se sepa, ¿vale? Entonces, primero, ¿de qué tipo de variables se compone mi base de datos? ¿Qué me están preguntando? Me están preguntando al final lo que hacíamos con str. Recordad que cuando hacíamos cargábamos los datos y luego hacíamos str de datos que nos daba, nos daba si era num es que era un valor numérico, si teníamos int un valor numérico pero específicamente sin decimales. si teníamos el caso de factor era una variable de texto que se llamaba factor porque nosotros definíamos que sólo puede haber un número determinado de opciones, es decir una variable por ejemplo que ponga factor rojo, verde, azul, si luego nosotros queremos añadir una fila que sea amarillo no sirve, no hay opción porque sólo puede ser rojo, verde, azul sin embargo si fuese texto es decir, si apareciese char de carácter, sí que podríamos hacer rojo, verde, azul y amarillo porque no estaríamos limitando a un número determinado de posibilidades. Esa es la diferencia entre el caso de factor y el caso de text. Además, internamente el factor le damos un código a cada uno de esos datos. Yo puedo decir el rojo es el código cero. Dime, María. Sí, tiene que ver un poco con esta pregunta. Me acuerdo que en la actividad 2 teníamos, o sea, mentira, lo que hicimos fue especificar que uno de los factores, no me acuerdo cuál era, no sé si era year, month o algo así, no estaba como factor, pero si estaba como factor lo teníamos que transformar a numérico. ¿En qué ocasiones tenemos que usar ese comando? O sea, ¿cuándo tiene que ser numérico, porque sé que hay en algunas ocasiones que no. Vale, aquí distinguimos los lenguajes de programación. Está el lenguaje de programación R y está el lenguaje de programación Python. Os lo voy a decir para los dos, ¿vale? Cuando utilizamos el lenguaje de programación R sí que es cierto que la mayoría de los modelos que tenéis de aprendizaje clasificación, regresión, etcétera, casi todos funcionan con factores. ¿Vale? Entonces no haría falta cambiarlo. Por lo que os digo, factor internamente tiene como un número por debajo. Entonces, internamente es como si fuese texto y número a la vez. Sin embargo, hay cosas que sí o sí necesitáis que sean numéricos. Caso, por ejemplo, de correlaciones, caso, por ejemplo, de covarianzas. Pero a priori R está ya definido para que eso funcione así. Si nos vamos a otros lenguajes de programación, como puede ser Python, no existe como tal el tipo de dato factor. Entonces, al no existir como tal el tipo de dato factor, ¿qué ocurre? que tenemos que pasarlo sí a sí a numérico. Y aquí es donde entra todo el tema de los encoders que veremos el próximo cuatrimestre, ¿vale? Entonces, el próximo cuatrimestre también tendréis conmigo. Veremos también un poco más en profundidad. Aún no he decidido si os continuaré con R o si os lo daré en Python, pero veremos bastante más en profundidad todo esto. Seremos capaces de llegar a más rincones, ¿vale? Entonces, depende un poco, ¿vale? En este caso, si trabajas con R, sí que es cierto que tienes la ventaja que hay modelos, como puede ser la regresión logística, que entiende el factor, ¿vale? Pero, sin embargo, si trabajas con otros lenguajes de programación, siempre los vas a tener que cambiar, ¿vale? ¿Se entiende? Sí, perfecto. Gracias, profe. Perfecto. Creo, Iván, que tenías la mano levantada. ¿Puede ser que fuese una pregunta? ¿O puede ser que te la haya resuelto con la respuesta María? Eso es, sí. Sí, que María Delfina ya ha preguntado lo que iba a preguntar. Entonces, ya está. Perfecto. Gracias. Perfecto, nada, nada, simplemente es confirmarlo, ¿vale? Básicamente para saberlo. Vale, fíjate, Cristina, lo vamos a hacer con un ejemplo. Todas las dudas que tengáis, a mí me gusta siempre, una cosa es que yo os lo diga y otra cosa es que lo veáis, ¿vale? Entonces vamos a poner un ejemplo, una variable que sea factor, ¿vale? Y veamos qué es la correlación y qué es la covarianza, ¿vale? Lo intentamos hacer con factor, lo intentamos con número y lo mismo por el otro sitio, ¿vale? Entonces, hazme cinco segundos. A ver, que os haga una cosa. También me están dando acceso a todo el tema de foros y todo, ¿vale? Así que espero que a lo largo de esta semana ya os pueda poner toda la información. Efectivamente, Alejandro, yo también creo lo mismo, pero como me había planteado esta duda, lo miramos y ya. Al final, la mayoría, cuando trabajéis con este tema de RStudio y trabajéis con estas cosas, siempre habrá cosas que no sepáis entonces, ¿cuál es mi recomendación? que cuando haya algo que no sepáis directamente lo que hacéis es probarlo no perdéis nada en hacerlo de una forma y hacerlo de otra entonces vamos a cargar un conjunto de datos mismamente desde aquí tengo un archivo que sirve a este tema de factor no es que nada porque tengo archivos de todo, así que seguro que alguno para un tipo factor tenéis Vale, me decís de hecho que era la actividad número 2, ¿no? Bueno, si no hago una lista de X, L, S, X. Sí, profe, pero en realidad no aparecía como número, nosotros lo especificamos para decir como si hubiese estado como factor tendríamos que haber hecho otra cosa, pero en realidad no. Vale, aparecía como número. Pero igualmente me parece una muy buena pregunta, entonces vamos a mirarlo, que ya que nos surgen las preguntas, lo más importante es hacerlas, básicamente. Porque así es como realmente aprendéis, o sea, que yo os dé las cosas y os diga esto se hace así, bueno, y si luego sale otra pregunta diferente a lo que yo os he hecho, a cómo sabemos qué hacer. Bueno, pues entonces hagámoslo de manera sencilla. Simplemente para que veáis que lo podéis sacar todo de aquí, vamos a tratamiento de edad para que veáis que es exactamente lo mismo. Tendríamos aquí, perdón, el librería Excel. No se nos olvide hacer el library Excel y el datos Excel. Vamos a ponerlo en el stand 2. tengo un teclado que se me ha acabado la batería vale, aquí vale, entonces lo primero, la librería Excel por cierto, importante ¿a todo el mundo le instala bien los paquetes? pregunta, ¿alguno tenéis algún problema con instalación de paquetes? vale, pues dime dime, Fernando o quien hola profe, ¿cómo estás? a mí lo que me pasa es como un pequeño detalle que solamente me dice como que la versión fue para una versión como anterior. Actualizada. Entonces, claro, la tengo actualizada, pero me dice que fue creada, no sé, para la versión anterior. Entonces, no sé si eso podría generar problema para alguna librería en específico. Vale, no creo, ¿vale? No creo que como tal te genere problemas porque te saldrá como un aviso, y cuando te genera problemas de descargártelo, te sale la palabra error. De todas formas, en el caso de que eso os pase... Yo siempre os aconsejo revisar esta página. Puede que se vea entrecortada. Esta página, aquí tenéis el estudio IDE. Tiene solución gratuita, la que estamos intentando ir a. Bueno, a ver si alguien quiere coger la que es pagante, pero no es necesario. y aquí descargáis el estudio stop que lo descompuntan de gratis y sobre todo al tenerlo aquí tenéis, han cambiado un poco pero si le damos aquí a acabar descargando si lo descompuntan si tenéis dudas y si tenéis problemas descargarlo desde aquí con el install r primero y luego el InstaR Studio, ¿vale? La página que os acabo de poner os va a funcionar bastante mejor y en caso de que os dijes este tema de las versiones anteriores o que lo tuvieses desactualizado, descargaríais de nuevo R y ya os servirá para siempre, ¿vale? Bueno, para cada vez hasta que se actualice, ¿vale? Pero si alguien tiene problemas, empecemos por lo básico, ¿vale? Que pueda hacer el examen. Entonces, si alguien tiene problemas, descargarlo desde aquí, que es la versión que va a dar problemas, ¿vale? Dicho esto, vamos aquí, hacemos el tema de los datos vamos a hacer el read excel del archivo correspondiente como la ruta tiene que ser con los dos corchetes bueno, con las dos comillas, perdón y luego de aquí tendríamos el archivo que en mi caso está en descargas así que será el c creo que lo tenía por aquí copiado que algunos lo hice desde descargas efectivamente ah, importante también esta doble barra, ¿por qué ponemos una doble barra? A veces, sobre todo si empieza por ejemplo con U, lo siguiente que pongáis debajo de la barra, lo que os puede pasar es que se reconoce como un carácter raro, es un carácter específico dentro de lo que es Python, bueno, dentro de lo que es toda la programación, es un carácter así como tal que representa una cierta cosa, entonces para que no os dé ese problema, lo que se hace es poner doble barra, ¿vale? Simplemente por si alguien ha ido a poner la ruta portal del usuario y ve que de repente no le ha funcionado, nada, que sepáis que puede ser por este barra U, pasa con la U, pasa con la N, pasa con algunas letras. Yo por eso siempre lo intento poner con doble barra directamente. Dime, Verónica. Profe, una consulta de cara al examen. ¿Deberemos estar preparadas para leer archivos tipo Excel, tipo CSV, PDF o algún otro más? Excel y CSV. No os va a venir nada más. ni tampoco os va a venir, como vimos en el caso de Titanic, que descargabais y hacíais esa descarga de datos y entonces lo hacíais, tampoco vamos a tener que hacer esto, ¿vale? Solo Excel y CSV. Excel y CSV, efectivamente. De hecho, serán dos bases, os colocaremos dos bases en vuestros carpetas de archivos, ¿vale? Estas bases serán protegidas con una contraseña. Tendréis que, previo al examen, os descargáis estas bases de datos, que serán dos, ¿vale? Os las descargáis, que de verdad es una carpeta zip, y en el propio examen os pondrá la contraseña para poder entrar, extraer todos los documentos de ese zip y ya trabajar de manera normal. ¿Vale? Y aprovecho y digo esto. ¿Vale? Pero CSV y XLSX. Y el código lo podéis tener en un papel aparte. No necesitáis aprenderos el código, necesitáis saber cómo utilizarlo, que es diferente. ¿Vale? ¿Lo podemos tener en impreso o en un archivo Word, verdad? Vale, yo recomiendo si lo vais a hacer online os recomiendo hacerlo en Word hay las dos opciones, tanto el impreso como el Word está permitido, ahora ¿qué ocurre si vais a hacerlo en online? que vais a tener una cámara apuntándoos porque tenemos que controlar que no haya personas ajenas, que no haya nada raro, etc entonces si lo tenéis en un impreso y yo miro hacia abajo, no sé hasta qué punto estoy mirando el móvil o estoy mirando al papel impreso entonces como yo no soy la persona que dice este examen es válido y este examen no es válido por este tema yo si lo hacéis online os aconsejo mejor hacerlo con Word si lo hacéis presencial tanto impreso como con Word, si lo hacéis online en principio sirven las dos cosas pero yo personalmente no lo recomiendo el impreso tenemos primero María y luego Jorge dime María Buenos días profe una pregunta esta librería solamente es para leer los archivos xlx y para ccv es otra para ccv no necesitáis librería interior a r ya está por defecto que se lean archivos ccv, de hecho esto lo tenéis en el aula de la clase en el aula de información general si entráis en documentación os debieron haber puesto y si no os lo vuelvo ahora que tendré acceso os lo vuelvo a poner en el vuestro pero se debieron dar acceso a esto y se te cuenta cuando utilizamos el RIS CSV no pongo ninguna librería porque no es necesario ¿por qué? porque generalmente cuando trabajamos con programación lo que solemos trabajar es con el CSV son archivos que son más ligeros son archivos que el ordenador interpreta perfectamente bien y el formato de Excel a veces hace que tarde más en cargar los datos entonces por eso internamente los ordenadores tienen como interno el archivo CSV y no tienen tan interiorizado el leer Excel y por tanto necesitas librerías aparte. ¿Te ha resuelto? Sí, gracias. Es muy amable. Nada, por supuesto. Iván, coméntame. Y no os preocupéis por la clase de hoy, que estamos haciendo repaso. Lo que tenéis que hacer ahora se ve rápido. O sea, el uso siguiente. O sea, tranquilidad por este tema. Dime, Iván. Has dicho que se puede usar documentos de Word. Se puede usar también PDFs porque, por ejemplo, algunos scripts los tengo en PDF y cuando, claro, se lo voy a pasar a Word eso se queda, pues de aquella manera se queda un horror, vamos, no sé En teoría solo os hemos dado acceso a Word si abres un PDF probablemente te lleve a que no te tengan en cuenta el examen, ¿vale? No hemos tenido en cuenta eso, lo tendremos en cuenta para futuras ediciones pero sí que es cierto que de momento hemos considerado solo Word, ¿vale? Vale No nos dimos cuenta de ese pequeño tema cuando lo hicimos y por eso si no, tanto nos hubiese dado dejaros Word que dejaros PDF pero no lo tuve en cuenta pero imprimido, o sea, se puede tener imprimido, ¿no? eso sí o sea, a ver, se puede tener impreso en principio nosotros dejamos, mirad os voy a poner un foro, ¿vale? que va a ser algo parecido a esto, que va a ser que para eso como ha sido un cambio de última hora y todo, todavía me están gestionando accesos y permisos, ¿vale? entonces, simplemente que lo sepáis, ¿vale? pero yo os daré un acceso espera aquí tengo análisis masivos ahora comento el tema de la ruta relativa que estoy mirando por aquí un mensaje aquí pondré un nuevo que es el hilo de examen que quiero no recuerdo mal el tema es ¿qué les permitimos? Nos permitimos, evidentemente, ordenador portátil, RR Studio, Excel, código en formato impreso y código en formato Word. Entonces, tú en teoría lo puedes tener en formato impreso. ¿Qué es lo que yo os aconsejo? En el caso de que vayáis presencial, tanto formato impreso como formato Word, no hay problema. En el caso de que lo hagáis online, en principio las dos cosas están permitidas, pero aparte tenéis una cámara que os está enfocando y lo que no me gustaría es que por mirar el formato impreso piensen que estáis mirando el móvil o que estáis mirando cualquier otra cosa y hagan que el examen no os lo cuenten. Entonces, básicamente es por esto por lo que os lo he comentado, pero en teoría los dos están disponibles. No sé si te acabo de solucionar las cosas, Iván. Sí, sí, sí. Es más que nada que sobre todo que ya que hacéis un esfuerzo, yo sé que no vais a copiar, pero no sé yo la persona que coge y dice ¿está mirando o no está mirando? Entonces sí que se me asalta la duda de que miréis, por ejemplo, para abajo y pueda malinterpretar. en lugar de que estéis mirando eso, que estéis mirando otra cosa. Simplemente por eso, yo si estáis online sí que os recomiendo más Word, pero me imagino que será posible de otra manera. Un momento María, antes de ti, que tengamos varias preguntas. En algún momento a mí me sucedió que no detectaba el archivo en una ubicación hasta que cambié el archivo de carpeta. De acuerdo. Está bien lo que ha comentado Alejandro, que podéis fijar vuestro directorio de trabajo. pero también depende de la ruta que utilicéis, ¿de acuerdo? Si estáis utilizando una ruta, porque aquí ha salido el tema de ruta relativa, ruta completa, etc. ¿Qué es ruta completa? Ruta completa es lo que veis aquí. Desde el inicio hasta el final yo doy dónde está la situación, ¿vale? ¿Qué es ruta relativa? Ruta relativa os ocurre, por ejemplo, cuando a veces ponen lo siguiente, un punto y luego un archivo. esto quiere decir que estás en la carpeta en la cual estás trabajando en tu directorio de trabajo, tiene que haber en esa carpeta un archivo xlsx, ¿vale? el tema de rutas relativas es más complicado de lo que, bueno, de hecho es en la carpeta anterior, pero el tema de rutas relativas es un poquito complicado así que yo os aconsejo, para el nivel que estamos ahora, haced la ruta completa muy importante poniendo el tema de las dobles barras para que si hay cualquier carácter raro, no nos de estos errores. Vale, también el tamaño total de la ruta. Creo que en el caso de carpetas de Windows no afecta, creo que no afecta, pero si utilizáis, por ejemplo, documentación que tengáis en un SharePoint, en la ruta solo puede tener como máximo un límite de caracteres de 100 caracteres. Más caracteres de 100 caracteres le cuesta al ordenador, pero creo que si trabajáis en local, o sea, en vuestro escritorio sin nube ni nada, en principio funciona sí, y cambiando una por dos normalmente funciona, ¿vale? para que no tengamos, es lo que hace básicamente esta primera barra es decirle oye, que lo que te voy a poner detrás es una barra, entonces se lo interpreta como barra y no hace que barra U nos dé un error por el tema de carácter bueno, de hecho si queréis lo podemos comprobar a veces una imagen vale más que mil palabras, aquí me pone Error, el barra U se está utilizando en un sistema hexadecimal de dígitos como si fuese una cadena de caracteres. Entonces, como son símbolos que están específicamente hechos para esto, pues mejor poner la doble barra y nos olvidamos de todo este tema de problemas. El tema de las carpetas ha quedado un poco solucionado que teníamos por chat. Comentadme. Y si no, yo os aconsejo dejarlo siempre en carpetas que sepáis acceder bien. perfecto María, tienes la barra levantada perdón, lo quería decir yo ponía la barra al revés porque también me daba error me daba error ponerlo o dos para ese lado o una para ese lado, no sé por qué lo pusiste así, ¿no? exacto vale, también, a mí me suele dar más error esta versión para que se dé una cuenta o sea, ¿qué son estas barras que realmente estamos haciendo? Aunque aquí ya nos metíamos en informática profunda y tampoco es mi campo de especialización, pero sí que siento que me ha pasado esto muchísimas veces en mi trabajo. Cuando ponemos esta barra, digamos que el ordenador entiende dos lenguajes, digamos que uno es el lenguaje que le das puro y otro es el lenguaje como ya tratado. entonces ahora mismo no sé decir si una barra o dos barras, creo que la barra sí es el lenguaje puro y las dos barras es el lenguaje tratado en teoría debería entender las dos pero siempre tenemos a veces algunos problemas depende cómo esté configurado internamente tu ordenador y tu error en este caso no sé si te acabo de resolver algo pero bueno digamos que para que lo entendamos es algo parecido a esto así en palabras muy básicas aquí ya entramos en cómo se comunica el ordenador consigo mismo y todo esto que ya es otra variante completamente nueva, el poner la ruta es muy importante y si tenéis un archivo Excel y no sabéis poner la ruta le dais aquí, le dais a from Excel y me lo cargáis aquí, no hay ningún tipo de problema, o sea por cargarlo aquí y luego copiáis lo que os pongo aquí y ya está, o sea no hay ningún tipo de problema, para que veáis que funciona nosotros le damos a browse descargas creo que lo tengo aquí, creo que os he puesto este vale, le damos sí y hacemos incluso si queremos fijar una hoja por defecto por ejemplo, esta hoja por defecto copiamos aquí vale bueno, importamos, de acuerdo, y si queremos porque queremos que aparezca, porque si importamos no nos va a aparecer, hacemos así y pegamos lo que hemos escrito y ya está, vale en el caso de CSV UV a ver si se puede hacer no se fue el sonido no la escuchamos profe No, profe, no la escuchamos. Ahora sí. Gracias. Vale, a ver, a ver, a ver. Ya la escuchamos. ¿Ahora se me escucha? Sí, señor. Vale, perfecto. Bueno, tengo muchos micrófonos. La profe, el micrófono, todo. Tengo 200 micrófonos. O sea, sé que de lo malo, alguno me funcionará en algún momento, ¿vale? Recordadme si en algún momento pasa porque tengo aquí problemas con micrófonos. normalmente no me pasa, pero ya estoy acostumbrada lo peor que me puede pasar es que me quite los micrófonos y básicamente tengo como 4 o 5, entonces voy ajustando, voy quitando voy mirando cuál en ese momento funciona y ya está, ¿vale? Bueno, lo que os estaba comentando, ¿de acuerdo? que con R lo podéis hacer también desde aquí con CSV, no os liéis lo que sí, copiadlo, ¿vale? copiad la parte que os aparece, porque si no, sí que tenemos algún tipo más de problema entonces, fijaros, lo copiamos lo pegamos y aquí tendríamos ya todos nuestros datos, podíamos verlos, no habría ningún tipo de problema. Os aconsejo llamarlo de una forma neutra, ¿vale? O sea, os aconsejo llamarlo datos. Si lo llamáis con datos, casi todo vuestro código funcionará sin necesidad de estar haciendo ningún tipo de pirueta ni ningún tipo de historia. De acuerdo, más cosas que tenemos que hablar. Aquí tenemos a los datos y todo esto venía por el str y el factor y todo esto, que no se me ha olvidado. Entonces, ¿qué tendríais que hacer? Lo que os habíamos comentado, hacemos un STR de datos, no os voy a resolver todo porque evidentemente os estaréis resolviendo la asignatura, ¿vale? Y decidme que nos ha vuelto a ir el sonido. No, profe, te escuchamos súper bien. Perfecto, gracias ¿Crees que vamos a tener acceso a las relaciones de las clases que has dado a los otros grupos en este cuatrimestre? Desde la organización desde la dirección se os está dando acceso ¿vale? No sé cuánto tardarán pero sí que se os dará acceso Ya están disponibles, es un enlace es un PDF con los enlaces Es un PDF, exactamente un PDF con los enlaces, pero deberían funcionar los enlaces, decidme que os funcionan Sí funcionan, sí Vale, perfecto, pues eso, ¿vale? Para asegurarnos Entonces, siguiente Siguiente, siguiente, siguiente, vale Tenemos el STR de datos, aquí tenemos pues temas de numéricos, carácter Esto es lo que os están preguntando, ¿vale? Vamos a seleccionar una columna como puede ser educación La vamos a hacer as factor y vamos a hacer ocupación as factor Y vamos a mirar si nos deja hacer la correlación y la covarianza Que todo esto venía por esta duda pero bueno, vamos a datos, vamos a poner una variable nueva que sea educación, por ejemplo, factor, para no complicarnos. Aquí pondremos datos y nuestra columna que en este caso es educación. importante, consejo si tenéis espacios en las columnas si tenéis cualquier tipo de esta casuística le damos al tabulador para que nos lo complete, porque si son si la columna de la variable tiene espacios tenéis que poner como unos acentos a un lado y unos acentos a otro y si te lo ponen en el tabulador ya te los ponen automáticamente entonces si el ordenador trabaja por vosotros no trabajéis vosotros de más, básicamente, ¿vale? Entonces nosotros hacemos UDATOS, aquí tendríamos que tener creado una nueva columna, es educación factor, ¿vale? Y vamos a hacer ahora lo mismo, pero para el caso de la ocupación y entonces miramos el tema de la correlación y la covarianza. Sí, exactamente, Alejandro, esas comillas, que es que yo nunca las consigo encontrar, entonces al final lo que hago es básicamente que me lo complete la máquina y así nos estamos seguros de que el nombre que ponemos es el correcto y que todo sea perfecto. Vale, de hecho aquí, esto cómo se llama, vale, veo aquí tenemos el tema de la ocupación, que se llama, ah, son dos Cs, vale, perfecto. Sí, me la apuntó Alejandro, el tema del lado de la P. Occupation con dos Cs, cuidado porque si no ponemos el nombre exacto, ¿Qué ocurre? Que nos dice, oye, que tienes un aviso, una columna que no conocemos, ¿vale? Que es occupation con una C. Vale, si hacemos este, ahora vamos a probar el tema de hacer la covarianza. De momento la vamos a hacer sencilla, ¿eh? De datos, dólar, el Cation Factor. ¿Vale? Y datos, dólar, occupation, factor. ¿Vale? Aquí podríamos hacer el Use Complete. ¿vale? fijaros, dice ¿es numérico? te dice que no entonces correlación con varianza necesitas explícitamente que sean numéricos, aunque los modelos de Machine Learning ya te permite tener no numérico, ¿vale? pero es más fácil probarlo, fijaros que, bueno, hemos estado hablando de todo el tema de acceder al archivo de cómo podéis especificar una hoja concreta del Excel que queráis, ¿vale? pero bueno, que al final lo importante era esto y esto en principio estaría hecho, ¿vale? Bueno, entonces está quedado claro, covariance y temas de estadística sí que tenéis que hacerlo vosotros todo el tema que sea de machine learning con factor en principios funciona, ¿vale? Entonces volvemos a lo que sería la actividad y en la actividad lo siguiente que teníais era que teníais que hacer análisis descriptivo ¿qué os están pidiendo con análisis descriptivo? que seáis capaces de hacer el summary de los datos, ¿vale? Entonces en el summary de los datos no os voy a explicar mucho porque estamos con el dataset que tenéis que entregar y no tiene mucho sentido ¿vale? pero el caso de que las variables sean numéricas nos da varios valores, nos da el valor mínimo, primer cuantil, la mediana o segundo cuantil, la media, el tercer cuantil y el valor máximo ¿vale? dime Alejandro si esto a lo mejor es útil también porque para esta actividad creo que había, es la de es el dataset este de de compras de bicicletas ah vale, pues no, me he equivocado pero igualmente también es útil, hay veces que hay que seleccionar algunas columnas específicamente exacto en este caso no vale, aquí ahora cuando vayamos al tema de Machine Learning sí que te diría que escojas vale, de momento en el análisis descriptivo como no te dice nada tendrías que hacer de todas las columnas se entiende que numéricas porque las otras lo más que puedes decir pues es la moda o cuál es el valor que se repita más. Pero va encaminada a que hagáis este sumario y sabéis interpretarlo de todas las variables que son numéricas. Ahora ya veremos el otro tema. Puede ser que sea la actividad número 2. Sí, ahora mismo no te lo recuerdo porque no corrijo actividades, pero puede ser que sí. De todas formas, no os preocupéis porque ahora en actividad 3 lo miraremos. Entonces, importantísimo que sepamos interpretar todo esto. Todo el mundo sabe interpretar qué es cada una de estas cosas o hay gente que tiene problemas, por ejemplo, con los cuantiles? ¿De qué valor mínimo, valor máximo? Creo que eso es más o menos entendible. ¿Diferencia entre media, mediana y cuantiles está claro? Sí, pero recordadlo, profe. Vale, estoy explicando primero la 3, más que nada para que lo tengáis, para que sepáis cómo trabaja esta actividad y luego pasaremos a la actividad número 2. Vale, perfecto. Valor mínimo, claro, ¿no? el valor más pequeño que existe, ¿vale? Valor máximo, valor más grande que existe. Media, pues el valor promedio, ¿de acuerdo? Pero ahora pongamos un caso. Imaginemos que yo os doy una clase y os digo que las notas son 10, 9, 4 y 3, ¿vale? Si hacemos la media, vamos a hacer la amplia, ¿vale? Para que veáis un poco lo que os quiero decir. Luego os corrijo la actividad número 2 y ahí lo miramos. tendríamos 10 más 9 más 4 más 3, que os he dicho, entre 4, ¿vale? Tendríamos que la media es un 6,5. ¿Nos cuadra el 6,5? Sí, porque tenemos valores que son normales, son todos entre 0 y 10, las otras son entre 0 y 10, me cuadra. ¿Qué ocurriría ahora si yo os pongo 100? Perdón, ¿eh? Pero, bueno, voy a poner 1 porque se me va a dar un problema. os pongo 100 más 4 más 9 lo que queráis, más 4 más 5 y más 9 por ejemplo y esto lo divido entre 4 entre 4 son 118 vale, esperad que es que me está funcionando un poco mal el ordenador hoy, siento que habéis tenido que ser justo con los que me funcione mal el ordenador pero bueno, 118 entre 4 vemos que la media son 29,5 Entonces, este 29,5 lo primero que decimos es Está mal, yo tengo las notas entre 0 y 10 Y me está dando una media muy rara ¿Por qué? Porque 100 es un valor anómalo Es un valor anómalo, es un outlier, ¿de acuerdo? Entonces la media es muy sensible a outliers En ese sentido muchas veces se utiliza la mediana Que es el valor en el cual cae justo, justo el medio ¿Vale? Entonces, ¿qué ocurre? Porque cuando la media es muy diferente a la mediana, ¿por qué puede haberse debido? Puede haberse debido a que tenemos valores que son extraños o valores que son anómalos. Si en el dataset todos los valores siguen una distribución probabilística y todos los valores son parecidos, en el dataset la media coincidirá casi siempre, salvo decimales, con la mediana. Pero en el caso de Kyle Clarice, la media puede ser muy diferente al caso de la mediana. ¿vale? Por eso a veces se dice, oye, la distancia entre media y mediana puede ser que tengáis valores outliers. Importante, los outliers o valores anómalos no quiere decir necesariamente que está mal. Habrá veces, como es este caso, que si las notas son de 0 a 10, un valor de 100 sea muy raro, pero habrá veces en que podemos tener una temperatura un día de menos 56 grados y ser cierto, ¿vale? Entonces, bueno, luego esto ya tratamos de outliers y daría para 3, 4 clases más, pero bueno, que lo sepáis, ¿vale? Entonces, cuando hay otro área siempre se prefiere utilizar la mediana porque se considera que tiene un resultado mucho más fiable. Entonces, primer cuantil, mediana y tercer cuantil. ¿Por qué los junto? Porque la mediana no es más que el segundo cuantil, por eso pasa del primero al tercer cuantil, porque la mediana es el segundo. Entonces, primer cuantil. Que el primer cuantil sea uno, ¿qué significa? que ordeno todos los datos que tengo de menor a mayor en la columna del número de coches obtenidos, ¿vale? Y lo que me está diciendo este primer cuantil es que el 25% de la población de la muestra que tengo tiene un coche o menos, ¿vale? Es decir, puede tener menos, pero tiene un coche o menos, el 25% de la población. Cuando vamos a la mediana, que en este caso es 2, lo que nos está diciendo es que el 50% de la población, que se entiende que es hacia abajo, tiene 2 coches o menos. Cuando hablamos del tercer cuantil estamos hablando que el 75% de la población tiene 2 coches o menos. Y ya el máximo que al final coincide con el cuarto cuantil vendría siendo que el 100% de la población tiene 4 coches o menos. ¿se entiende un poco mejor lo que son los cuantiles desde el punto de vista de interpretación de los mismos? o no, puede ser que no si es que no, también comentádmelo Profe, no entiendo por qué por ejemplo en el tercer cuantil son cuatro coches o menos, ¿por qué cuatro coches? En el tercer cuantil son dos coches o menos y en el cuarto cuantil entre comillas nunca se pone porque el cuarto cuantiles el 100% y coincide con el valor máximo, pero bueno, el cuarto cuantile sería cuatro coches o menos Genial Sí, sí, lo habéis entendido bien porque sería raro que te da cuatro y el tercer cuantile marca un dos, así que perfecto Vale, vale, pues entonces queda más entendido lo que son los cuantiles repito que el día de hoy tardaremos un poco más, pero quiero que todas aquellas dudas que tenéis con Aleida que queden resueltas, aunque sean del principio Entonces, lo que os están pidiendo es esto, ¿vale? Dicho esto, siguiente cosa que nos están pidiendo, fijaros que ya hemos hecho el punto 1, ¿vale? O nos preguntan también la correlación. Para la correlación, recordad que si vamos aquí al tratamiento de datos, lo tenemos bastante explicado, ¿vale? No, correlación creo que os la explicaba porque se me olvidó poneros en tratamiento de datos y, perdón, esto sí que no, esto es otra cosa. En 5 segundos que está en códigos R, curso de R y lo tenía, si no recuerdo mal, cuando hablamos de la regresión línea, efectivamente. Entonces, la correlación, importante, queréis correlación de las variables que son numéricas, no podéis hacer correlación de variables que no sean numéricas. entonces mi opción es que utilicéis esta recordemos si utilizáis estos simbolitos que es el porcentaje a mayor porcentaje lo que comentamos en el repaso que es después es muy importante que tengáis la librería de Plir recordemos que si alguien no tiene la librería de Plir se puede descargar con el Instant Packages de Plir y si alguno al descargarlo le da error que pruebe con la versión Deposit que os he pasado por el chat, ¿vale? Que con esa sé que no da y es la última versión. Entonces, ¿qué hacemos? Seleccionamos aquellas que son numéricas y, bueno, en este caso es por varianza pero si vamos a la corrección, tenemos correlación y use complete observations. ¿Por qué ponemos esto de complete observations? También con tidyverse. ¿Tú sabes hacerlo con tidyverse? Perfecto, Alejandro, no hay ningún tipo de problema. A mí me gusta más esta porque es como más visual lo que haces, pero da igual la que prefieras, ¿vale? Entonces, ¿qué es Complete observations. Fijaros que no hemos hecho ningún tratamiento de nulos. Entonces, claro, varianza, covariance y correlación. Vale, explico esto y explico varianza, covariance y correlación. Entonces, no hemos hecho ningún tratamiento de nulos. Por lo tanto, si tenemos nulos, lo que nos va a pasar es que la correlación nos va a parecer como NA, como nulos. Para que esto no nos pase, utilizamos esta frase de use igual a complete.observations o OBS, que nos aseguramos que los datos los estamos haciendo a la correlación sin los valores nulos, ¿vale? Para que no tengamos ningún tipo de problema en este punto. También podéis hacer un análisis de nulos al principio, sería lo suyo y ahora lo veremos, ¿vale? Pero si alguien se lo olvida, que sepa que si ponéis complete.observations nos dará el resultado correcto. ¿Ves? Pero si hicimos ya la limpieza de los nulos antes, igual aunque pongamos complete.es, ¿está bien? Está bien. No os va a hacer nada. O sea, lo va a ignorar porque va a decir, tengo todos perfectos. Entonces, pues utilizo todos. No tenéis ningún tipo de problema. Sí, sí. Vale. Diferencia entre varianza, covarianza y correlación. Vale. Importante. Varianza. ¿Qué es la varianza? Para que nos entendamos. En la misma columna, ¿cómo varían las cosas? ¿Vale? Entonces, cuando hablamos de varianza, es dentro de una misma columna afecta solo una columna. Si yo, por ejemplo, tengo un conjunto de datos que son notas, ¿vale? Y van a ser como vuestras notas que serán 10, 9, 9, 10, 9, 9, 9, 8, ¿vale? Muy concentradas. Entonces ahí tendrás una varianza pequeña, ¿vale? Pero miramos solo esa columna y si esa columna es 10, 5, 4, 3, 2, 9, no sé cuántos, que es como mucho más dispersa, tendrás una varianza más alta. Mide la separación que hay entre las observaciones. dentro de la varianza, ¿vale? Hasta dentro de la misma columna. Cuando hablamos de covarianza y cuando hablamos de correlación, estamos hablando de dos columnas diferentes, ¿vale? Entonces, la covarianza se interpreta de una manera diferente. Desde el punto de vista de estadística, se interpreta de bastantes maneras, pero para vosotros, realmente lo que os va a indicar la covarianza es la relación, pero sobre todo lo que tenéis que sacar es el signo, ¿vale? Si es signo positivo o si es signo negativo. ¿De acuerdo? Y cuando hablamos de ese signo positivo, ambas variables, ambas columnas aumentan a la vez, es decir, cuando aumenta una, aumenta la otra, aunque una puede aumentar de dos en dos y la otra de uno en uno, pero cuando aumenta una, aumenta la otra. Si el signo es negativo, pues pasa al contrario, cuando una aumenta, la otra disminuye. cuando la covarianza es 0 es que no hay relación entre ellas y luego tendríamos el caso de la correlación la correlación para mí es el más utilizado y el mejor porque al final sí que me permite saber cómo se relacionan y aparte saber el valor, si es fuerte o si es débil entonces la correlación sí que sabemos que va entre menos 1 y 1 y al final la correlación se calcula en base a la covarianza y la varianza Por tanto, a veces, antiguamente, sobre todo cuando estés trabajando con Excel, nos dicen, no, calculad la varianza, luego las covarianzas y luego la corrección. Porque la corrección, por el coeficiente de Pearson, que es el que se están calculando, efectivamente, el resumen de Alejandro es exacto. Lo que realmente se hace es la covarianza de las dos columnas, dividido entre la raíz cuadrada de la varianza, que es la desviación típica de X, la desviación típica en griego que son las la desviación típica es la raíz cuadrada de la varianza entonces el signo viene de la covarianza ¿por qué digo que al final el signo es el mismo? dime Cristina una pregunta la cosa es que ¿qué utilidad tiene la covarianza? si al final la correlación ya también te dice el signo ¿qué información extra te da la covarianza? Ninguna, ¿vale? La respuesta, os la diré claramente, es ninguna ¿Vale? O sea, no me decís tan igual Pero si en el examen os preguntan ¿Que analicéis covarianza? Analicéis covarianza ¿Vale? Pero realmente, ¿qué pasa? Que normalmente R y todo el tema de masinones están muy ligados a la estadística Y en la estadística, ¿qué pasos haces? Primero haces la varianza para tener las desviaciones típicas Exactamente, luego haces el tema de la de las covarianzas y luego haces la división, la haces matemáticamente la división, ¿vale? Entonces, lo que han hecho es, normalmente se enseña en plan de primero tienes la varianza, la expresión típica, luego las covarianzas, ¿para qué? Para poder sacar la correlación. Cuando ha venido todo el tema de la informática, directamente podemos sacar la correlación sin ni siquiera hacer el paso intermedio de covarianza y sin hacer el paso intermedio de varianza, ¿vale? Entonces, es simplemente por eso. A la larga, con si tienes la correlación, puedes utilizar la correlación sola, salvo que en el examen te pregunten específicamente que hagáis covarianza también, ¿vale? ¿Qué puede pasar? eso os lo comento ¿sí? ¿queda claro más ahora? tanto Olga como ¿qué es lo último? ¿os he resuelto la pregunta? yo soy matemática y matemáticamente tiene un sentido etcétera, etcétera, etcétera y a mí me gustan las dos cosas, pero no estoy en una clase de matemáticas al uso ni una clase de estadística al uso, esta vez a intentar entender cómo aplicar las cosas y entender el concepto fundamental ya el tema de matemáticas pues para otras personas. Dime. Disculpa, es que yo quiero saber cómo hago para ver este mismo archivo que estás mostrando allí, donde están todas esas claves, que no lo veo, no lo encuentro. ¿Con qué nombre lo encuentro? En principio, en principio, en vuestra aula, si ves aquí, o no, no lo hagas así, a la parte de la información general. Si vamos a documentación, ¿vale? Tenéis la documentación del taller de R. y ahí tenéis un archivo ¿vale? sería este PDF que os he puesto aquí Ah, ok, muchas gracias esperemos un momento, vamos a comprobarlo de las formas todos este tenéis todo efectivamente, para saber si hay nulos en una columna en cualquier columna tenemos esto ahora os lo explico, vale, Olga también lo ha enviado, perfecto Vale, entonces, bueno, la correlación queda clara. ¿Sabéis cómo identificar la correlación? ¿Cómo se expresa todo lo de la correlación? Entiendo que... Bueno, si está entre menos 1 y menos 0,5, si es de menos 0,6, menos 0,7, esto sería una correlación negativa fuerte. Es decir, que cuando una variable aumenta, la otra disminuye. Gráficamente vendría siendo... algo parecido a lo siguiente, ¿vale? Parecido a una línea recta, pero que va hacia abajo. Puede ser en este eje, puede ser en este eje, bueno, donde queráis, pero básicamente se parece a una línea recta. Cuando estamos entre correlación entre menos 0 con 5 y 0, la recta ya no es tan visible. Entonces sí que es cierto que cuando aumenta una variable, la otra disminuye, pero es débil. No vemos una relación tan clara como si venía una línea recta hacia abajo, ¿vale? Suele ser algo más... Suele haber bastantes puntitos así. entonces notáis que baja pero no podríais decir si es una línea recta o no es una línea recta, ¿vale? para que no se entendamos 0 son independientes no hay relación entre ellas y entre 0 y 0,5 estaríamos hablando de correlación positiva débil más menos vemos o acabamos por ver un poco así que va aumentando pero no se nos asemeja una recta y correlación positiva fuerte pues estaríamos hablando de un montón de puntitos que sí parece que se asemeja a una recta y cuando aumenta una aumenta la otra, ¿vale? más claro lo que sería la correlación. Aquí tenéis un ejemplo con un montón de opciones. Sí. Select where is numeric. Esto te selecciona solo las numéricas para que no tengas problemas. Correlación y covarianza solo pueden utilizar numéricas. Y esto de complete observations es por si no has eliminado los nulos, ¿vale? Imagínate que no has eliminado los nulos. Entonces, te dará todo NA. Como no quieres poner, quieres que no te salga NA y quieres como eliminarlos entre comillas, utilizas el complete observations y ya únicamente te toman los valores que sean símbolos. Vale, perfecto. De acuerdo, entonces, este primer... Vale, el PDF no. Ahora, luego al final de la clase os aconsejo lo que yo haría. Para eliminar números, también, también. Las dos opciones son correctas. na.rm igual a true también es otra opción. Vale, de nuevo, se os corrige porque las cosas salgan, ¿vale? Entonces, no os preocupéis, hay muchísimas formas de hacerlo, utilizar la que más os convenga y por eso también hicimos el PDF. ¿Para qué? Yo os doy un PDF con las opciones que yo utilizaría, pero imaginemos que vosotros, por ejemplo, yo utilizo mucho el na.mit. Pero a vosotros os podría gustar más hacerlo con corchetes y con la exclamación, ambas opciones son válidas. En el código que hagáis para utilizarlo en clase, seleccionar la que más os convenga, la que más cómodo os sintáis, ¿vale? Si a ti te sientes más cómodo utilizar na.rm igual a true, pues pon na.rm igual a true, sin problema. Dicho esto, este primer apartado ya estaría, vamos al segundo. ¿Podría estimar un modelo que le permitiera clasificar si un individuo realizará una compra o no? Fijaros, me está dando dos opciones, sí o no. Entonces, ¿qué estamos hablando? De una clasificación, porque yo quiero clasificar en unas categorías que conocemos. no os hablo de funciones, parámetros, como fue útil en algún momento es útil, ¿vale? lo veremos mucho el año que viene perdón, el cuatrimestre que viene pero a este nivel todavía no no os vamos a pedir nada que tengáis que utilizar funciones, nada de esto ¿vale? pero sí, sí, es muy útil ya el siguiente cuatrimestre que os pille de inicio ya os prepararéis bien para mirar todo este tema no os preocupéis Bueno, entonces, aquí modelo de clasificación, fijaros que nos preguntan las dos, regresión logística y árbol de decisión, fijaros que nos especifican qué hoja tenemos que utilizar, en este caso nos especifican que únicamente utilicemos la barra discreta ADQ bicicleta. ¿vale? Entonces, importante, regresión logística, álbum de decisión y nos están, ¿por qué? Porque nos están preguntando si hace una compra o no hace una compra. Aquí probablemente tenemos un conjunto de datos, bueno, probablemente no, que ya os digo que sí existe, que es ¿dónde está? Aquí tiene que haber un conjunto de datos, que es una columna que sí, ¿no? Segurísimo, además, esto lo tengo yo en otras asignaturas también vale, yo ahora mismo no lo estoy viendo ¿por qué no lo estoy viendo? vamos a abrir el archivo Excel y terminamos con este archivo Excel mirándolo, bueno, no la clase pero que terminamos antes mirando dónde está la columna de si compra o no compra vale, vamos a ello habilitamos edición Sí, con Glimpse también, pero bueno, prefiero porque sé más o menos dónde tiene que estar la columna, porque he utilizado bastante este dataset, con lo cual, nuevamente está como aquí al final, ¿vale? Entonces, probablemente si vamos a barrescreta, barres continuas, vale, y datos sin etiqueta. no supervisado vale sí, ahora te explico el tema de la regresión logística dame un momento que si no tenéis aquí la columna pues difícilmente vais a hacer las cosas es básicamente hay que comprobar que estoy mirando la misma columna o sea que estoy mirando si el individuo realiza una compra o no vale, entonces tenemos aquí y el link con número de niños, educación, si tiene una casa o no. Pero aquí falta otra, que si contra uno. Perfect, person. A menos que... No. Vale. Ay, perdón, que estamos en más discreta de bicicleta, perdón. Aquí. Ah, vale, tenéis aquí, os lo han movido al principio. Vale. Esta columna que tenéis, BikeCurchase, si os dais cuenta, ya lo tenemos en 1 y 0. en función de si compra o no compra la bicicleta. Si nosotros hacemos una tabla de frecuencias, si hacemos una tabla de frecuencias, podremos saber cuántos datos tenemos a prive. Entonces podríamos hacer una table de datos y ahora pondríamos aquí el tema de bike purchase. Mi mente está al final y por eso me he guiado un poquito. Si tenemos 9.352 casos en los cuales son cero y 9.132 casos, en los cuales son 1, ¿vale? Entonces, esta es la que tenéis que estimar o predecir con la reflexión logística y con el tema del árbol de decisión. No os compliquéis, ¿vale? Intentad seleccionar las variables que sean más importantes y si veis que no conseguís alguna, ¿vale? Recordamos que las variables que, por ejemplo, son el tipo de educación, ocupación, lo podéis pasar como as factor, ¿vale? Para poder luego utilizarlas. y recordemos, muy importante, que lo que tendremos que hacer es esta variable byte por chase dependiendo del resto con el GLN, que es el modelo de regresión logística y con árbol de decisión. Vale, varias cosas. Lo de seleccionar las variables más importantes es para hacer hipótesis. Bueno, aquí lo que me refiero es que utilicéis un poco la intuición. Si vamos aquí a nuestro dataset, empecemos. Total amount, la cantidad de gasto que se ha utilizado, para mí es importante. Usando el STR de datos, se saca una vez ahí con un factor para saber que en la categoría compra y no compra. no es necesario porque puede ser numérico sé que necesitas que sea factor cuando hagamos la regresión logística, pero si no hacemos la regresión, perdón, cuando hagamos la matriz de confusión pero antes de hacer la matriz de confusión no es necesario, puede ser numérico y no habría ningún tipo de problema más eso respecto a tu pregunta Edwin y después tendríamos que total amount, en principio lo que se gasta la persona, pues sí que parece que sea un dato importante para saber si compra o no compra, por lo tanto, pues esta la tendríamos en cuenta. Pero, por ejemplo, si yo os digo el Customer ID, que una persona se llame Amparo o que se llame Juan o que se llame Miguel, ¿en principio creéis que afecta el hecho de que compre una bicicleta o no compre una bicicleta? Pregunta. Efectivamente. Entonces, pues no vamos a seleccionar esta columna, ¿vale? Recordemos que en esta de tratamiento de datos tenéis como podéis quitar columnas, ¿vale? Por aquí abajo tenéis una que es con el menos y podéis quitar o podéis simplemente seleccionar aquellas columnas que queráis, ¿vale? Existen las dos opciones. Si vamos ahora a nuestro... ¿Cómo has importado el PDF? Ah, no, no lo he importado, ¿eh? Esto es básicamente que yo lo hago con un tipo que es QMD porque me lo recomendó un compañero sobre todo en mi curso. Entonces, este QMD luego se puede pasar a PDF, que es lo que se ha subido, lo que se ha subido a vosotros, ¿vale? dicho esto un poco más tenemos el tema del país bueno el tema del país podemos decir bueno aquí sí que quizá nos afecte si está en un país más cálido puede que utilice más la bicicleta pero por ejemplo si a lo mejor estamos en Rusia con todo el frío pues a lo mejor como que la bicicleta no es lo que más nos apetece entonces en este punto esto sería texto que tendríamos que hacer con el texto pasarla a un factor como lo hemos hecho parecido aquí con el as factor ¿vale? en Australia por ejemplo, casi todo el mundo la utiliza efectivamente, ¿vale? Si tenemos el país el código de la región, es decir la abreviatura, me da igual, ¿vale? Si ya tengo el país, la abreviatura al final es lo mismo. El grupo, pues a lo mejor me decís, no, es que por país no quiero hacerlo por continente, pues lo hacéis por continente, ¿vale? El person ID, lo mismo que una persona sea Juan, que sea Pedro, que sea, no afecta, ¿vale? Normalmente cuando son identificadores es raro que afecte, ¿vale? el tema del tipo de persona pues aquí lo primero que haría es decir ¿qué variables tiene mi tipo de personas? entonces haría de mis datos el person type porque si siempre tengo el mismo valor, como es este caso, siempre es el valor in también elimino la columna, no me importa nada siempre es el mismo tipo de persona por lo tanto no me importa nada la fecha de última compra, fechas os aconsejo huir siempre de las fechas. Aquí tenéis dos opciones. Hacéis una columna nueva que sea la fecha de hoy menos esta fecha y tenéis los años de la última compra o simplemente de momento la podéis ignorar. El tema de la fecha de cumpleaños. Si ya tengo la edad, la fecha de cumpleaños ni os compliquéis. Fuera. El tema del estado marital. Fijaros que tenemos varias opciones pero es texto con opciones. Por tanto, yo creo que si estás soltero o casado sí que podría llegar a influir Por lo tanto, tendríamos que pasarla como un factor previo a utilizar la regresión, ¿vale? Así un poquito todo, ¿vale? Para que lo tengáis en cuenta. ¿Queda claro lo que hay que hacer con la regresión logística también para el árbol antes de hacerlo? Aparte de eliminar nulos y todo este tema. ¿Queda claro? Creo que en este tipo se seleccionaban las colinas. ¿Cómo? ¿Cómo seleccionabas las colinas? Sí, perfecto. Aquí tenéis dos opciones, ¿vale? Bueno, hay varias. La primera es, podéis, por ejemplo, yo aquí he creado columnas nuevas, pero para pasarlo a factor podéis poner el mismo nombre, seleccionar a factor, hacer esto con las de texto y luego vais a la regresión logística, que la tenéis, os voy a decir dos opciones, ¿eh? que la tenéis por aquí a ver dónde la metí en clasificación vais a la regresión logística y luego a lo hacemos, o la opción de Alejandro efectivamente la segunda que os iba a comentar fijaros que aquí podéis hacer el dato select y poner todas las columnas, importante que aquí las de texto ya las habréis pasado en factor en caso de utilizarlas y luego lo realizáis con el GLM o la otra opción es en el GLM ir escribiendo todas las columnas que queráis y no las que no os acentúan. ¿Se entiende? Sí, perfecto, profesora. Otra cosa. Aquí no me están pidiendo a priori, dejadme comprobarlo, ¿vale? Pero no me están pidiendo a priori. Sí me lo están pidiendo. Vale, nos están pidiendo cómo de buenos son los modelos. ¿Vale? Sí, cómo de buenos son los modelos. Entonces nos están pidiendo una métrica para las clasificaciones. Esto no entra, ¿no? Esto de cómo buenos son los modelos. Perdona que entra así, pero perdón. No, no. Esto es la matriz de confusión. Ah, vale. Básicamente. ¿Vale? Entonces, cuando decís cómo de buenos son los modelos, básicamente es la matriz de confusión, cómo se están pidiendo cómo de buenos son los modelos, ¿vale? Ahora veremos luego el examen si esto os puede entrar o no os puede entrar, ¿vale? Pero lo que estamos diciendo al final es hacer la matriz de confusión, Con lo cual yo recomiendo que hagáis la división entre un conjunto de entrenamiento y un conjunto de testeo. Conjunto de entrenamiento es donde genero la regresión, conjunto de testeo lo que me sirve, ¿vale? Es un poco lo que habíamos visto aquí, ¿vale? De dividir el entrenamiento y testeo. Creo el modelo con los datos de entrenamiento, ¿vale? Y después, vamos por aquí, vamos a por aquí, ¿vale? Los predigo sobre los de test C, ¿vale? Entonces, de esta forma yo tengo el resultado que me da en mi caso de test, tengo lo que realmente vale el caso de test y puedo hacer la matriz de confusión. ahora te comento primero Iván y luego Olga que era un poco lo que hacíamos aquí con la confusión matrix que lo explicamos en su debido momento ¿vale? entonces, cuando os preguntan cómo son los modelos, básicamente es que si la cura si es por encima del 60% sería un buen modelo, por ejemplo, ¿vale? que lo expliquéis un poco y que expliquéis las métricas de sensibilidad especificidad que hablamos en el repaso ¿vale? de clasificación no de clasificación de momento ¿sí? ¿se entiende? Ahora os comento, pero más o menos lo que acabo de decir, ¿se entiende, Alejandro? Con el tema de... No, perdón. No pasa nada, no pasa nada. Sí, sí, por supuesto, lo hacemos, ¿vale? No nos lo voy a hacer en el ejercicio porque tendríamos un problema, ¿vale? Pero lo hacemos con este sin ningún tipo de problema. Ah, importante para el examen, saber crear columnas, ¿vale? Luego lo pasaremos otro día sin problemas. Vamos a cambiar estos datos. Ahora os doy paso, ¿vale? Tendríamos lo que sería, eliminamos los nulos, aquí sí que es cierto que creamos una columna en que si la columna Read Today es sí, entonces le pones un 1 y si la columna Read Today es no, le pones un 0. En este caso esta columna ya estaría creada, ¿vale? Pero para el examen tened en cuenta esto, ¿vale? Entonces, seleccionamos los datos numéricos en este caso, ¿vale? Y lo que haremos es, digamos que hacer el modelo de regresión logística, ¿vale? Como nos piden una matriz de confusión, analizar cómo de buenos son los datos, tenéis que pensar modelo de clasificación, relación logística, árbol de decisión, métrica, la matriz de confusión, ¿vale? Tiene que venir ligada. Entonces, para hacer una buena matriz de confusión, ¿qué se hace? Pongamos que somos niños pequeños, el ordenador es un niño pequeño, ¿vale? Entonces, ¿cómo le enseñas a los niños pequeños a leer? Primero estás diciéndole, mira, la M con la A es ma, y esta palabra es mamá. La M con la E es me, y esta palabra es me, o ese es el pronombre me, o lo que sea, ¿no? Entonces, empiezas así. La C con la A es ca, la S con la A es sa, por tanto tienes casa, ¿no? Esto es lo que hacemos cuando descomponemos en un conjunto de entrenamiento, ¿vale? Cuando descomponemos en el conjunto de entrenamiento, que normalmente es un 80% de los datos, Y creamos el modelo, le estamos dando al modelo como si fuese el niño pequeño, los datos y la solución. En la serie de Fijatec, cuando tienes estos datos, resulta que llueve hoy. Y cuando tienes estos otros datos, resulta que no llueve hoy. ¿Sí? Esta sería la primera fase, que es la fase de entrenamiento. ¿Vale? Entonces nosotros ejecutamos. ejecutamos y como la crisis binomial es eso, pues tendremos la relación lógica importante hacer la familia binomial, ¿vale? Ya recordemos que este no era el mejor algoritmo porque predecir el tiempo es muy difícil, pero bueno, que lo sepamos que se puede hacer, ¿vale? Luego vemos el tema del samaritano. Ahora bien, ¿qué es lo siguiente que haces? Exacto, ahora os comento, ¿eh? ¿Qué es lo siguiente que haces con el niño pequeño? Le das pequeñas frases y dices léelas y tú estás comprobando si lo que ha dicho es correcto o es falso, porque tú sabes lo que tendría que leer el niño pequeño, ¿no? Pues aquí estamos en lo mismo, ¿vale? Lo que vamos a hacer es predecir, pero ¿qué? Con el resto de datos que yo no le he dado a la máquina para que aprenda. Este resto de datos yo sí que sé el resultado, pero yo a la máquina no se lo doy. Pues como si fuese el niño pequeño, le pongo la frase y digo, ala, léela. Pues aquí le decimos que doy estos datos, ahora predícemelo que sería. con lo que se utiliza el test. Esto es lo que comentabais, ¿de acuerdo? Que en este caso, si la probabilidad es mayor que 0.5, redondeamos a 1 y si la probabilidad es menor que 0.5, nos quedamos con el 0, redondeo para tener la clase 1.0. y aquí es donde haríamos con el método type response para que sirve type response para que tengas el tema de la respuesta, si no recuerdo mal la relación logística siempre va con el type response en este caso, igual que al principio la relación logística siempre va con la binomial ahora mismo no me acuerdo, no te podría decir exactamente es como lo has dicho no, no, tranquilo, todas las cosas que tengáis podéis sin problema, ¿eh? O sea, que para eso estamos, para eso estamos. Y para eso me pagáis en el fondo también, así que cualquier duda que necesitéis, sin problema, me la comentáis. A medida de lo posible os intentaré resolver, ¿vale? Vale. Podéis hacer una matriz de confusión sencillita. No os la aconsejo porque yo siempre intento que el ordenador intente trabajar por mí lo máximo posible, ¿vale? Entonces, os aconsejo esta forma de hacer, ¿vale? ¿Qué ocurre? Que para la matriz de confusión yo no le puedo dar 0 y 1 porque interpreta que son números y entonces interpreta que puede haber un 0,5 ¿vale? Entonces lo que vamos a hacer es convertirlo a factor para decirle no, no, solo hay 0 o 1. No hay una opción intermedia de un 8 o de un 0,5 o de un 0,25, solo puede ser 0 y 1. Entonces convertimos a factor el resultado que me ha dado de la relación logística, la solución que yo sé que existe en la resolución logística y aplicamos la matriz de confusión. Ahora voy al tema de buenos y malos. Cuando hablamos de la matriz de confusión, importantísimo, el accuracy. Este valor lo tenéis que multiplicar por 100 para tenerlo en porcentaje. Sí, creo que está. Está en el PDF. En el PDF, en la parte de clasificación, debería estar todo. En el PDF que os he enseñado antes. ¿vale? en la parte de clase tendréis el priori bar, ¿vale? pero este cartel es por el momento, podéis filmar aquí, ¿eh? cuando vayáis aquí, lo que es copiar sin ningún tipo de problema, no son imágenes, ¿vale? si seleccionáis y tal, os lo subo por sacado, ¿vale? entonces, aquí tendréis la divisa, si os dais cuenta más o menos lo mismo, lo que pasa es que algunas cosas que no le caben, pero bueno, para que lo veáis. Vale, ahora estoy de acuerdo, entonces tendríamos que ir a la matriz de confusión, también un poco explicado, un poco a grandes rasgos lo que sería. Es muy raro que os dé uno, pero esto tenéis que pensar que es como que es un 100% de acierto, ¿vale? Luego aquí tenemos otros números que son interesantes, que son verdaderos positivos, El modelo acierta, aquí tenéis que considerar positivo 0, entonces el modelo acierta en los positivos 8.779 veces, en los negativos 2.505. Ya os digo que esto no suele pasar, suele ser algo más un 90%, un 80%, pero cuando os preguntan cómo de bueno es el modelo, os están preguntando por la métrica de acuracía. Como mucho os pueden preguntar por la métrica de la sensibilidad y la especificidad, pero esto normalmente os lo especifican. ¿Ha quedado, Alejandro, claro este tema de que se están preguntando cuando dicen si los modelos son buenos? Vale, perfecto. Vamos por orden. Iván, estabas el primero. Vale, a ver, un poco retomando lo que he comentado más arriba, a la hora de hacer el Logit, nosotros podemos cambiar la probabilidad, podemos decir que si no llega, o sea que tiene que cumplirse más de siempre pone el 50%, pero si por lo que sea nosotros creemos o queremos tener un modelo que nos diga no tiene que llegar al 80% o al 90% o queremos ser más o menos, eso eso es un poco en función de lo que nosotros consideremos y lo que nosotros razonemos y justifiquemos a ver, examen y realidad para el examen yo no me la jugaría y pondría siempre 0,5 porque generalmente que estás diciendo que si tienes un 49% de posibilidades de que sea lo que está dando la regresión logística es la probabilidad es decir, en este caso multiplicándolo por 100 Tendrías un, si es 0,4 Estás diciendo que tienes un 40% De posibilidades de que pase Por tanto, ¿qué es más probable? ¿Que pase o que no pase? Es más probable que no pase Y si tú pones un 0 O sea, y si te da el resultado un 0,6 Estarías diciendo que tienes un 60% De posibilidades de que pase Por lo tanto, pones el 1, ¿vale? Es cierto, ¿vale? Entonces en el examen Yo lo dejaría al 50% Si es más del 50% vas para atrás Y si es menos, vas para adelante Bueno, yo lo pongo con 1 y 0 para que luego lo pueda asemejar a la columna de 1 y 0, ¿vale? O sea, podéis hacerlo con yes y no, no hay ningún tipo de problema, pero como tengo una columna que es 1 y 0, pues procuro hacerlo para que luego sea igual, básicamente, ¿vale? que en la realidad a ti te interese fijar un baremo en el que sea un 60% de ocurrencia, un 70% de ocurrencia en tu trabajo, perfecto pero en el examen en principio déjalo como un 0,5 ¿vale? aunque tienes razón o sea, sí, es un baremo que ponemos nosotros, eso me he explicado Sí, sí, sí, y enlazando con eso cuando se hace varias pruebas cambiando en vez de 0,5 0,7 a la vez la cura del modelo también cambia porque tú estás clasificando más 1 y más 0 aquí tú estás diciendo que si es un 60% sea un 1, por lo tanto aquí en la variable de 1 tendrás que son por ejemplo 2.505, ¿vale? ¿qué ocurrirá si tú pones que la probabilidad sea un 0,7? que ese valor ya no te contará, ese ya lo clasificada como un 0, así que aquí tendrás un 1 porque en realidad era un 1 y lo ha predicho como un 0 y aquí tendrás un 2.504, con lo cual al hacer las métricas de la cura sí te cambiará ¿sí? Sí, sí, sí, sí, y además pero claro, muchas veces igual es claro, cuando he cambiado bueno, cuando hemos cambiado algunas veces la probabilidad claro, eso te va cambiando y te va cambiando también los falsos negativos y los falsos positivos, entonces muchas veces dependiendo de la naturaleza del negocio o lo que sea lo que tú quieras prever puedes elegir que aunque la cura sí sea menor te reduzca, igual los falsos negativos o los falsos exactamente sí, sí, sí, o sea en negocio sí, de hecho por ejemplo en negocio muchas veces queremos estar mucho más seguros o sea, sí puede ser no se suele utilizar como último recurso, antes empiezan a hay una serie de parámetros que influyen en la reducción logística y antes empiezan a toquetear esos parámetros que el baremo pero sí que es cierto que sí, que sí, que sí tú pones una mayor tolerancia, evidentemente te lo puedes tener más preciso sí, sin problema, y buen apunte porque pasa y se utiliza en la vida real no todo es tan bonito como la teoría y hay veces que tienes que reorientar básicamente pero para este examen ponemos 0,5 porque no se va a corregir yo el examen, o sea, yo puedo entenderos el tema, pero como no soy cómico me ponéis 0,5, por favor o sea, no se os va a corregir porque el modelo sea muy bueno o sea, vosotros podéis hacer un modelo que a lo mejor os salga de precisión un 2%, ¿vale? Igualmente se os va a corregir porque el modelo sea porque el modelo lo hayáis desarrollado bien ¿vale? y porque el resultado si os preguntan cómo de bueno sea el modelo pues por lo menos seáis honestos y decir pues el modelo es muy malo, perfecto, ¿por qué? Porque tiene una precisión de un 2%, pero no se os va a corregir más o menos en función de que la cura se sea 80%, 90%, 20%, no sé si me explico. Sí, sí, sí, pero lo que me refiero también es que igual muchas veces dependiendo de lo que tú quieras hacer o lo que tú quieras reducir los errores dependiendo de donde sean, a veces aunque te dé una cura cimenor que sobre el papel sería que es un modelo peor en realidad a ti te va mejor Sí Vale Todo ese tema de la estadística y del Machine Learning ¿Cómo decirlo? si quieres que te dé un buen resultado, te va a dar un buen resultado, ¿vale? La idea es que no forcemos a que dé un buen resultado, ¿vale? Entonces puede resultar que la cura sí sea peor, efectivamente, pero que no sea, por ejemplo, más útil. O puede resultar que por X motivos nosotros queramos un baremo muy, muy alto y estar completamente seguros de una cierta cosa, ¿vale? Puede ocurrir. Pero ya digo que esto, el mover este 0,5 es, te diría que una de cada dos millones de veces, ¿vale? solo de estar bastante estipulado el 0,5 al puesto, o sea que sí que es cierto que se puede ver ¿te resulta un poco la duda en mí? Sí, sí, sí, muchas gracias Nada, nada, vale creo que va Olga y luego va Verónica creo entonces Olga primero y luego vamos con Verónica Una consulta muy rápida, es que cuando hablaste de la descomposición en entrenamiento y testeo me queda la duda, porque tú dijiste, no recomiendo O sea, que no siempre se hace esa descomposición para poder validar si el modelo funciona. Siempre se hace, ¿vale? Pero lo que pasa es que depende a qué nivel estemos tratando. Entonces, yo sé que la mayoría de veces, cuando hemos empezado, como empezáis con esta clase de cero, no tenéis conocimientos a priori de esto, entonces se parte desde una base muy pequeñita, que es que sepáis hacer la regresión logística, ¿vale? que ocurre que en algunas ocasiones cuando os preguntan ya temas de evaluar pues matriz de confusión, temas de evaluar ciertas cosas, necesitáis hacer la descomposición porque si no estáis comparando la matriz de confusión con cosas que yo ya le he dado al modelo todos los datos, entonces no tiene ningún sentido que yo pregunte por una matriz de confusión porque me va a dar perfecta, si al final estoy dando al modelo la solución y luego pregunto por algo que le he dado la solución, el modelo es súper inteligente, me va a decir la respuesta correcta, ¿vale? Entonces, en realidad siempre se hacen, salvo la clasterización, es el único donde no tenemos esta separación entre entrenamiento y testeo, ¿vale? Para vosotros, ¿vale? Sí que es cierto que, por ejemplo, la reversión lineal se debería hacer esto, ¿vale? Y no lo hacemos siempre por este mismo tema que os comentaba, ¿vale? Por el tema de estáis empezando, no complicar las cosas, etcétera, ¿vale? Entonces, si no os preguntasen por el modelo, yo hubiese tirado con la de los logística de todo el dataset si no hubiese hecho lo contrario pero como preguntan, ¿cómo devuelves el modelo? sí que ya te esfuerzan a tener una matriz de confusión y entonces sí que te esfuerzan a hacer esta descomposición pero en realidad el modelo correcto, correcto, correcto y como vamos a trabajarlo también el próximo cuatrimestre conmigo será entero con la descomposición ¿he solucionado la duda? Sí, profe, gracias Perfecto, Verónica, te toca a ti por favor, quería ver si me podía aclarar un poquito, cuando se hace la matriz de confusión en el uso de la matriz al final si le vemos el resultado, es el positive class que sale cero no, eso es está conseando el cero como positivo entonces aquí hablamos de positivo y negativo siempre hablamos de que son los verdaderos positivos que son los verdaderos negativos entonces aquí lo que te está diciendo es que el 0 él lo está considerando como positivo. Por tanto, estos son los verdaderos positivos y los 1 son cuando es negativo. En la predicción te da 1, te da negativo y en la referencia es 1, realmente es 1. O sea, realmente es negativo. Pero, por ejemplo, aquí tendrías que la predicción te da 1 y la referencia, o sea, el valor real es 0. Entonces, tendrías aquí este 0. Eso me explico. Ya, y cuando yo transformé, por ejemplo, ahí tenía un poco su confusión porque el ejercicio anterior teníamos una columna en que era yes y no. Y esa la transformamos en algún momento en ceros y unos. Ah, vale. Entonces mi confusión era cómo cuadrar esas dos cosas porque sé que si es que me equivoqué y puse el positivo class en cero y no era, cambia todos los datos de toda la estadística. Vale, primero por este punto no os preocupéis, ¿vale? O sea, no se os va a juzgar en este sentido, entiendo. Es un poco complejo porque es sí y no y luego cero y uno. Entonces, andamos un poquito ahí, ¿vale? Pero yo lo que os recomiendo y lo que tendréis probablemente que hacer en el examen, ¿vale? Es crear una columna de ceros y unos. Entonces, yo pondría lo siguiente. Por norma general, el sí lo convertimos a 1 y el resto sería 0. Esto es una nomenclatura de informática que tiene también que ver con temas de, bueno, con otros temas de encendido o apagado de los ordenadores y viene de ahí, de codificación binaria y generalmente encendido, yes, indicado, activo, etcétera, suele ser la variante 1 y el resto suele ser la variante 0. entonces el y es a uno y el otro a cero y cuando calcules te saldrá bien cero y bueno, no te preocupes luego el tema de positivo es un tema que se utiliza en este caso, porque suele ser una clase que se suele llamar positiva y una clase que se suele llamar negativa, pero no hay más o sea, no te preocupes igualmente si os confundieses en eso no habría problema, con que analicéis la matriz tal como os ha salido ¿vale? sabéis que aparecen pues que estos son verdaderos positivos falsos positivos falsos, negativos y verdaderos negativos, y el acuracy y como muchos os preguntan, especificidad y sensitividad, con los datos que te dan tu matriz. Independientemente de que te hayas equivocado o no. ¿Se ha entendido? Buena pregunta también, porque suele pasar y sobre todo cuando esto se utiliza mucho en test médicos y buscamos positivo, ¿qué es? ¿Qué da positivo el test? ¿Positivo es que no tiene la enfermedad? Entonces suele ser confuso, ¿vale? Este tema, o sea que no nos preocupéis. Buena pregunta, ¿vale? Vale, continuamos ya explicándoos un poquito más, ¿de acuerdo? ¿Qué sería? ¿Cuáles son las variables más importantes? Aquí yo utilizaría el árbol de decisión. Si vas al apartado del árbol de decisión, que es básicamente hacer lo mismo, solo que utilizáis R-par, necesitáis estos dos. No, no es lo mismo, acuérdate que es el de R-square. R-square te lo que te dice es el error y el acuérdate si es cuanto cierta. Entonces, utilizamos estas dos librerías, ¿vale? Básicamente cambian que aquí ponemos el RPAR. Muy importante el método de igual a clas, sobre todo cuando hacéis 0 y 1, porque si no lo va a interpretar como número y os va a sacar ceros y medios y cosas raras. Entonces, importante en toda clase. Para hacer el árbol de decisión, lo importante es hacer el dibujo, que lo podemos ver en la próxima clase, no hay ningún tipo de problema. En el árbol de decisión también, sí, sí, en las dos cosas, ¿vale? Y la importancia de las variables te sale cuando hacéis aquí el variable importance, ¿vale? Si vosotros el modelo del árbol luego le sacáis el variable importance, os irá dando todas las importancias de cada una de las columnas que he utilizado como anactada, ¿vale? Entonces, con eso, haciendo este variable importance, perdón, sería un poco lo que os piden en esta parte, ¿vale? Hacer la matriz de confusión tanto con el árbol, que es hacer lo mismo, ¿eh? Tanto con el árbol como con la red de logística, que es literalmente lo mismo, ¿vale? Y no tiene que dar los mismos datos, ¿vale? Pero es literalmente lo mismo, digo, el mismo código. Y luego el tema de la importancia, ¿vale? de acuerdo y ahora esta parte esta segunda parte básicamente sería la regresión perdón esto sería una clasterización y esto sería una regresión con tema de series temporales ¿por qué? esto es una clasterización ¿por qué? porque fijaros, es decir, primero aprendizaje no supervisado es decir, no estamos entre una clasificación y una regresión lineal y aparte queremos definir tipologías de clientes diferentes pero yo no estoy diciendo qué tipología concretada de clientes, yo estoy diciendo que quiero definir tipologías, es decir, que el ordenador decida cómo los agrupa, ¿vale? Y podemos usar las variables que consideremos oportunas. Esto vendría siendo el tema de la clasterización, que a leída entiendo, efectivamente, a leída entiendo que se explicó clasterización, ¿vale? De todas formas, si no, aquí lo tenéis explicadito, ¿vale? Cómo se haría. Entonces, recordemos, clasterización, ¿vale? Clasterización, importante, cargamos los datos, ¿vale? seleccionamos los datos, ¿vale? Una cosa que me comentaba un compañero ¿cómo sé cuántos nulos hay en cada una de las columnas? Lo podéis hacer con esta frase, ¿vale? de SNA, te dice si hay valores nulos y el call sums que va agrupando cuántos valores nulos hay en cada una de las columnas lo podemos explicar también en la próxima clase no hay ningún tipo de problema, ¿vale? Lo que tenemos que ver ahora ni el centro para el examen ni creo personalmente que no vamos a ir a practicarlo O sea, es más que nada teórico. Entonces, no os preocupéis por esto. Luego, seleccionar las variables numéricas. De nuevo, podéis hacer as factor. Creo que no hay problema porque hacer es un clúster y con as factor. Si no, podéis seleccionar las variables numéricas sin ningún tipo de problema. Entonces, para hacer el K-means, lo que tenéis que decidir es cuántos grupos hacemos. Entonces, se podría hacer, a ojo, no os lo recomiendo. Existen librerías que nos dicen cuál es el número más indicado de grupos que tenemos que hacer. Y eso es lo que os recomiendo que tengáis. Entonces, si vosotros ejecutáis esto, vamos a quitar los valores nulos aquí. Tenemos tres opciones para encontrar este número concreto de clusters. La primera, librería Factoetra. Perdonad que no he puesto datos aquí. Entonces la primera Con la librería fatestra Fbis en pclash No es el que yo utilizaría Porque no sabemos que hay por detrás Es el que tiene por defecto r Pero fijaros que ya me indica que Ojo, cojamos dos clusters Otra opción, tenemos el método del codo Es lo mismo Solo que añadimos aquí el método que estamos utilizando Entonces Este si es más utilizado Lo utilizaremos sobre todo en python y básicamente es que se asemeje esto al codo de una persona ya sabéis que un fútbol pero básicamente más o menos sería así entonces aquí tendríamos que podemos identificar que es el 2 o incluso podríamos llegar a identificar que es el 3 si aplicas es 23 estaría correcto entonces es donde aparece si dibujáis un brazo en el punto en el que se aparezca el como valía pues en este caso dos cosas pero la red tiene algo muchísimo mejor que es la albería nb class os la recomiendo decimos quiero evaluar entre que haya dos clases entre que haya ocho clases para el método que vamos a utilizar que es el método caminos entonces vosotros ejecutar esto y el internamente hace un montón de criterios de esos criterios las gráficas unos intentos nos interesan esta parte aquí dice De todos los criterios, 11 criterios me dijeron que escogiera 2. 11 criterios me dijeron que escogiera 3. Y 2 criterios me dijeron que escogiese 8. Evidentemente el 8 no. Y por la regla de la mayoría nos dicen que escojamos 2. Si os dais cuenta, en realidad la mayoría sería o escoge 2 o escoge 3. Entonces podéis hacer o 2 o 3. Sería hacer lo mismo con el conjunto de datos que tenéis. ¿Sí? ¿Queda claro? Entonces aquí seleccionáis cuántos grupos hacemos. si queréis que lo expliquemos más la próxima semana se puede explicarlo no hay ningún tipo de problema pero si me apetece que lo tengáis ahora para poder decirlo ya os he dicho que mi idea es que estas clases también repasemos aquellas cosas que nos quedan en dudas dime Alejandro si yo tengo un poco de supervisado no supervisado vale te lo comento rápido Supervisado y no supervisado Diferencia ¿Tú tienes una columna en la cual Exista lo que quieres predecir? Por ejemplo, si vamos A este caso, queríamos predecir Si compraba una bicicleta o compraba una bicicleta Tenemos la columna ¿Vale? Imaginemos que queríamos predecir Si es la educación high school Si tenemos la educación del partial college Parcel, etcétera, tenemos una columna Entonces, si tenemos la columna siempre supervisado y aquí hablaríamos de clasificación, revisión logística o clasificación. Perdón, perdón, revisión logística o de decisión. O sea, si yo quiero por ejemplo, como decíamos lo de predecir si un cliente se va o se queda, si yo ya tengo la columna con verdadero para que se va y falso para que se queda, entonces utilizaré el árbol este que hemos comentado hace un momento o la relación logística con la relación logística o el logit normal sin árbol, es el de la matriz de confusión ¿el árbol tiene matriz de confusión? Sí tenemos que todos los que sean clasificación tienes matriz de confusión todos tienen matriz de confusión, vale porque la métrica de la clasificación es la matriz de confusión Vale, y entonces luego si lo que quiero predecir no tengo la columna, entonces toca hacer un clasico. Exactamente, imaginemos aquí que tenemos muchas categorías y muchas clasificaciones, pero si yo les digo, quiero que el ordenador me agrupe los clientes por semejanza, ¿Tengo alguna columna para que me hagan los clientes? Además, yo no estoy diciendo una variable concreta, estoy diciendo por semejanza, que el ordenador haga lo que quiera. Entonces aquí haremos un clustering. Es un poco lo mismo que aquí, que cuando hacíamos el clustering, si nosotros veíamos el conjunto de datos que habíamos utilizado, ya teníamos una clasificación de setosa, versicolor, etc. Pero yo no quiero esta clasificación, yo quiero que el ordenador me dé la clasificación que él considere según su mejor. Pero esa clasificación es en torno a un objetivo que yo tengo, ¿o no? Cuando hablamos de clustering no tienes tan claro el objetivo, es que te lo agrupe el ordenador por lo que ella crea que sea semejante. Por ejemplo, una segmentación de clientes. Pueden ser varias variables. Vale, el tema de varias variables, ¿en qué sentido? claro, porque son varias, por ejemplo, pues si tengo la variable edad la variable altura la variable... Sí, las puedes pasar las puedes pasar y el ordenador hará sus propias cábalas y te las enlazará y a lo mejor resulta que te pone todos juntos los clientes que tienen 18 años de repente aparecen todos juntos y en otro grupo puedes tener la edad completamente dispersa pero que sean personas que les guste mucho por ejemplo, Lidia Campada. O sea, me refiero, yo podría decir, yo ya tengo un clúster que es la edad, imagínate, y es como yo que digo esta es mi clúster, que es la edad, pero si tengo múltiples variables puedo decir, no, no, ahora agrúpamelos según esas 30 variables, ¿no? O 10 variables. Sí, exacto. Él te lo va a agrupar siempre según todas las variables que le des. O sea, no va a hacer únicamente respecto a una variable, lo que sí que luego aplicamos un algoritmo de clasificación. Hacemos el clustering, tenemos el resultado de qué va a cada uno de los grupos. Y luego es cierto que nosotros analizaremos esas características que tiene cada variable y seremos capaces de decir, bueno, pues este clúster resulta que son la gente que son más joven, que quiere ir a la campana y que ha estudiado bachillerato. Y este otro clúster resulta que son las personas que tienen 60 años, que ha estudiado en la universidad y luego haremos nosotros la interpretación de otra forma, con un árbol de decisión, ¿vale? Pero lo importante es que al principio lo haces. Dime. ¿Y le puedo meter variables numéricas, factores? Da igual. Sí, numéricas y factores. A priori debería dar igual. Pero si en el examen nos da problemas con los factores, no os preocupéis, se cambian las numéricas. O sea, también son muy inteligentes en este punto, ¿vale? Vale, perfecto. Iván, coméntame. un poco lo que ha dicho Alejandro con lo que ha preguntado Paulina en el chat, nosotros podríamos elegir dentro de todas las variables que tenemos que haga la clasterización eligiendo lo que nosotros queramos, porque el ordenador decide, tú decides en qué variables el ordenador mira, es decir, si yo por ejemplo le digo que mire nada de la edad el ordenador la variable de la edad va a ignorarla como si no existiera pero de las variables que tú especifiques tú no eres capaz de definir cómo tiene que hacer las cosas el ordenador agrupa directamente es cierto que luego nosotros que esto lo miraremos porque veo que este tema sí que os da bastante problema así que la próxima clase lo miraremos también un poquito más en profundidad aprovechando la actividad 2 que creo que ya tenéis que hacer un clustering pero bueno la cuestión es que una vez que hacéis el clustering, aquí tenéis la interpretación, ¿vale? No os preocupéis, el examen os va a salir perfecto, ya veréis la tranquilidad en este punto, ¿vale? Tenéis la interpretación, ¿vale? Y la interpretación lo que hacemos es que es muy complicado conseguir una interpretación de cómo piensa el ordenador, el ordenador a mí no me lo va a decir. Entonces, ¿qué hacemos? Hacemos una trampa, ¿vale? Una trampa. Y hacemos una clasificación, vendría siendo una clasificación lo que hemos visto de, en base a una columna que ya existe. ¿Cuál va a ser nuestra columna que ya existe? La clasterización. Los grupos donde me han dicho que están cada uno de los grupos. Y vamos a hacer una clasificación con todas las columnas que hemos utilizado para la clasterización y decir, el resultado es este. Este es uno. Este pertenece al grupo dos. Este pertenece al grupo tres. Este pertenece al grupo cuatro. De forma que nosotros lleguemos a tener la decisión y sepamos cómo ha hecho esa clasterización. Pero esto es una trampa para saber interpretar los clústeres que tenéis. No es que, o sea, si vosotros hacéis un clustering, es como una caja negra. Tú no sabes lo que pasa y tú no eres consciente de cómo lo hace. Entonces, para ser capaces nosotros de decir, anda, mira, este clúster, este conjunto de clientes, resulta que tienen la edad tal y tienen este tipo y tienen este tipo de formación. Eso lo hacéis luego aplicando un árbol de decisión sobre el resultado de esa clasificación. Esto lo repasaremos el próximo día porque veo que quedó un poquito así. Sí, pero lo que serían las variables las elegimos nosotros, ¿no? Las variables... Por lo que fuese, a mí... No sé el caso, ¿no? Exacto. A mí me da igual la edad que tengas y monta en bicicleta. O sea, y quiero saber si es que vive en... El país donde vive y los estudios que tiene. Por poner un ejemplo. Exacto. Esto me importa un bledo. O sea, yo puedo elegir... Exacto. ...cluster... Esas dos. ¿Se apoyan solo en esas dos? Vale, vale, vale. Y te dará toda la clasificación teniendo en cuenta semejanza de esas dos columnas que tú escojas. Y luego con el árbol de decisión se va viendo los grupos que ha hecho y por qué, ¿no? Exactamente, o sea, cómo ha ido dividiendo las cosas. No será siempre 100%, pero al menos sabrás interpretar un poco qué tipo de datos tienes en cada uno de los clusters. Pero esto es una trampa, o sea, realmente el árbol de decisión no es clasificación. Es clasificación y aprendizaje supervisado, ¿vale? Pero como necesitamos salir de esa caja negra, no sabemos cómo hacer, es como que hacemos una clasificación aparte para entender el resultado de la clasificación. Es como hacemos dos modelos en uno, ¿vale? Pero la clasificación es una cosa, algo decisiva con clasificación y la clasificación es otra diferente, ¿vale? Esto sí que quiero que quede claro. Lo repasaré muchas veces que sea necesario y para el examen lo tendréis súper claro, de verdad. O sea, me preocupa poco en ese punto. ¿vale? De verdad que me preocupa muy poco este tema, de que lo entendáis. Sé que lo vais a entender. ¿De acuerdo? Entonces, yo creo que por hoy suficiente. No os preocupéis porque hoy tuviésemos que hacer la corrección de la actividad 2 y todo eso. De verdad que no os preocupéis porque sí que me interesaba que esta actividad, al menos lo que viene siendo estas partes, ¿vale? Estas cuatro partes seamos capaces de entenderla. Esta otra, básicamente, es una en realidad una predicción de las ventas totales para los próximos dos meses. bueno, este ya lo veremos, pero esto es una serie temporal pero esto, estas tres en principio, gracias en principio ya podréis hacerlo, ¿vale? la clasificación os puede resultar un poco más difícil, si, no os preocupéis ¿vale? una vez que lo entendáis, hace rápido, necesitamos que lo entendamos primero pero tranquilidad en este punto, ¿vale? veréis que dejamos de seguir la planificación, pero porque para mí lo importante es que entendáis todo, ¿vale? y que podáis recuperar un poquito todas esas cosas que quizás no quedaron del todo bien explicados. Así que no os preocupéis por el tema de la planificación, vamos a intentar sacar todos un licenciado de examen y haremos todo lo posible para ello. Dime, María. Última preguntita. Por supuesto. En relación al examen, sé que lo vamos a hablar igual la próxima semana o las próximas semanas, pero va a ser muy parecido a lo que estuvimos hablando el otro día. A esta actividad. A esta actividad. A la actividad número 3. el examen os podemos preguntar que nos hagáis una regresión lineal, luego una logística, luego una clasificación y luego una serie temporal, ¿vale? Por eso para el tema del examen, primero, no pánico ¿vale? El examen os va a salir todo perfecto ¿vale? Segurísimo y en segundo punto responded a lo que se os pregunta ¿vale? Os lo he comentado también en la clase de repaso si yo no os pongo explícitamente que me digáis cómo de bien está el modelo, no necesitéis hacer métricas, id a lo que se pregunta cuando terminéis, si os da tiempo ya miráis el resto de cosas ¿vale? ya tendremos hay una clase, creo que es la clase la última clase tenemos una sesión para el examen ¿vale? ya haremos ejemplos me va a servir mucho esta actividad número 3 porque es muy parecida ¿vale? ya completaremos haremos un repaso de todo lo que os puede caer y os puedo garantizar que todos me sacaré súper buena nota, segurísimo ¿vale? así que tranquilidad por esta parte ¿sí? nos hemos extendido un poquito más pero sé que quiero recuperar un poquito ese tiempo y esas dudas que tengáis que para mí son bastante importantes que quede claro, ¿vale? Pues nada, muchísimas gracias, espero que la clase os haya gustado de aquí a finales me tendréis a mí como vuestra profesora cualquier duda siempre podéis comentármelo por el chat, el foro, ¿de acuerdo? Y eso, y si no, pues en las clases sin problema, ¿vale? Como hemos visto hoy Así que nos vemos, muchísimas gracias y nos vemos el próximo día, ¿vale? ¡Adiós! Gracias
