Ahí está. Muy buenas Buenos días Buenas tardes O incluso para Dependiendo Desde donde nos estén siguiendo Incluso Buenas noches me atrevo a decir Para los que estén viendo la sesión En la grabación Y no hayan tenido otro momento para verlo Vale Acabo de iniciar la grabación para el que no pueda unirse ahora a nosotros en directo y bueno, pues ahí lo tenemos. Voy a intentar ponerme también a mano el chat para poder compartir con vosotros y poder contestar a dudas lo que pasa es que no me está dejando vale sí que ven la presentación ¿no? No, profe, todavía no. Ah, ¿no están viendo la presentación? No. Pues, a ver. Me ha desaparecido. Disculpad, ¿eh? Creo que el problema ha sido precisamente cuando he dado a compartir. Buenas tardes, profe. ¿Cómo estás? Muy buenas, muy buenas. Estoy intentando conectarla, compartir la presentación. Vale, ahora sí. ¿Sí? ¿Están viendo la presentación ahora? Sí, señor. Perfecto, pues muchas gracias A ver, bueno, después de haber dado antes el saludo A ver, empezamos lo que es el bloque 2 Recuerden que cada bloque tenía dos temas Hemos visto tema 1, tema 2 Pasamos al tema 3 Y ahí es donde empieza este segundo bloque Que el segundo bloque está dedicado al preprocesamiento procesamiento y modelización de los datos para la visualización, que ese es nuestro objetivo. Y el objetivo de la clase de hoy es darles las bases para empezar a transformar y limpiar los datos de una manera eficaz, tanto en Power BI como en Tableau, que son las dos herramientas de visualización que vamos a utilizar habitualmente. Bueno, ¿qué es lo que vamos a ver? Pues vamos a ver, precisamente coincide con, del tema 3, lo que vamos a ver es el 3.1, 3.2, 3.3 y 3.4 que coinciden exactamente con lo que hay ahí en el índice. Y el 3.5, o sea, el 0.5 ese que he puesto, es porque vamos a intentar hacer una demo directamente sobre el Power BI para ver cómo se harían algunas de las cosas que veremos en la clase de hoy. ¿Cuáles son los objetivos de esta clase? Como digo, es puntos 3.1, 3.2, 3.3 y 3.4 de lo que aparece en el tema. No sé si... ¿No lo están viendo correctamente? Sí, sí estamos viendo... Ah, vale, vale. Es que decía Sebastián que no alcanza a verlo correctamente. No sé, si todos los demás quizás sea el PC efectivamente. Pues no sé, quizás salte y vuelve a entrar. Voy haciendo una introducción, o sea que te da tiempo a irte metiendo. Además siempre puedes recuperar la grabación si alguno quiere. Lo que vamos a intentar aquí es comprender cuáles son los principios de estructuración de datos, que es lo que seguro que vais a ver en toda la documentación y hoy vamos a repetir muchas veces que es lo que aparece como tidy data, que no es otra cosa que ordenar, limpiar y dejar preparaditos los datos, datos ordenados. y su impacto en la visualización. ¿Por qué es esto muy importante? Pues porque una de las cuestiones, hay una cosa que se suele llamar la regla del 70%. ¿Y qué es la regla del 70%? Pues porque en proyectos de análisis visual la estimación es que más del 70% del tiempo se invierte en preparar los datos, no en diseñar el dashboard o en diseñar los gráficos, sino en preparar los datos para que se pueda hacer. O sea, no es cuestión baladí, parece que de hecho las herramientas ayudan mucho a las otras labores, también ayudan a esto, pero esto es más laborioso y lleva más tiempo. Y luego aplicaremos técnicas de limpieza y transformación en Power BI, que lo comentaremos también para Tableau, y conocer fundamentos, alguna cosa, vamos a ver, aunque no sea, pero para el que quiera ir un poquito más allá, de cómo se hace todo ese preprocesamiento con R y con Python. Aunque no sea de momento lo que estamos viendo, más adelante ya a lo mejor veremos, pero de momento eso no entra en el examen, pero para esto es un máster. Y la idea también es que el día de mañana, una vez que hayan titulado ustedes, pues puedan incluso tirar de la documentación de este máster para ir un paso más allá, siendo realmente unos expertos en el tema. Tenemos que tener o buscamos unos fundamentos de la calidad de los datos, porque la calidad de cualquier visualización depende directamente del preprocesamiento, procesamiento, la calidad y la solidez del preprocesamiento que hagamos. O sea, que la clase de hoy es muy importante. Una base de datos o un dataset limpio y estructurado es la diferencia entre un dashboard que aporta valor y sirve para tomar decisiones de negocio y un dashboard que lo que nos lleva es a conclusiones erróneas. O sea, esta parte de limpiar, transformar los datos es muy importante. Y es un desafío estratégico para las compañías que a diario integran información de fuentes muy heterogéneas que al mismo concepto o al mismo dato lo tienen denominado de manera distinta, lo tienen en herramientas distintas, unas hojas de cálculo dispersas en sistemas heredados de las compañías que llevan mucho tiempo. Están trabajando con sistemas que a lo mejor su origen es de hace 20 o 30 años, que no tienen nada que ver con lo que hacemos ahora. O tienen que incluir datos de servicios externos y a la misma variable se les puede estar llamando de maneras distintas, porque esté hecho incluso con herramientas distintas. Veremos cuáles son esas herramientas o vamos a trabajar con los entornos de Power BI y Tableau, que son las herramientas de visualización básicas que vamos a utilizar. Los principios de organización de los datos. Hay un concepto central que vais a estar viendo que es datos ordenados, que es un poco la traducción libre del tidy data. ¿Vale? Bueno, más que libre es la traducción literal. TidyData es datos ordenados. Lo que pasa es que en documentación, incluso la que esté en español y la bibliografía que está en español, aparece como TidyData en la mayoría. Es un conjunto de principios fundamentales que definen la forma ideal en la que debemos tener organizados los datos para que sean fácilmente analizados y procesados por nuestras herramientas de visualización. Y eso se hace mediante unas reglas fundamentales, a lo mejor incluso hasta lo veis por ahí denominado como las tres reglas de oro, que sirven para establecer un poco un lenguaje común entre las herramientas de visualización y nuestras bases de datos, nuestros datasets. Estas reglas, quien las acuñó y quien las popularizó, no el término tidy data, que es datos ordenados puestos en inglés y se venía utilizando desde antes, pero lo popularizó en la literatura sobre el tema este señor Hadley Wickman, que es quien popularizó esa idea de tidy data, de datos ordenados y empezó a llamarlo. De hecho, si miráis en la bibliografía que viene referenciada en los temas, el trabajo de este señor, de Hadley Wickman, está en la bibliografía junto con la obra esta, RF for Data Science, Import, Edit, Transform, Visualize and Model Data. Pues ahí podréis ver referencias a todo esto. ¿Cuáles son esas reglas de oro? vais a ver que luego las vamos a utilizar y vamos a hacer un poco, como siempre digo, cada variable, como siempre digo, hacer un poco checklist. cada variable, sí, efectivamente como dice Francisco, tiene que ver con fundamentos que tiene que ver con tableros porque en el fondo lo que estamos haciendo es organizando los datos en unos tableros que sean interpretables y manejables por las distintas herramientas que vamos a utilizar. Las tres reglas de oro. Cada variable está en una columna y cada observación está en una fila. Y entonces eso es lo que estamos cruzando. O sea, cada característica que estamos midiendo, como la fecha, la cantidad que vendemos, el nombre del cliente y tal, tiene su propio espacio vertical. Tendremos una columna que será nombre de cliente y ahí aparecerá, en esa columna tendremos los distintos nombres de los clientes. Que eso se acaba cruzando con la fila que son las observaciones, o sea, cada registro, cada evento único que ocurrió, cada transacción, por ejemplo, cada venta individual. Y eso, en donde se cruzan, es una transacción con una variable y habrá un único dato en la tabla. Quiere decir que cada valor debe estar en una única celda. En cada intersección de fila y columna hay un único dato, no hay varios datos por celda. Incluso también es cierto que luego cada una de esas tablas básicas también tiene que estar relacionadas a lo mejor con otras tablas distintas. Y tenemos que tener muy clara la relación entre unas tablas y otras. Luego vamos a ir viéndolo. Esto, insisto, es muy importante. Es muy importante adoptar esta estructura con estas reglas fundamentales del Tidy Data. es crucial porque simplifica las transformaciones, reduce errores, facilita la integración de distintas fuentes de datos en un proyecto. Cuando los datos están ordenados, la creación de gráficos o de los dashboards, de los cuadros de mando, es un proceso muy fluido, muy eficiente y muy rápido. Ya veréis luego que esto es lo que tenemos que tener claro, lo que tenemos que hacer bien, porque luego si nos metemos en el PowerPoint o en el tabló, luego elegir el tipo de dato una vez que ya tenemos hecho todas estas labores es prácticamente seleccionar una opción de gráfico. En la práctica profesional, el rigor del análisis visual depende directamente de la solidez de este procesamiento y de la estructura que demos a nuestros datos. Y las reglas prácticas tienen que ver con los desafíos habituales de la limpieza de datos. La preparación de datos tiene y aborda retos más allá de lo que es la simple importación. El otro día decíamos, bueno, es que me meto en el Power BI o en el Tableau, le doy a importar los datos del Excel, vale, ya tengo aquí una tabla, venga, pues ya podría trabajar con eso. Bueno, no es solo importar, a partir de ahí hay que hacer una serie de cosas. Por ejemplo, y de las típicas que pagan. Pues de repente cojo y me encuentro que en una tabla tengo celdas vacías, tengo valores que me faltan Pueden ser errores a la hora de recoger los datos o puede ser simplemente que esa información no se ha podido recoger Pues porque el cliente no la ha facilitado o porque había lo que sea Puede ser errores, inexistencia de datos, lo que sea La gestión de esto es muy importante, normalmente lo que se hace es peinar todo eso y quitar las celdas vacías o darles un determinado valor para que nos lo identifique. Pero daros cuenta que si hay unos datos que me faltan y de repente me pongo a calcular, pues yo qué sé, estadísticos, me pongo a calcular la media y la mitad de las celdas están vacías, me va a estar dando una media errónea. Me va a estar, más que errónea, me va a estar maquillando y me va a estar enmascarando los verdaderos datos que son los que a mí me interesan. empresa. Una de las cuestiones es que en el momento en que calcule con celdas y las celdas estén vacías o con lo que se suelen llamar valores nulos, que a veces se han codificado y se ha dicho, pues cuando la celda esté vacía ponme un menos uno o ponme un cero. Pues ese tipo de cosas los tenemos que localizar. Otra cuestión es que también hay datos duplicados. De repente me viene un cliente, le cojo todos los datos. Vuelve a venir ese cliente y en vez de reconocer que es el mismo cliente, vuelvo a rellenar todo. Entonces resulta que tengo dos filas, pero a lo mejor coinciden todas las cosas que tengo luego en las soldas, me coinciden entre ese cliente cuando entró la primera vez y la segunda. Bueno, pues hay que ver y hay registros que son inconsistentes. Registro varias veces el mismo evento. Es que lo he duplicado. Al mismo cliente lo tengo en dos fechas distintas. ¿Por qué? Bueno, pues eso hay que desduplicar, hay que normalizar también datos para que todo se denomine. Las mismas cosas se denominan siempre de la misma manera. Hay los típicos incluso errores sintácticos y semánticos o lo que sea. Yo cojo y de repente, pues imaginaros, soy una línea aérea y trabajo con una cosa y digo, pues maleta, pues tiene maleta o lleva maleta, pues de repente cojo y me creo, sí, perdona, Verónica, que tienes la mano levantada, pregunta, pregunta. Sí, gracias, pero creo que Alejandro la alzó primero. Ah, bueno, pues No importa para nada Ok, ok, pues decirme Quería consultar algo En cara a manejar El rendimiento y el trabajo Que se genera en el proceso De limpieza, ¿no sería mejor Primero quitar todo Lo que no sirve, o sea, lo que no voy A usar con el objetivo Digamos, yo tengo el objetivo de Trabajar ventas Pero resulta que hay muchas columnas para qué paso el tiempo limpiándolas, normalizándolas si luego no las puedo utilizar absolutamente lo que nos tenemos que quedar es con lo que nos interesa, cuidado porque a ver si te vas a cargar cosas y luego te pones creativo y quieres de repente con lo bien que me hubiera podido venir cruzar esto con tal otra cosa que resulta que me la he cargado porque de primeras no lo veía que era necesario entonces, pero sí ahí efectivamente, si tienes muy claro el objetivo te puedes quedar solo con la vista y con las cosas que te interesan, y exactamente igual con esto si dices, oye mira, con el análisis que voy a hacer elimíname todos los que tenga este campo vacío, porque es que no voy a poder sacar conclusiones geográficas, por ejemplo, si la región en la que están no me viene alimentada también hay otras cosas hay veces que los campos que están vacíos se infieren de otras cosas pues mira, es que no tengo la región pero resulta que sí tengo el código postal ah bueno, pues oye, espérate voy a calcular o voy a rellenar la celda de la región por el código postal veo que la otra mano se ha ido abajo porque la pregunta iba en el mismo sentido. Ahí solo una consulta y ahí venía algo también de la actividad que vamos a hacer. Ahí en la actividad tenemos que escoger cuál es el objetivo que vamos a plantear nosotros y ya vemos columnas que tienen justo el normalizar, el quitar espacios y cosas así. En el trabajo que tenemos que hacer, ¿podemos hacer esto? es decir, primero eliminar todas aquellas columnas que sabemos que no las vamos a utilizar en el planteamiento. No es que podáis, es que deberíais hacerlo. Ah, ya. Deberíais hacerlo ahora. Tengo que normalizarlas primero porque tienen valores que no corresponden. Yo puedo desde el inicio no trabajar ya en esa normalización de aquellas columnas y solo las quito porque sé que no las voy a usar. Eso es. De todos modos, no tengáis el gatillo muy fácil. O sea, si tienes dudas de si luego vas a querer, no te pongas de, me voy a quedar una con tres columnas y de repente luego dices, la he fastidiado. De todos modos, ya veréis que una de las cosas buenas que tienen las herramientas estas que utilizamos es que tienen trazabilidad, con lo cual se puede volver hacia atrás, ¿vale? Pero es completamente, o sea, es lo que estás diciendo. Gracias. Vale, la otra pregunta Alejandro, ¿era? Dime, ¿era? Sí, sí, ¿se me oye? Sí, sí, perfecto Son dos preguntas, una de ellas es sobre el tercer punto, que todavía no has llegado a él no sé si puedo lanzarla ya o me espero Dime y te lo digo pero si es un spoiler te digo que la contesto luego Venga, muy bien, mira, sobre documentar supuestos y decisiones de transformación claro, en las herramientas ahora de limpieza como, bueno, tanto Python a lo mejor no, pero en el caso de Power Query o Power BI claro, la propia herramienta como te almacena los pasos en tu experiencia hasta qué punto desde el punto de vista profesional esos propios pasos no serían en sí mismos esa documentación donde ya están descritos esos, entiendo que a veces que se, no sé, pues si vas a hacer algo crítico como eliminar un valor atípico o algo así y tal, pues bueno, igual hay que documentarlo, explicarlo, pero lo que es, oye, pues simplemente he quitado espacios, pues yo creo que el propio Applied Steps ya te está dando una propia documentación. Efectivamente, luego lo vamos a ver cuando nos metamos en el pero sí, efectivamente eso es una de las ventajas, tiene trazabilidad y lo documenta que es una de las cosas precisamente Por eso lo he puesto aquí en esta slide. Estas herramientas incluyen todo esto. Por eso son las que recomendamos. Dicho lo cual, a veces son poco descriptivos y a lo mejor te merece la pena, oye, me lo copio, pero luego me tomo yo unas notas de cómo hacerlo. porque esto, oye, a lo mejor en la empresa estás tú ahora, pero dentro de un año o dentro de dos años vete a saber quién está. Entonces acabas trabajando con una tabla que le habéis hecho 28 perrerías y entonces dices, ¿y esto de dónde viene? ¿O te has cargado determinadas columnas? ¿Cómo puede ser que esto no tenga? Bueno, pues he documentado que me he cargado tal, tal, tal y tal columna porque no hacía falta. lo que decía y un poco por acabar esta parte en otra pregunta ah vale, perdona, sí, sí, que habías dicho dos dime la otra la otra pregunta es respecto a también la limpieza, yo entiendo que en entornos profesionales o en cualquier entorno pues tener el dataset perfectamente limpio e ideal, pues no es o sea, pues es muy difícil pero también hasta qué punto bueno, muchos de esos errores o datos que se reciben para el analista, pues hasta qué punto muchos de estos datos no deberían de corregirse en origen o en la carga de ingeniería, en las bases de datos o en la propia recogida del dato, ¿no? Y hasta qué punto pues todo esto no se debería de emigrar más como un paso atrás, ¿no? entiendo que nunca te va a llegar perfecto pero esto sale fuera del scope de un poco de nuestra asignatura y del curso pero efectivamente en los departamentos de datos el tema de la calidad de la ingesta de datos es fundamental y por eso las instrucciones los criterios todas las cosas tienen que estar muy claritas a quien lo está metiendo eso sí, pero realmente es algo o sea, es un paso un poquito efectivamente previo a todo esto nuestro y el control de calidad de los datos es algo que en las compañías lo tienen que tener y también depende de qué influencia tenga ese tipo de datos en el negocio el que falle una letra en un nombre pues a lo mejor no tiene mayor problema. Y luego también hay cosas que se pueden transformar. Si de repente coges y has tomado el nombre todo entero en un solo campo y de repente te das cuenta que dices mira, es inmanejable el trabajar con todo el nombre en un campo, voy a transformar esto en separarlo entre nombre y apellidos. Puede ser una manera. Entonces a lo mejor en la siguiente versión que hagas del pantallazo para alimentar datos lo pones separado, pero lo que ya tienes, bueno, pues transfórmalo. Pero efectivamente la calidad de los datos y como se suele decir, o sea, lo que tienes es lo que sacas. Si ingestas basura, sacas basura. Basura procesada, pero basura. O sea, haremos hamburguesas que a lo mejor hasta tienen buen color, pero la carne picada que le meteremos será de mala calidad. De todos modos vamos a ir viendo cosas de estas Pero vamos, esto es muy filosofía Y muy filosofía de los departamentos Normalmente el rol de Business Intelligence Tiene muy buena relación O debe tener muy buena relación Con la gente que está en la ingesta de datos Pero no siempre pasa y no siempre se involucra el de Business Intelligence en eso. Como decía, y yo por acabar un poco con esto, errores sintácticos o semánticos. Una compañía aérea que tiene una variable que es maleta y a lo mejor ponen ahí el número, el volumen o los kilos o simplemente si tiene o no tiene maleta. o si ha facturado o no ha facturado y coge, lo empieza a poner y le llamo a la variable maleta y luego otro, me pongo abro otro fichero y en vez de maleta pues le pongo madeta con D y entonces dices ostras, pues y lo tengo en dos bases de datos distintas y digo, bueno, pues hay que unificar esto es como muy evidente o imaginaros que le pongo que identifique entre mayúsculas y minúsculas y en un sitio pongo maleta con mayúscula y en otro maleta con minúscula. Eso hay que estandarizarlo y hay que unificarlo todo lo que se pueda. A veces no tiene influencia, tampoco nos vamos a inmolar. Un ejemplo muy claro de utilización o de trabajo con las reglas estas del Tidy Data. que además este es muy típico y lo vais a ver muy claro. Un ejemplo sencillo, un problema común en las hojas de cálculo que no están ordenadas de la manera en la que lo tienen que entender las tildes, efectivamente. Es otro de los errores típicos y sobre todo cuando estamos trabajando en distintos idiomas. Por eso, y volviendo a lo que comentaba antes Alejandro, Por eso una de las cosas que se toma, es decir, de las decisiones que toman en muchos sitios, no hay tildes. Se pone todo sin tildes para que no tengamos ningún problema porque entonces, imaginaros, hay muchos apellidos que en español de España se acentúan en una determinada sílaba y en el país de Hispanoamérica es exactamente el mismo nombre, pero el acento va en otra sílaba. Y dices, pues yo qué sé, Antioquía en español lleva tilde en la i para los que seáis de Colombia y en Colombia normalmente decís Antioquia. Pues como yo le ponga la tilde, acabo de fastidiar probablemente ese campo. Tonterías de esas. vuelvo al ejemplo tenemos una tablita está la he puesto fácil para que se entienda de las ventas en un excel una tablita de ventas en tres meses lo del mes de enero febrero y marzo y a ver cuánto he vendido de el producto a y del producto b y tengo en el excel cualquiera de nosotros desde un punto de vista humano vemos esto y tenemos muy claro pues el producto a en enero ha vendido 150 en febrero 180 y en marzo 165. Incluso podríamos hacer un análisis. En todos los meses el producto A vende más que el producto B y las ventas más altas del producto A son en febrero. O sea, podríamos hacer un análisis perfecto, lo entendemos muy bien. Pero acordaros, estos son datos anteidi, o sea, son datos desordenados desde el punto de vista de los programas de visualización. Habíamos dicho, las reglas Y resulta que aquí Es una tabla, como decía, muy fácil de leer para un humano ¿Por qué? Pues porque enero, febrero y marzo Que son los meses, no son variables Lo tengo ahí en columnas Y eso no son variables, en realidad son valores De una variable, que sería la variable mes O la variable fecha ¿Vale? Entonces, esta tabla que podemos leer muy fácilmente, incluso es más resumida y más cómoda, ¿cómo necesitamos? Pues necesitamos, por así decir, desagregarla o pivotarla de otra manera. entonces acordaros de los principios que habíamos dicho cada variable en una columna entonces aquí estoy diciendo que esto que era mes y que era una variable pues lo pongo y creo una variable, una columna que es mes y lo que hago es exactamente lo mismo, si os dais cuenta esta tabla de la derecha es la misma tabla de la izquierda parece y no es solo lo que estaba en horizontal ponerla en vertical, que eso sería simplemente transponer una matriz, sino que tenemos de esta manera. Pues efectivamente, esto facilita las transformaciones y las limpiezas, como dice Paulina. Esto nos permite transformar las cosas en el primero. Si quisiéramos añadir el año, pues de repente ya tendríamos que poner otro nivel en la tabla, a lo mejor por encima y no sé qué. Bueno, pues no. Aquí directamente podríamos estar añadiendo cosas. Entonces, como decíamos, cada variable en una columna y cada observación de cada producto en una fila. ¿Ok? Entonces, lo que tengo el producto A en enero vendió 150. El producto A en febrero vendió 180. O sea, cada uno de los productos tiene su mes de ventas y el dato de las ventas. Esto es la manera de trabajarlo. O sea, es un poco, a ver, esto a lo mejor es un poco viejuno, pero seguro que lo habéis visto incluso en películas. cuando se emitían cuando ibas al cine y se ponían rollos de película ahora es todo digital y no es así pero eran rollos de película y a lo mejor una película que era larga pues eran dos o tres rollos y lo que había que hacer era, se ponía un rollo se quitaba, se ponía otro y luego se ponía otro si yo cojo y ordeno los rollos de película de mala manera y pongo el que era al final, lo pongo al medio y no sé cuánto no me voy a enterar de qué va la película. O si de repente cojo y las empalmo, empalmo los rollos de película, pero no los empalmo bien, pues tampoco lo voy a poder ver. Entonces, eso es un poco nuestra cuestión. Estamos visualizando y lo que tenemos que poner los datos es para que la máquina proyectora, que en este caso para nosotros es nuestro dashboard, esté emitiendo bien las cosas. Y esto sería una tabla un poco para que podáis ver las herramientas. Las herramientas que vamos a utilizar es Power Query, luego veréis lo que es el MS, que pongo entre paréntesis, Tableau Prep, Power Query es la herramienta o la parte, el módulo que tiene Power BI para hacer la limpieza y transformación, Tableau prep es como se le llama a la parte o el módulo que tiene Tableau para hacer eso Y bueno, pues tienen una serie de diferencias Pues el Power Query, luego veremos un poco cuáles son, compararemos una vez que hayamos hecho algo Pues Power Query hace un procesamiento más optimizado nos deja de una manera muy fácil la trazabilidad, es muy visual, nos hace una conexión muy amplia con fuentes, veíais que tenía muchas que se pueden ingestar, eso tiene que ver con el entorno en el que está metido Power BI, que es un poco la evolución de Excel, todo el entorno Azure, para los que a lo mejor lo tengáis incluso en las compañías, prácticamente ingesta de todo. Y Tableau, lo que da en cambio son flujos visuales muy... y de manera interactiva. Queremos conectar dos cosas y a lo mejor es simplemente unirlas o arrastrar de un lado a otro. Ese tipo de cosas facilita y nos deja previsualizar en tiempo real cuál es el resultado. Y sobre todo, si hay que automatizar cosas, también lo hace mejor que Power Query. Y luego esta, que no la vamos a utilizar y no la vamos a ver, pero porque si alguna vez os dicen, simplemente para que lo tengáis de referencia y os suene. Alguien de repente os coge y os dice, no, no, no, es que nosotros para hacer los dashboard lo que utilizamos es OpenRefine. Bueno, pues eso es una herramienta de código abierto, ¿vale? Que no se pagan licencias, es código abierto, se puede incluso modificar, se puede trabajar con APIs de eso incluidas en otras cosas. Bueno, está bien, pero bueno, probablemente es menos manejable o menos intuitivo que las cosas que estamos haciendo. Ahora voy a ir contando las cosas un poco, primero para Power BI y luego para Tableau Los procesos, el impacto en rendimiento y aplicar en origen es fundamental, como hemos dicho En Power BI todos estos procesos se hacen en Power Query que es el motor de transformación de Power BI para transformar esos datos y para limpiarlos y eso utiliza un lenguaje que se llama M, por eso no os acordáis que antes ponía entre paréntesis M utiliza ese lenguaje, de hecho, si luego os ponéis a trabajar con Python, por ejemplo y Y podríais estar programando eso vosotros y si sabéis ya programar así, lo podríais poner en Python y estar ejecutando todo eso. O sea, internamente todo eso realmente lo que está ejecutando es unas líneas de comando. y trazabilidad, luego lo vais a ver pero da una secuencia visual para los que seáis usuarios o habéis utilizado las transiciones y las de diapositivas, dentro de las diapositivas y dentro de PowerPoint veis que lo típico de que me salga el título y luego que me vayan apareciendo distintas líneas con los puntos, no sé cuánto. Eso hay una manera de ver y tú le dices en qué orden te tiene que aparecer y hay una manera de visualizar, a la derecha de la pantalla siempre aparece de qué manera lo haces. Pues Power BI que es también entorno Microsoft hace exactamente lo mismo pero con todas estas transformaciones y limpiezas que hagamos. Y eso nos da una trazabilidad incluso una facilidad para volver atrás cuando la fastidiamos. Y, bueno, también conectar fuentes, archivos locales, etc. Pero esto, y ya digo que no vamos a ver, pero como alguno además mostraba interés, esto de momento, más adelante sí que habrá alguna cosa en la que a lo mejor estemos metiendo contenidos con Python y con R. pero de momento no quiero meterlo pero simplemente para el que quiera trabajar este mismo tipo de cosas directamente con Python esto es de las líneas esta manera de procesarlo en Python lo llaman pandas estas líneas y esto está hecho con ese código que estábamos diciendo o sea, si ahora mismo copiarais esas líneas de código estaríais haciendo exactamente el mismo trabajo que vais a ver luego que vamos a hacer con el Power Query. Y si pasamos a Tableau, pues igual, el enfoque visual con lo que se trabaja es con Tableau Prep, que utiliza un modelo de datos basado en flujos interactivos. O sea, quiere decir que según vamos moviendo los flujos de datos, los vamos viendo de manera visual y lo va haciendo de manera interactiva. Cada paso que hagamos es un nodo. Y la manera de conectar esos nodos es lo que nos va a ir enseñando. Hoy no vamos a ver sobre la herramienta de Tableau, lo hacemos el próximo día. Pero para que lo tengáis todo recogido. Las operaciones comunes son unir tablas, agregar registros, pivotar para crear, transformar los datos como en el ejemplo que hemos visto antes y convertirlo en TidyData, crear campos calculados. Pues no quiero tener dos columnas con datos separados, sino que quiero calcular un ratio entre esos dos. Pues crearme esa nueva columna con datos precalculados. Y lo bueno es que todo esto en el entorno Tableau, cuando trabajéis, pues todo esto, los flujos de datos esos, se pueden extraer y se pueden llevar de manera directa y reutilizar en Tableau Desktop. que es una de las ventajas y luego hay una funcionalidad que se llama Tableau Prep Conductor que permite automatizar ejecuciones periódicas de los procesos de limpieza imaginaros que dices es que a mí, un poco siguiendo lo de esto, es que esta columna me llega siempre denominada de esta manera y la semana que viene me va a volver a llegar igual, pues que automáticamente yo puedo automatizar que cuando me llegue el fichero, a mí me llegue ya el fichero con determinadas cosas ya limpias o recalculadas o ya trabajadas. Y eso te lo permite bastante bien. Igual que en Power BI o Power Query veíamos un poco la equivalencia a trabajar eso con Python, aquí en Tableau Prep podemos establecer unas equivalencias con R. igual que he dicho en el de antes pues no quiero pero esto no lo toméis como que entra en el temario de hecho podría haber puesto no examen de momento pero para el que quiera indagar más puede con estas líneas podría estar haciendo parte obviamente el Excel sería aquí el que le pusiéramos le tendríais que cambiar el nombre del fichero con el que fuerais a trabajar vale Y un poco esto también no entraría y es un poco el resumen de esas dos diapositivas que os decía cómo podemos hacerlo o cuáles son las funciones típicas que se utilizan en el caso de R y en el caso de Python. Y hay unas librerías, si vais a trabajar o si en el futuro trabajáis con R, la librería clave es una que se llama Tidyverse y las de Python se llaman Pandas y utilizan DataFrames. Pero como digo, esto es para que lo tengáis por ahí. Y estos son cómo se preprocesan con Python esos pandas que decíamos. ¿Vale? Y esto es cómo se preprocesan con R, con esa librería que estaba diciendo antes. No me enrollo. En estas que veis que tienen código... Ah, que estáis viendo programación en R. Pues, fabuloso. Yo la verdad es que en eso lo utilizo menos y una de las ventajas es que cuando tienes tanto R como Python un poquito más oxidado, ahora mismo, como en general toda la programación, nos ayuda mucho, ChatGPT, Gemini and Company, nos ayudan bastante a poder hacer ese tipo de cosas. O sea, que nos os pueden ayudar. han utilizado una herramienta y no otra está fenomenal que te pongas en plan maravilloso y digas, no, porque he utilizado Power BI porque tal cosa la hace mejor. Pero a lo mejor el motivo y que es tan bueno como otro cualquiera es que es la herramienta que manejamos en mi empresa, es la que tengo de manera gratuita o es la que hemos visto durante el curso en la asignatura de no sé qué. Simplemente. O sea, ese es un motivo tan fuerte como otro cualquiera. Pero, pero, si estáis potentes o ahora que todavía alguno a lo mejor se está arrancando, pues Power Query se utiliza más cuando tenemos más que un enfoque a integrar, un enfoque de Business Intelligence que se pueda reproducir de una manera muy fácilmente reproducible, ese tipo de dashboard y fácilmente auditable. Oye, esto sale, esto que raro, ¿no será que hemos hecho una transformación mal? Bueno, pues una cosa es muy fácil en Power Query, veréis que es súper fácil de verlo, muy visual. En Tableau Prep nos da mucha claridad en los flujos de, oye, es que de aquí paso aquí, de aquí hago esta otra transformación, cómo están conectadas las cosas. Y nos dan unos, para perfiles de datos es también muy útil y muy indicado. Y Python IR, pues lo que te da es flexibilidad, escalabilidad, automatización. Si trabajamos con cantidades muy grandes de datos, es que, por ejemplo, las tablas de Excel, pues Excel tiene un límite de número que ahora nos parece muy grande, pero yo he trabajado con bases de datos que tienen más líneas que un fichero de Excel. Bueno, pues ese tipo de cosas también hay que manejarlo. Y bueno, pues determinados perfiles profesionales prefieren trabajar con esas cosas. Esto, y esto también no entra en el examen Esto de no examen lo podía haber metido En alguna diapositiva más Pero bueno, lo he ido diciendo Para el que Esté ya en modo práctica O avanzado, o cuando acabéis El curso, os veáis Potentes como para hacer más cosas Si queréis tirar, os propongo Un pasito más Y es una práctica, cogéis Una, independientemente De la herramienta herramienta, que sea de las visuales o sea con código, pues el control de calidad es fundamental y podéis probar hacer este tipo de cosas y os recomiendo, por ejemplo, en código, cuál es la librería que se utiliza para esto y que permite definir esquemas de validación o en R esos paquetes. Y bueno, pues no me enrollo porque es un poco contar, el que quiera cacharrear tiene oportunidad de hacerlo. Que siempre probablemente, a lo mejor en las clases anteriores, me he estado quedando un poco ajustado en que no os sintierais, pero también es cierto que hay gente que ya tiene experiencia y que además incluso a lo mejor prefiere ser más libre él o ir más a su aire. Y conclusiones de esta parte, para que nos quede tiempo para ver esa otra parte visualizada. Pues no lo sé, no sé por qué lo pregunto. ¿Cuál es la versión de Python para que estéis utilizando las mismas que en otras asignaturas? Le tendría que preguntar a la coordinadora y efectivamente se puede y con seguridad utilizaréis Collab, que es una de las cuestiones que desde Google ejecutáis las cosas y os las hace sin ningún problema. Conclusiones Las conclusiones claves serían que el preprocesamiento es la fase más intensiva y más crítica desde el punto de vista de tiempo que es como decíamos del orden del 70% del tiempo en un problema o en un proyecto de visualización El principio de Tidy Data Grabado aquí en la cabeza es variable, cada variable es una columna, cada observación una fila. Es el estándar para un análisis eficiente. Herramientas visuales, Power Query y Tableau Prep, que permiten transformaciones y permiten transformaciones complejas. No es que esto sea para dummies y el código sea para expertos. No, no. Hay expertos que trabajan con eso, permite transformaciones muy complejas y sobre todo la trazabilidad nos la va dando un poco por defecto. Y las técnicas clave de limpieza incluyen estandarización, como puede ser corrección de casos, ortografía, etcétera, estructuración, como puede ser división de una columna en varias, como puede ser en varias o pivotar las columnas, el tiny data que estábamos viendo, etcétera. Y ahora vamos a ver una práctica. La analogía, un poco para que lo tengáis claro, todo esto que hemos estado viendo hoy es como si yo ahora mismo fuera un chef de un restaurante fabuloso y me voy a poner a hacer una receta. Voy a hacer un maravilloso pastel de chocolate, que lo veis arriba y veis el pastel de chocolate y todos los ingredientes. Bueno, para empezar, cuando un chef se pone a preparar un plato, no coge, o bueno, lo primero que hace es, si necesito la cebolla picadita, cojo la cebolla y la pico, no cojo y le echo una cebolla sin pelar. Y pues en la tarta de chocolate, pues lo que tenemos es, en nuestro caso, nuestra visualización. ¿Qué es lo que queremos tener? Nuestra visualización sería, como proyecto, el tener la tarta de chocolate. Nuestro dashboard es la tarta de chocolate. Y lo que queremos es un plato complejo de hacer y decimos, no, pero es que necesito 150 mililitros de leche. Pues ya lo tengo ahí en un vasito separado. Tres huevos, ahí los tengo. No sé cuántos gramos de chocolate para derretir, ahí lo tengo. No sé cuántos gramos de mantequilla, cada una de las cosas. No sé cuánto de azúcar, ya lo tengo separado. y así luego cojo y me puedo poner a hacer la receta y así es tan fácil como coger y decir y ahora lo pongo, lo mezclo, lo hago no sé cuánto y lo pongo al horno no sé cuántos minutos si lo tengo todo por ahí deslavazado como es y era un poquito lo que pretendía representar que le he pedido al Gemini que me creara estas dos imágenes para verlo, son exactamente los mismos ingredientes pero hechos un lío si de repente yo lo que tengo es esto el tetrabric ahí, la leche en el tetrabric no tengo manera de medirlo, los huevos uno se me ha roto, lo que tengo ahí ya no sé si es azúcar o es sal, lo que voy a hacer probablemente sea una chapuza y no voy a hacer absolutamente nada. Y en estos minutos, de todos modos, os voy a enseñar el ejemplo que quería hacer, pero que sepáis que está también, os lo voy a enseñar sobre el Power BI, sobre mi Power BI, que ahora mismo comparto, ¿vale? Voy a compartir mi pantalla con el Power BI que está arrancando, pero de todos modos, si me quedara corto de tiempo, que no va a ser porque es muy rápido lo que quiero hacer, lo vais a poder ver porque estos mismos pasos que voy a dar sobre el Power BI los tenéis en una presentación que va a estar junto con la presentación de la clase de hoy. ¿Vale? Y está paso a paso y pantalla a pantalla. Espera que tengo que compartir el Power BI. ¿Dónde tengo el Power BI? Aquí está. A ver. ¿Estáis viendo mi... ¿Estáis viendo mi pantalla de Power BI? Sí, se ve. en la presentación. No es esto. Directamente le digo que es un Excel y pues aquí tengo una serie de orígenes de datos. El otro día alguien me decía es que no me salen las mismas cosas de lo que enseñó el primer día. Eso es porque utilicé esta base de datos porque todavía no tenía la vuestra. Todavía no tenía la de Adventure Work Sales, que es la vuestra. Y utilicé esta que era de bicis. Cojo Adventure Work Sales, que es la vuestra, Y le digo a abrir. Vale. Hasta aquí, que todas las cosas difíciles sean así. Pues cojo, por ejemplo, de todas las cosas que tengo por aquí, que es una de las cuestiones que tendréis que elegir, pues voy a trabajar con una de estas o voy a trabajar con dos de estas. O, ¿vale? Pues cojo, por ejemplo, esta de Sales Data. Uno de los pasos que el otro día os decía y en el paso a paso os contaba era, directamente me marca el cargar, pero no tengo que darle a cargar, sino que tengo que darle a transformar datos. Le doy a transformar datos. Y veis que, y ahora esperar porque creo que probablemente, un segundito, porque, ah bueno, estáis viendo ahora ya la nueva pantalla que tiene un montón de datos, ¿no? Sí, vale, porque si os dais cuenta aquí ya dice editor de Power Query eso es lo que hemos hecho, hemos pasado con ese pasito, hemos pasado a Power Query vale, cosas que podemos hacer, pues primero de todo, y para que los datos, pues veis que aquí a la derecha, fundamental, lo que os decía antes del paso a paso, ya me dice directamente que he hecho origen, me he puesto por ahí, he sacado y me he puesto a navegar por esto. Y entonces yo voy a cambiarle el nombre. Imaginaros, por ejemplo, que le voy a dar el nuevo nombre que le doy es, yo qué sé, datos de facturación. Facturación, datos. ¿Vale? Directamente lo que acabo de hacer es que toda esta tabla que tengo ya no se va a llamar como se llamaba Sales Data. Esto ya se llama y lo que voy a trabajar con ello ya se llama de esta otra nueva manera. siguiente cosa que puedo hacer pues vamos a empezar a limpiar veo por aquí por ejemplo por ejemplo a ver qué columna podría buscar que esté customer y customer que veo que tengo aquí un montón de menos unos no esto es porque en esa base de datos el menos uno en este caso el menos uno es el nulo vale pues directamente yo le doy aquí customer key vale estoy ahí le doy a esto y le digo quítame los que ponga menos uno le doy a aceptar y automáticamente veis que sigo teniendo la customer key pero ya no tengo menos uno acabo de quitarle, ahí los nulos o los vacíos los tenía con menos uno. Imaginaros que ahora cojo y digo, ah, pues mira, aquí también tengo un montón de menos unos. Pues aquí cojo y digo, pues venga, voy a quitar también los menos uno. Y digo, a aceptar. A ver. ¡Ostras! ¿Qué ha pasado? Me acabo de cargar. ¿Por qué? Pues porque una vez quitado lo otro, resulta que el reseller key, este, eran todos menos uno. Pues dice, ostras, espera, espera, la he fastidiado con este último paso, vengo aquí, habéis visto que aquí me dice que he filtrado filas, voy a coger, cojo el último, le doy a eliminar y vuelvo para atrás. Es tan fácil y tan bueno como eso. Otra de las Lo que digo, aquí a la derecha A la derecha, todos los pasos Eso es lo bueno y lo que Puedo tener documentado Y lo tengo todo eso Perfectamente visto Otra cuestión que podría ir, pues mira Me voy, veo que tengo aquí El Order data key Date key Esto es una fecha Es la fecha de la orden de venta que lo estaba haciendo. Entonces, aquí, en esta columna, una de las cuestiones que puedo hacer es que puedo ponerlo, me lo ha puesto, me viene un año, un mes y un día. ¿Vale? Pues yo podría coger y directamente, si veis aquí hay un 123 ahí, que es ese 123, lo que me permite es decir, coger el formato de esta columna ¿Vale? El formato de esta columna que ahora mismo está como un número, yo puedo decir, pues fecha Y veréis que otra vez la he fastidiado. ¿Por qué? Pues porque tenía un número y efectivamente no me reconoce que ese número se convierta en una fecha. ¿Cómo tengo que hacerlo? Pues primero tendría que transformarlo, que lo puedo transformar. Transformar, ¿vale? Una de las cuestiones que puedo hacer es... ¿Cómo era? ¿Cómo era transformar? Me despistaba ahora. Ah, vale, me lo voy a poner y lo voy a poner como texto, ¿vale? Y ahora con texto sí que yo le puedo decir y le digo que me lo coloque como fecha. Y me dice, ¿quieres que te sustituya la columna actual o quieres que añada un nuevo paso? Pues por si acaso me equivoco, voy a añadir un nuevo paso. Y directamente veis que lo que ha hecho es que me ha añadido el order date key, ya lo tengo en formato fecha. Este tipo de cosas es lo primero que tendríais que hacer. Ahora mismo, con los cambios que ya haya hecho, con mi columna que se llama aquí, en vez de fact datos, le voy a llamar fact ventas. Pues directamente, si me voy aquí, ya puedo directamente cerrar y aplicar. aplicar. Que veis aquí, arriba a la izquierda. Si le doy a cerrar y aplicar, directamente me guarda esto. No le voy a dar porque entonces me lo guardaría a mí de esta manera y no quiero. Pues esto es básicamente lo que el próximo día vamos a ver. Así podéis empezar a transformar y a trabajar vuestras columnas, eliminando las que nos interesen, cambiándoles los nombres y todo esto. y dejo de compartir porque la clase ya se ha acabado y me he pasado un minuto, yo que quería hoy haberlo hecho efectivamente hay más caminos y hay más maneras de hacer las cosas de hecho cada maestrillo tiene su librillo y de cada una como os decía ahora ya no estáis viendo el compartido se supone que me estáis viendo pues eso, veo que hay una pregunta Profe, buenas tardes me han preguntado, usted nos dice que para la próxima vamos a trabajar con ese programa ¿usted nos va a proporcionar alguna base de datos? La base de datos ya la tenéis claro, es la que tenéis, Adventure Works Adventure Works de Sales Sí, sí. Es con la que acabo de estar trabajando. Es con esa con la que tenéis que trabajar. Ok, sí. Siguiente pregunta que no sé quién... Verónica. Sí. Profesor, una consulta. Usted había hecho relación que en Power BI se podía trabajar con Python y en Tableau con R. ¿Eso significa que se puede hacer los dos lenguajes en cualquiera de las dos aplicaciones o tiene una relación directa? Normalmente suele tener más relación. En realidad se puede con todo, porque estás ejecutando, o sea, tanto Python como R son unos lenguajes aparte. Lo que pasa es que es más fácil ver las librerías que hay disponibles de R tienen un concepto más similar a como tienen las cosas pensadas Tableau y las de Python tienen más relación con las que tiene Power BI. ¿vale? pero se puede con Python podéis hacer todo y con R podéis hacer todo igual que con Power BI y con Tableau, lo que pasa es que bueno tiene más similitudes, sobre todo porque normalmente cuando se hacen trabajos de estos, no lo programas tú desde cero, sino que tiras de librerías ya hechas pero por ejemplo en R hay librerías que trabajan con cosas de Power BI y también tiene librerías para trabajar con cosas de Tableau También, también, también. Ok. Gracias. Nada. Y siguiente veo por ahí Rafael, ¿puede ser? Sí, profesor, ¿cómo está? Buenas tardes. Muy buenas. La próxima clase creo que se va a presentar la actividad número uno. Y estaba revisando, no sé si lo han, o sea, recogido. Ahora estoy despistado, pero probablemente. si me lo estáis diciendo, ahora mismo no tengo la programación aquí a la vista, os lo pongo en el foro ¿vale? Sí, porque también estaba viendo ahí que se tiene que hacer como un dashboard y bueno como que está un poquito avanzado lo que estamos haciendo ahora pero sí, estaba viéndolo bien y en la parte del Word que sale de la actividad, hay una parte que dice que tengo que adjuntar capturas en pantalla cuando uso el IA ¿es necesario eso? Sí, sí, sí, si utilizáis IA, sí Ok, pero eso sí puede ser tanto, se adjunta el work junto con el archivo del Sí, sí, en el archivo, lo único tener en cuenta los formatos que os han dado y las extensiones ¿vale? Pero sí, sí, os va a ayudar mucho la IA os va a ayudar mucho para esto y lo bueno es que en esta actividad la podéis utilizar ¿de acuerdo? ok como digo cuelgo todo esto bueno, ya está colgado, ya podéis ver las dos presentaciones y en cuanto cierre de grabar esto, empezará a procesarse para que podáis ver la grabación de la clase de hoy, ¿de acuerdo? pues nada, muchas gracias y nos vemos la semana que viene Chao, profe, bye Chao, bye Profesor, muchas gracias, que pase buen día Igualmente
